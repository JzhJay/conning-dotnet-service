/*! For license information please see wijmo.chart.finance.analytics.js.LICENSE.txt */
var wijmo,__extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();!function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";function i(e){return isFinite(e)&&!isNaN(e)&&t.isNumber(e)}var a=function(e){function i(i){var a=e.call(this)||this;return a._levels=[0,23.6,38.2,50,61.8,100],a._uptrend=!0,a._labelPosition=t.chart.LabelPosition.Left,a.rendering.addHandler(a._render),a.initialize(i),a}return __extends(i,e),Object.defineProperty(i.prototype,"low",{get:function(){return this._low},set:function(e){e!=this._low&&(this._low=t.asNumber(e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"high",{get:function(){return this._high},set:function(e){e!=this._high&&(this._high=t.asNumber(e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){(e=t.asEnum(e,t.chart.LabelPosition,!0))!=this._labelPosition&&(this._labelPosition=e,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"uptrend",{get:function(){return this._uptrend},set:function(e){e!=this._uptrend&&(this._uptrend=t.asBoolean(e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"levels",{get:function(){return this._levels},set:function(e){e!=this._levels&&(this._levels=t.asArray(e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minX",{get:function(){return this._minX},set:function(t){t!=this._minX&&(this._minX=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this._maxX},set:function(t){t!=this._maxX&&(this._maxX=t,this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getMinX=function(){return t.isNumber(this._minX)?this._minX:t.isDate(this._minX)?t.asDate(this._minX).valueOf():this._getAxisX().actualMin},i.prototype._getMaxX=function(){return t.isNumber(this._maxX)?this._maxX:t.isDate(this._maxX)?t.asDate(this._maxX).valueOf():this._getAxisX().actualMax},i.prototype._updateLevels=function(){var t=void 0,i=void 0;if(void 0===this._low||void 0===this._high){var a=e.prototype.getValues.call(this,0),s=e.prototype.getValues.call(this,1);if(a)for(var n=a.length,r=this._getMinX(),l=this._getMaxX(),h=0;h<n;h++){var o=a[h],c=s?s[h]:h;c<r||c>l||isNaN(o)||((void 0===t||t>o)&&(t=o),(void 0===i||i<o)&&(i=o))}}void 0===this._low&&void 0!==t?this._actualLow=t:this._actualLow=this._low,void 0===this._high&&void 0!==i?this._actualHigh=i:this._actualHigh=this._high},i.prototype._render=function(e,i){i.cancel=!0;var a=e;a._updateLevels();var s=a._getAxisX(),n=a._getAxisY(),r=i.engine,l=a._getSymbolStroke(a._chart.series.indexOf(a)),h=t.chart._BasePlotter.cloneStyle(a.style,["fill"]),o=t.chart._BasePlotter.cloneStyle(a.style,["stroke"]),c=a.chart._plotrectId;r.stroke=l,r.strokeWidth=2,r.textFill=l;var u=a._getMinX(),_=a._getMaxX();u<s.actualMin&&(u=s.actualMin),_>s.actualMax&&(_=s.actualMax),r.startGroup(null,c);for(var p=a._levels?a._levels.length:0,d=0;d<p;d++){var g=a._levels[d],f=s.convert(u),y=s.convert(_),m=a.uptrend?n.convert(a._actualLow+.01*g*(a._actualHigh-a._actualLow)):n.convert(a._actualHigh-.01*g*(a._actualHigh-a._actualLow));if(t.chart._DataInfo.isValid(f)&&t.chart._DataInfo.isValid(y)&&t.chart._DataInfo.isValid(m)&&(r.drawLine(f,m,y,m,null,h),a.labelPosition!=t.chart.LabelPosition.None)){var v=g.toFixed(1)+"%",V=0;switch((a.uptrend&&0==d||!a.uptrend&&d==p-1)&&(V=2),a.labelPosition){case t.chart.LabelPosition.Left:t.chart.FlexChartCore._renderText(r,v,new t.Point(f,m),0,V,null,null,o);break;case t.chart.LabelPosition.Center:t.chart.FlexChartCore._renderText(r,v,new t.Point(.5*(f+y),m),1,V,null,null,o);break;case t.chart.LabelPosition.Right:t.chart.FlexChartCore._renderText(r,v,new t.Point(y,m),2,V,null,null,o)}}}r.stroke=null,r.strokeWidth=null,r.textFill=null,r.endGroup()},i.prototype._getChartType=function(){return t.chart.ChartType.Line},i}(t.chart.SeriesBase);e.Fibonacci=a;var s=function(e){function a(i){var a=e.call(this)||this;return a._levels=[38.2,50,61.8],a._labelPosition=t.chart.LabelPosition.Top,a.rendering.addHandler(a._render,a),a.initialize(i),a}return __extends(a,e),Object.defineProperty(a.prototype,"start",{get:function(){return this._start},set:function(e){e!==this.start&&(this._start=t.asType(e,t.chart.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._end},set:function(e){e!==this.end&&(this._end=t.asType(e,t.chart.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"levels",{get:function(){return this._levels},set:function(e){e!==this._levels&&(this._levels=t.asArray(e,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){(e=t.asEnum(e,t.chart.LabelPosition))!==this.labelPosition&&(this._labelPosition=e,this._invalidate())},enumerable:!0,configurable:!0}),a.prototype._render=function(a,s){s.cancel=!0;var n=this._getX(0),r=this._getY(0),l=this._getX(1),h=this._getY(1);if(!(e.prototype._getLength.call(this)<=1)&&i(n)&&i(r)&&i(l)&&i(h)){var o,c=this._getAxisX(),u=this._getAxisY(),_=s.engine,p=this.chart.series.indexOf(this),d=this._getSymbolStroke(p),g=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),f=t.chart._BasePlotter.cloneStyle(this.style,["stroke"]);_.stroke=d,_.strokeWidth=2,_.textFill=d;var y,m,v,V,b,x,P,w,k,L=this.chart._plotrectId,X=h-r;o=_.startGroup(null,L),t.addClass(o,"fibonacci-arcs"),i(n)&&i(r)&&i(l)&&i(h)&&_.drawLines([c.convert(n),c.convert(l)],[u.convert(r),u.convert(h)],null,g),V=Math.sqrt(Math.pow(c.convert(l)-c.convert(n),2)+Math.pow(u.convert(h)-u.convert(r),2)),x=new t.Point(l,h);for(var M=0;M<this.levels.length;M++)if(P=.01*this.levels[M],b=Math.abs(V*P),i(x.x)&&i(x.y)&&i(b)&&(y=c.convert(x.x),m=u.convert(x.y),_.drawDonutSegment(y,m,b,b,X>0?0:Math.PI,Math.PI,null,g),this.labelPosition!==t.chart.LabelPosition.None&&0!==P)){switch(k=t.Globalize.format(P,"p1"),w=_.measureString(k,null,null,f),v=X<=0?m-b:m+b,this.labelPosition){case t.chart.LabelPosition.Center:v+=.5*w.height;break;case t.chart.LabelPosition.Bottom:v+=X<=0?w.height:0;break;default:v+=X<=0?0:w.height}_.drawString(k,new t.Point(y-.5*w.width,v),null,f)}_.stroke=null,_.strokeWidth=null,_.textFill=null,_.endGroup()}},a.prototype._getX=function(e){var i=null;return 0===e&&this.start?i=this.start.x:1===e&&this.end&&(i=this.end.x),t.isDate(i)&&(i=t.asDate(i).valueOf()),i},a.prototype._getY=function(t){var e=null;return 0===t&&this.start?e=this.start.y:1===t&&this.end&&(e=this.end.y),e},a.prototype._getChartType=function(){return t.chart.ChartType.Line},a}(t.chart.SeriesBase);e.FibonacciArcs=s;var n=function(e){function a(i){var a=e.call(this)||this;return a._levels=[0,23.6,38.2,50,61.8,100],a._labelPosition=t.chart.LabelPosition.Top,a.rendering.addHandler(a._render,a),a.initialize(i),a}return __extends(a,e),Object.defineProperty(a.prototype,"start",{get:function(){return this._start},set:function(e){e!==this.start&&(this._start=t.asType(e,t.chart.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._end},set:function(e){e!==this.end&&(this._end=t.asType(e,t.chart.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"levels",{get:function(){return this._levels},set:function(e){e!==this._levels&&(this._levels=t.asArray(e,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){(e=t.asEnum(e,t.chart.LabelPosition))!==this.labelPosition&&(this._labelPosition=e,this._invalidate())},enumerable:!0,configurable:!0}),a.prototype._updateLevels=function(){if(!this.start||!this.end){var a,s,n,r,l=this.chart._getPlotter(this),h=this._getAxisX(),o=e.prototype.getValues.call(this,0),c=e.prototype.getValues.call(this,1)||l.dataInfo.getXVals();o&&o.length>0&&(n=t.chart.finance._minimum(o),r=t.chart.finance._maximum(o)),c&&c.length>0?(a=t.chart.finance._minimum(c),s=t.chart.finance._maximum(c)):(a=h.actualMin,s=h.actualMax),i(a)&&i(n)&&i(s)&&i(r)&&(this.start=new t.chart.DataPoint(a,n),this.end=new t.chart.DataPoint(s,r))}},a.prototype._render=function(a,s){s.cancel=!0,this._updateLevels();var n=this._getX(0),r=this._getY(0),l=this._getX(1),h=this._getY(1);if(!(e.prototype._getLength.call(this)<=1)&&i(n)&&i(r)&&i(l)&&i(h)){var o=this._getAxisX(),c=this._getAxisY(),u=this.chart.series.indexOf(this),_=s.engine,p=this._getSymbolStroke(u),d=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),g=t.chart._BasePlotter.cloneStyle(this.style,["stroke"]);_.stroke=p,_.strokeWidth=2,_.textFill=p;var f,y,m,v,V,b,x,P,w,k,L,X,M,I=h-r,B=l-n,C=this.chart._plotrectId;f=n,m=r,v=h;var O=y=l;_.startGroup(null,C);for(var j=0;j<this.levels.length;j++)if(y=B<0?o.actualMin:o.actualMax,v=(P=((v=m+(k=.01*this.levels[j])*I)-m)/(O-f))*y+(w=v-P*O),I>0&&v>c.actualMax?y=((v=c.actualMax)-w)/P:I<0&&v<c.actualMin&&(y=((v=c.actualMin)-w)/P),i(f)&&i(m)&&i(y)&&i(v)&&(V=new t.Point(o.convert(f),c.convert(m)),b=new t.Point(o.convert(y),c.convert(v)),_.drawLines([V.x,b.x],[V.y,b.y],null,d),this.labelPosition!=t.chart.LabelPosition.None)){L=t.Globalize.format(k,"p1"),X=_.measureString(L,null,null,g),M=180*Math.atan((b.y-V.y)/(b.x-V.x))/Math.PI,x=b.clone(),b.x=B>0?b.x-X.width:b.x;var D,S=M*Math.PI/180,Y=new t.Point,A=new t.Point,T=new t.Point,W=new t.Point,N=c.convert(c.actualMin),z=c.convert(c.actualMax),R=o.convert(o.actualMin),F=o.convert(o.actualMax),H=x.clone();switch(this.labelPosition){case t.chart.LabelPosition.Center:b.y+=.5*X.height,H.y+=.5*X.height;break;case t.chart.LabelPosition.Bottom:b.y+=X.height}B>0?(this.labelPosition===t.chart.LabelPosition.Top||this.labelPosition===t.chart.LabelPosition.Center?(W=H.clone(),T.x=W.x+X.height*Math.sin(S),T.y=W.y-X.height*Math.cos(S),Y.x=W.x-X.width*Math.cos(S)+X.height*Math.sin(S),Y.y=W.y-X.width*Math.sin(S)-X.height*Math.cos(S),A.x=W.x-X.width*Math.cos(S),A.y=W.y-X.width*Math.sin(S)):this.labelPosition===t.chart.LabelPosition.Bottom&&(T=H.clone(),Y.x=T.x-X.width*Math.cos(S),Y.y=T.y-X.width*Math.sin(S),A.x=Y.x-X.height*Math.sin(S),A.y=Y.y+X.height*Math.cos(S),W.x=Y.x+X.width*Math.cos(S)-X.height*Math.sin(S),W.y=Y.y+X.width*Math.sin(S)+X.height*Math.cos(S)),I>0?(T.y<z&&(P=(c.convertBack(T.y)-c.convertBack(Y.y))/(o.convertBack(T.x)-o.convertBack(Y.x)),w=c.convertBack(T.y)-P*o.convertBack(T.x),D=o.convert((c.actualMax-w)/P),b.x-=Math.abs(T.x-D)),W.x>F&&(b.x-=Math.abs(F-W.x))):I<0&&(W.y>N&&(P=(c.convertBack(A.y)-c.convertBack(W.y))/(o.convertBack(A.x)-o.convertBack(W.x)),w=c.convertBack(W.y)-P*o.convertBack(W.x),D=o.convert((c.actualMin-w)/P),b.x-=Math.max(Math.abs(D-W.x),Math.abs(N-W.y))),T.x>F&&(b.x-=Math.abs(F-T.x)))):B<0&&(this.labelPosition===t.chart.LabelPosition.Top||this.labelPosition===t.chart.LabelPosition.Center?(A=H.clone(),Y.x=A.x+X.height*Math.sin(S),Y.y=A.y-X.height*Math.cos(S),W.x=A.x+X.width*Math.cos(S),W.y=A.y+X.width*Math.sin(S),T.x=Y.x+X.width*Math.cos(S),T.y=Y.y+X.width*Math.sin(S)):this.labelPosition===t.chart.LabelPosition.Bottom&&(Y=H.clone(),T.x=Y.x+X.width*Math.cos(S),T.y=Y.y+X.width*Math.sin(S),A.x=Y.x-X.height*Math.sin(S),A.y=Y.y+X.height*Math.cos(S),W.x=Y.x+X.width*Math.cos(S)-X.height*Math.sin(S),W.y=Y.y+X.width*Math.sin(S)+X.height*Math.cos(S)),I>0?(Y.y<z&&(P=(c.convertBack(Y.y)-c.convertBack(T.y))/(o.convertBack(Y.x)-o.convertBack(T.x)),w=c.convertBack(Y.y)-P*o.convertBack(Y.x),D=o.convert((c.actualMax-w)/P),b.x+=Math.abs(Y.x-D)),A.x<R&&(b.x+=Math.abs(R-A.x))):I<0&&(A.y>N&&(P=(c.convertBack(W.y)-c.convertBack(A.y))/(o.convertBack(W.x)-o.convertBack(A.x)),w=c.convertBack(A.y)-P*o.convertBack(A.x),D=o.convert((c.actualMin-w)/P),b.x+=Math.max(Math.abs(D-A.x),Math.abs(N-A.y))),Y.x<R&&(b.x+=Math.abs(R-Y.x)))),isFinite(b.x)&&isFinite(b.y)&&(0===M?_.drawString(L,b,null,g):_.drawStringRotated(L,b,x,M,null,g))}_.stroke=null,_.strokeWidth=null,_.textFill=null,_.endGroup()}},a.prototype._getX=function(e){var i=null;return 0===e&&this.start?i=this.start.x:1===e&&this.end&&(i=this.end.x),t.isDate(i)&&(i=t.asDate(i).valueOf()),i},a.prototype._getY=function(t){var e=null;return 0===t&&this.start?e=this.start.y:1===t&&this.end&&(e=this.end.y),e},a.prototype._getChartType=function(){return t.chart.ChartType.Line},a}(t.chart.SeriesBase);e.FibonacciFans=n;var r=function(e){function a(i){var a=e.call(this)||this;return a._levels=[0,1,2,3,5,8,13,21,34],a._labelPosition=t.chart.LabelPosition.Right,a.rendering.addHandler(a._render,a),a.initialize(i),a}return __extends(a,e),Object.defineProperty(a.prototype,"startX",{get:function(){return this._startX},set:function(e){e!==this.startX&&(t.isDate(e)?this._startX=t.asDate(e):this._startX=t.asNumber(e),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endX",{get:function(){return this._endX},set:function(e){e!==this.endX&&(t.isDate(e)?this._endX=t.asDate(e):this._endX=t.asNumber(e),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"levels",{get:function(){return this._levels},set:function(e){e!==this._levels&&(this._levels=t.asArray(e,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){(e=t.asEnum(e,t.chart.LabelPosition))!==this.labelPosition&&(this._labelPosition=e,this._invalidate())},enumerable:!0,configurable:!0}),a.prototype._render=function(a,s){s.cancel=!0,this._updateLevels();var n=this._getX(0),r=this._getX(1);if(!(e.prototype._getLength.call(this)<=1)&&i(n)&&i(r)){var l,h,o,c,u=r-n,_=this._getAxisX(),p=this._getAxisY(),d=this._chart.series.indexOf(this),g=s.engine,f=this._getSymbolStroke(d),y=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),m=t.chart._BasePlotter.cloneStyle(this.style,["stroke"]),v=p.convert(p.actualMin),V=p.convert(p.actualMax),b=this.chart._plotrectId;if(g.stroke=f,g.strokeWidth=2,g.textFill=f,0!==u){g.startGroup(null,b);for(var x=0;x<this.levels.length;x++)if(!((h=u*(l=this.levels[x])+n)<_.actualMin||_.actualMax<h)&&i(h)&&(h=_.convert(h),g.drawLine(h,v,h,V,null,y),this.labelPosition!==t.chart.LabelPosition.None)){switch(c=t.Globalize.format(l,"n0"),o=g.measureString(c,null,null,m),this.labelPosition){case t.chart.LabelPosition.Left:h-=o.width+2;break;case t.chart.LabelPosition.Center:h-=o.width/2;break;case t.chart.LabelPosition.Right:h+=2;break;default:h=u<0?h-o.width-2:h+2}g.drawString(c,new t.Point(h,v),null,m)}g.stroke=null,g.strokeWidth=null,g.textFill=null,g.endGroup()}}},a.prototype._updateLevels=function(){var i=this.chart._getPlotter(this),a=e.prototype.getValues.call(this,1)||i.dataInfo.getXVals();if(!(e.prototype._getLength.call(this)<=1)){var s=this._getX(0),n=this._getX(1),r=t.isNumber(s)&&t.isNumber(n);r||a?!r&&a&&(this._startX=a[0],this._endX=a[1]):(this._startX=0,this._endX=1)}},a.prototype._getX=function(e){var i=null;return 0===e?i=this.startX:1===e&&(i=this.endX),t.isDate(i)&&(i=t.asDate(i).valueOf()),i},a.prototype._getChartType=function(){return t.chart.ChartType.Line},a}(t.chart.SeriesBase);e.FibonacciTimeZones=r}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this,t)||this;return i._seriesCount=1,i}return __extends(i,e),Object.defineProperty(i.prototype,"_hitTester",{get:function(){return this._plotter&&!this.__hitTester&&(this.__hitTester=this._plotter.hitTester),this.__hitTester},enumerable:!0,configurable:!0}),i.prototype._getChartType=function(){return t.chart.ChartType.Line},i.prototype._getXValues=function(){return e.prototype.getValues.call(this,1)||this._plotter.dataInfo.getXVals()},i.prototype._getDataPoint=function(e,i,a,s,n,r){var l=new t.chart._DataPoint(a,s,e,i);return l.y=i,l.yfmt=r._formatValue(i),l.x=e,l.xfmt=n._formatValue(e),l},i.prototype._shouldCalculate=function(){return!0},i.prototype._init=function(){},i.prototype._calculate=function(){},i.prototype._clearValues=function(){e.prototype._clearValues.call(this),this.__hitTester=null},i.prototype._getName=function(t){var e=void 0;if(this.name)if(this.name.indexOf(",")){var i=this.name.split(",");i&&i.length-1>=t&&(e=i[t].trim())}else e=this.name;return e},i.prototype._getStyles=function(t){var e=null;if(t<0||null===this._styles)return e;var i=0;for(var a in this._styles){if(i===t&&this._styles.hasOwnProperty(a)){e=this._styles[a];break}i++}return e},i.prototype.legendItemLength=function(){return this._seriesCount},i.prototype.measureLegendItem=function(e,i){var a=this._getName(i),s=new t.Size(0,0);return a&&(s=this._measureLegendItem(e,this._getName(i))),s},i.prototype.drawLegendItem=function(t,e,i){var a=this._getStyles(i)||this.style;this._getName(i)&&this._drawLegendItem(t,e,this._getChartType(),this._getName(i),a,this.symbolStyle)},i}(t.chart.SeriesBase);e.OverlayIndicatorBase=i;var a=function(e){function i(t){var i=e.call(this,t)||this;return i._period=14,i}return __extends(i,e),Object.defineProperty(i.prototype,"period",{get:function(){return this._period},set:function(e){e!==this._period&&(this._period=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getValues=function(t){var i=null;return e.prototype._getLength.call(this)<=0||(this._shouldCalculate()&&(this._init(),this._calculate()),0===t?i=this._yvals:1===t&&(i=this._xvals)),i},i.prototype.getDataRect=function(i,a){if(a)return a;var s=null;if(e.prototype._getLength.call(this)<=0)return s;this._shouldCalculate()&&(this._init(),this._calculate());var n=t.chart.finance._minimum(this._xvals),r=t.chart.finance._maximum(this._xvals),l=t.chart.finance._minimum(this._yvals),h=t.chart.finance._maximum(this._yvals);return t.chart._DataInfo.isValid(n)&&t.chart._DataInfo.isValid(r)&&t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)&&(s=new t.Rect(n,l,r-n,h-l)),s},i.prototype._clearValues=function(){e.prototype._clearValues.call(this),this._xvals=null,this._yvals=null},i.prototype._shouldCalculate=function(){return!this._yvals||!this._xvals},i.prototype._init=function(){e.prototype._init.call(this),this._yvals=[],this._xvals=[]},i.prototype._getItem=function(i){return e.prototype._getLength.call(this)<=0||(this._shouldCalculate()&&(this._init(),this._calculate()),i=e.prototype._getLength.call(this)-t.chart.finance._minimum(this._yvals.length,this._xvals.length)+i),e.prototype._getItem.call(this,i)},i}(i);e.SingleOverlayIndicatorBase=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i.period=14,i.initialize(t),i}return __extends(i,e),i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(i<=0)){var s=e.prototype._getBindingValues.call(this,0),n=e.prototype._getBindingValues.call(this,1),r=e.prototype._getBindingValues.call(this,3),l=this._getXValues();this._yvals=a(s,n,r,this.period),this._xvals=l?l.slice(this.period-1):t.chart.finance._range(this.period-1,i-1)}},i}(e.SingleOverlayIndicatorBase);function a(e,i,a,s){t.asArray(e,!1),t.asArray(i,!1),t.asArray(a,!1),t.asInt(s,!1,!0);var n,r=t.chart.finance._minimum(e.length,i.length,a.length),l=[],h=[],o=[];for(t.assert(r>s&&s>1,"Williams %R period must be an integer less than the length of the data and greater than one."),n=s;n<=e.length;n++)l.push(t.chart.finance._maximum(e.slice(n-s,n))),h.push(t.chart.finance._minimum(i.slice(n-s,n)));for(a.splice(0,s-1),n=0;n<l.length;n++)o.push((l[n]-a[n])/(l[n]-h[n])*-100);return o}e.WilliamsR=i,e._williamsR=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i._kPeriod=14,i._dPeriod=3,i._smoothingPeriod=1,i._seriesCount=2,i.rendering.addHandler(i._rendering,i),i.initialize(t),i}return __extends(i,e),Object.defineProperty(i.prototype,"kPeriod",{get:function(){return this._kPeriod},set:function(e){e!==this._kPeriod&&(this._kPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dPeriod",{get:function(){return this._dPeriod},set:function(e){e!==this._dPeriod&&(this._dPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smoothingPeriod",{get:function(){return this._smoothingPeriod},set:function(e){e!==this._smoothingPeriod&&(this._smoothingPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"styles",{get:function(){return this._styles},set:function(t){t!==this._styles&&(this._styles=t,this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getDataRect=function(i,a){if(a)return a;var s=null;if(e.prototype._getLength.call(this)<=0)return s;this._shouldCalculate()&&(this._init(),this._calculate());var n=this._kVals.concat(this._dVals),r=this._kXVals.concat(this._dXVals),l=t.chart.finance._minimum(r),h=t.chart.finance._maximum(r),o=t.chart.finance._minimum(n),c=t.chart.finance._maximum(n);return t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)&&t.chart._DataInfo.isValid(o)&&t.chart._DataInfo.isValid(c)&&(s=new t.Rect(l,o,h-l,c-o)),s},i.prototype._clearValues=function(){e.prototype._clearValues.call(this),this._kVals=null,this._kXVals=null,this._dVals=null,this._dXVals=null},i.prototype._shouldCalculate=function(){return!(this._kVals&&this._kXVals&&this._dVals&&this._dXVals)},i.prototype._init=function(){e.prototype._init.call(this),this._kVals=[],this._kXVals=[],this._dVals=[],this._dXVals=[]},i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(e.prototype._getLength.call(this)<=0)){var s=e.prototype._getBindingValues.call(this,0),n=e.prototype._getBindingValues.call(this,1),r=e.prototype._getBindingValues.call(this,3),l=this._getXValues(),h=a(s,n,r,this.kPeriod,this.dPeriod,this.smoothingPeriod);this._kVals=h.ks,this._dVals=h.ds,this._kXVals=l?l.slice(this.kPeriod-1):t.chart.finance._range(this.kPeriod-1,i-1),this.smoothingPeriod&&this.smoothingPeriod>1&&(this._kXVals=this._kXVals.slice(this._kXVals.length-this._kVals.length,this._kXVals.length)),this._dXVals=this._kXVals.slice(this._kXVals.length-this._dVals.length,this._kXVals.length)}},i.prototype._rendering=function(i,a){if(a.cancel=!0,!(e.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var s=this.chart.series.indexOf(this),n=a.engine,r=this._getAxisX(),l=this._getAxisY(),h=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),o=this._getSymbolStroke(s),c=this.chart._plotrectId,u=null,_=o,p=2,d=null,g=o,f=2;this.styles&&t.isObject(this.styles)&&(this.styles.kLine&&t.isObject(this.styles.kLine)&&(_=(u=t.chart._BasePlotter.cloneStyle(this.styles.kLine,["fill"])).stroke?u.stroke:o,p=u.strokeWidth?u.strokeWidth:2),this.styles.dLine&&t.isObject(this.styles.dLine)&&(g=(d=t.chart._BasePlotter.cloneStyle(this.styles.dLine,["fill"])).stroke?d.stroke:o,f=d.strokeWidth?d.strokeWidth:2));var y,m,v,V,b=[],x=[],P=[],w=[],k=this._getLength();for(v=0;v<this._kVals.length;v++)V=k-this._kVals.length+v,x.push(r.convert(this._kXVals[v])),b.push(l.convert(this._kVals[v])),(y=this._getDataPoint(this._kXVals[v],this._kVals[v],s,V,r,l)).name=this._getName(0),(m=new t.chart._CircleArea(new t.Point(x[v],b[v]),.5*n.strokeWidth)).tag=y,this._hitTester.add(m,s);for(this._hitTester.add(new t.chart._LinesArea(x,b),s),n.stroke=_,n.strokeWidth=p,n.drawLines(x,b,null,h,c),v=0;v<this._dVals.length;v++)V=k-this._dVals.length+v,w.push(r.convert(this._dXVals[v])),P.push(l.convert(this._dVals[v])),(y=this._getDataPoint(this._dXVals[v],this._dVals[v],s,V,r,l)).name=this._getName(1),(m=new t.chart._CircleArea(new t.Point(w[v],P[v]),.5*n.strokeWidth)).tag=y,this._hitTester.add(m,s);this._hitTester.add(new t.chart._LinesArea(w,P),s),n.stroke=g,n.strokeWidth=f,n.drawLines(w,P,null,h,c)}},i.prototype.getCalculatedValues=function(i){i=t.asString(i,!1);var a=[],s=0;if(e.prototype._getLength.call(this)<=0)return a;switch(this._shouldCalculate()&&(this._init(),this._calculate()),i){case"kLine":for(;s<this._kVals.length;s++)a.push({x:this._kXVals[s],y:this._kVals[s]});break;case"dLine":for(;s<this._dVals.length;s++)a.push({x:this._dXVals[s],y:this._dVals[s]})}return a},i}(e.OverlayIndicatorBase);function a(e,i,a,s,n,r){t.asArray(e,!1),t.asArray(i,!1),t.asArray(a,!1),t.asInt(s,!1,!0),t.asInt(n,!1,!0),t.asInt(r,!0,!0);var l,h=[],o=[],c=[];for(l=s;l<=e.length;l++)h.push(t.chart.finance._maximum(e.slice(l-s,l))),o.push(t.chart.finance._minimum(i.slice(l-s,l)));for(a=a.slice(s-1),l=0;l<a.length;l++)c.push((a[l]-o[l])/(h[l]-o[l])*100);return r&&r>1&&(c=t.chart.finance._sma(c,r)),{ks:c,ds:t.chart.finance._sma(c,n)}}e.Stochastic=i,e._stochastic=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i.period=14,i.initialize(t),i}return __extends(i,e),i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(i<=0)){var s=e.prototype._getBindingValues.call(this,0),n=this._getXValues();this._yvals=a(s,this.period),this._xvals=n?n.slice(this.period):t.chart.finance._range(this.period,i)}},i}(e.SingleOverlayIndicatorBase);function a(e,i){t.asArray(e,!1),t.asInt(i,!0,!1),t.assert(e.length>i&&i>1,"RSI period must be an integer less than the length of the data and greater than one.");var a,s,n,r,l=[],h=[],o=[],c=[];for(r=1;r<e.length;r++)l.push(e[r]-e[r-1]);for(a=l.map((function(t){return t>0?t:0})),s=l.map((function(t){return t<0?Math.abs(t):0})),r=i;r<=l.length;r++)r===i?(h.push(t.chart.finance._sum(a.slice(r-i,r))/i),o.push(t.chart.finance._sum(s.slice(r-i,r))/i)):(h.push((a[r-1]+h[r-i-1]*(i-1))/i),o.push((s[r-1]+o[r-i-1]*(i-1))/i)),n=h[r-i]/o[r-i],n=isFinite(n)?n:0,c.push(100-100/(1+n));return c}e.RSI=i,e._rsi=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this,t)||this;return i._fastPeriod=12,i._slowPeriod=26,i._smoothingPeriod=9,i}return __extends(i,e),Object.defineProperty(i.prototype,"fastPeriod",{get:function(){return this._fastPeriod},set:function(e){e!==this._fastPeriod&&(this._fastPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slowPeriod",{get:function(){return this._slowPeriod},set:function(e){e!==this._slowPeriod&&(this._slowPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smoothingPeriod",{get:function(){return this._smoothingPeriod},set:function(e){e!==this._smoothingPeriod&&(this._smoothingPeriod=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._clearValues=function(){e.prototype._clearValues.call(this),this._macdVals=null,this._macdXVals=null,this._signalVals=null,this._signalXVals=null,this._histogramVals=null,this._histogramXVals=null},i.prototype._shouldCalculate=function(){return!(this._macdVals&&this._macdXVals&&this._signalVals&&this._signalXVals&&this._histogramVals&&this._histogramXVals)},i.prototype._init=function(){e.prototype._init.call(this),this._macdVals=[],this._macdXVals=[],this._signalVals=[],this._signalXVals=[],this._histogramVals=[],this._histogramXVals=[]},i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(i<=0)){var a=e.prototype.getValues.call(this,0),s=this._getXValues(),r=n(a,this.fastPeriod,this.slowPeriod,this.smoothingPeriod);this._macdVals=r.macds,this._signalVals=r.signals,this._histogramVals=r.histograms,this._macdXVals=s?s.slice(i-this._macdVals.length,i):t.chart.finance._range(i-this._macdVals.length,i-1),this._signalXVals=s?s.slice(i-this._signalVals.length,i):t.chart.finance._range(i-this._signalVals.length,i-1),this._histogramXVals=s?s.slice(i-this._histogramVals.length,i):t.chart.finance._range(i-this._histogramVals.length,i-1)}},i}(e.OverlayIndicatorBase);e.MacdBase=i;var a=function(e){function i(t){var i=e.call(this)||this;return i._seriesCount=2,i.rendering.addHandler(i._rendering,i),i.initialize(t),i}return __extends(i,e),Object.defineProperty(i.prototype,"styles",{get:function(){return this._styles},set:function(t){t!==this._styles&&(this._styles=t,this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.legendItemLength=function(){return this.name.indexOf(",")>-1?2:1},i.prototype.getDataRect=function(i,a){if(a)return a;var s=null;if(e.prototype._getLength.call(this)<=0)return s;this._shouldCalculate()&&(this._init(),this._calculate());var n=[],r=[];r.push.apply(r,this._macdXVals),r.push.apply(r,this._signalXVals),n.push.apply(n,this._macdVals),n.push.apply(n,this._signalVals);var l=t.chart.finance._minimum(r),h=t.chart.finance._maximum(r),o=t.chart.finance._minimum(n),c=t.chart.finance._maximum(n);return t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)&&t.chart._DataInfo.isValid(o)&&t.chart._DataInfo.isValid(c)&&(s=new t.Rect(l,o,h-l,c-o)),s},i.prototype._rendering=function(i,a){if(a.cancel=!0,!(e.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var s=this.chart.series.indexOf(this),n=a.engine,r=this._getAxisX(),l=this._getAxisY(),h=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),o=this._getSymbolStroke(s),c=this.chart._plotrectId,u=null,_=o,p=2,d=null,g=o,f=2;this.styles&&t.isObject(this.styles)&&(this.styles.macdLine&&t.isObject(this.styles.macdLine)&&(_=(u=t.chart._BasePlotter.cloneStyle(this.styles.macdLine,["fill"])).stroke?u.stroke:o,p=u.strokeWidth?u.strokeWidth:2),this.styles.signalLine&&t.isObject(this.styles.signalLine)&&(g=(d=t.chart._BasePlotter.cloneStyle(this.styles.signalLine,["fill"])).stroke?d.stroke:o,f=d.strokeWidth?d.strokeWidth:2));var y,m,v,V,b=[],x=[],P=[],w=[],k=this._getLength();for(v=0;v<this._macdVals.length;v++)V=k-this._macdVals.length+v,x.push(r.convert(this._macdXVals[v])),b.push(l.convert(this._macdVals[v])),(y=this._getDataPoint(this._macdXVals[v],this._macdVals[v],s,V,r,l)).name=this._getName(0),(m=new t.chart._CircleArea(new t.Point(x[v],b[v]),.5*n.strokeWidth)).tag=y,this._hitTester.add(m,s);for(this._hitTester.add(new t.chart._LinesArea(x,b),s),n.stroke=_,n.strokeWidth=p,n.drawLines(x,b,null,h,c),v=0;v<this._signalVals.length;v++)V=k-this._signalVals.length+v,w.push(r.convert(this._signalXVals[v])),P.push(l.convert(this._signalVals[v])),(y=this._getDataPoint(this._signalXVals[v],this._signalVals[v],s,V,r,l)).name=this._getName(1),(m=new t.chart._CircleArea(new t.Point(w[v],P[v]),.5*n.strokeWidth)).tag=y,this._hitTester.add(m,s);this._hitTester.add(new t.chart._LinesArea(w,P),s),n.stroke=g,n.strokeWidth=f,n.drawLines(w,P,null,h,c)}},i.prototype.getCalculatedValues=function(i){i=t.asString(i,!1);var a=[],s=0;if(e.prototype._getLength.call(this)<=0)return a;switch(this._shouldCalculate()&&(this._init(),this._calculate()),i){case"macdLine":for(;s<this._macdVals.length;s++)a.push({x:this._macdXVals[s],y:this._macdVals[s]});break;case"signalLine":for(;s<this._signalVals.length;s++)a.push({x:this._signalXVals[s],y:this._signalVals[s]})}return a},i}(i);e.Macd=a;var s=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),i.prototype.getValues=function(t){var i=null;return e.prototype._getLength.call(this)<=0||(this._shouldCalculate()&&(this._init(),this._calculate()),0===t?i=this._histogramVals:1===t&&(i=this._histogramXVals)),i},i.prototype.getDataRect=function(i,a){if(a)return a;var s=null;if(e.prototype._getLength.call(this)<=0)return s;this._shouldCalculate()&&(this._init(),this._calculate());var n=t.chart.finance._minimum(this._histogramXVals),r=t.chart.finance._maximum(this._histogramXVals),l=t.chart.finance._minimum(this._histogramVals),h=t.chart.finance._maximum(this._histogramVals);return t.chart._DataInfo.isValid(n)&&t.chart._DataInfo.isValid(r)&&t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)&&(s=new t.Rect(n,l,r-n,h-l)),s},i.prototype._getChartType=function(){return t.chart.ChartType.Column},i.prototype._getItem=function(i){return i=e.prototype._getLength.call(this)-t.chart.finance._minimum(this._histogramVals.length,this._histogramXVals.length)+i,e.prototype._getItem.call(this,i)},i}(i);function n(e,i,a,s){t.asArray(e,!1),t.asInt(i,!1,!0),t.asInt(a,!1,!0),t.asInt(s,!1,!0);var n,r=i>a;r&&(n=a,a=i,i=n);var l,h,o=t.chart.finance._ema(e,i),c=t.chart.finance._ema(e,a),u=[],_=[];for(o.splice(0,a-i),h=0;h<o.length;h++)n=o[h]-c[h],r&&(n*=-1),u.push(n);l=t.chart.finance._ema(u,s);var p=u.slice(u.length-l.length,u.length);for(h=0;h<p.length;h++)_.push(p[h]-l[h]);return{macds:u,signals:l,histograms:_}}e.MacdHistogram=s,e._macd=n}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i;!function(t){t[t.Simple=0]="Simple",t[t.Exponential=1]="Exponential"}(i=e.MovingAverageType||(e.MovingAverageType={}));var a=function(e){function a(t){var a=e.call(this)||this;return a._period=20,a._type=i.Simple,a._size=.025,a.rendering.addHandler(a._rendering,a),a.initialize(t),a}return __extends(a,e),Object.defineProperty(a.prototype,"period",{get:function(){return this._period},set:function(e){e!==this._period&&(this._period=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"type",{get:function(){return this._type},set:function(e){(e=t.asEnum(e,i,!1))!==this._type&&(this._type=e,this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._size},set:function(e){e!==this._size&&(this._size=t.asNumber(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),a.prototype.getDataRect=function(i,a){if(a)return a;var s=null;if(e.prototype._getLength.call(this)<=0)return s;this._shouldCalculate()&&(this._init(),this._calculate());var n=this._upperYVals.concat(this._lowerYVals),r=t.chart.finance._minimum(this._xVals),l=t.chart.finance._maximum(this._xVals),h=t.chart.finance._minimum(n),o=t.chart.finance._maximum(n);return t.chart._DataInfo.isValid(r)&&t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)&&t.chart._DataInfo.isValid(o)&&(s=new t.Rect(r,h,l-r,o-h)),s},a.prototype._clearValues=function(){e.prototype._clearValues.call(this),this._upperYVals=null,this._lowerYVals=null,this._xVals=null},a.prototype._init=function(){e.prototype._init.call(this),this._upperYVals=[],this._lowerYVals=[],this._xVals=[]},a.prototype._shouldCalculate=function(){return!this._upperYVals||!this._lowerYVals||!this._xVals},a.prototype._calculate=function(){var a=this;if(!(e.prototype._getLength.call(this)<=0)){var s,n=e.prototype.getValues.call(this,0),r=this._getXValues();switch(this.type){case i.Exponential:s=t.chart.finance._ema(n,this.period);break;case i.Simple:default:s=t.chart.finance._sma(n,this.period)}this._xVals=r?r.slice(this.period-1):t.chart.finance._range(this.period-1,e.prototype._getLength.call(this)-1),this._upperYVals=s.map((function(t){return t+t*a.size})),this._lowerYVals=s.map((function(t){return t-t*a.size}))}},a.prototype._rendering=function(i,a){if(a.cancel=!0,!(e.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var s=this.chart.series.indexOf(this),n=a.engine,r=this._getAxisX(),l=this._getAxisY(),h=t.chart.finance._minimum(this._upperYVals.length,this._lowerYVals.length,this._xVals.length),o=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),c=this._getSymbolStroke(s),u=this.chart._plotrectId;if(h&&!(h<=0)){n.stroke=c,n.strokeWidth=2;for(var _,p,d,g=[],f=[],y=[],m=this._getLength(),v=0;v<h;v++)d=m-h+v,g.push(r.convert(this._xVals[v])),f.push(l.convert(this._upperYVals[v])),_=this._getDataPoint(this._xVals[v],this._upperYVals[v],s,d,r,l),(p=new t.chart._CircleArea(new t.Point(g[v],f[v]),.5*n.strokeWidth)).tag=_,this._hitTester.add(p,s),y.push(l.convert(this._lowerYVals[v])),_=this._getDataPoint(this._xVals[v],this._lowerYVals[v],s,d,r,l),(p=new t.chart._CircleArea(new t.Point(g[v],y[v]),.5*n.strokeWidth)).tag=_,this._hitTester.add(p,s);this._hitTester.add(new t.chart._LinesArea(g,f),s),this._hitTester.add(new t.chart._LinesArea(g,y),s),n.drawLines(g,f,null,o,u),n.drawLines(g,y,null,o,u)}}},a.prototype.getCalculatedValues=function(i){i=t.asString(i,!1);var a=[],s=0;if(e.prototype._getLength.call(this)<=0)return a;switch(this._shouldCalculate()&&(this._init(),this._calculate()),i){case"upperEnvelope":for(;s<this._upperYVals.length;s++)a.push({x:this._xVals[s],y:this._upperYVals[s]});break;case"lowerEnvelope":for(;s<this._lowerYVals.length;s++)a.push({x:this._xVals[s],y:this._lowerYVals[s]})}return a},a}(e.OverlayIndicatorBase);e.Envelopes=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i._constant=.015,i.period=20,i.initialize(t),i}return __extends(i,e),Object.defineProperty(i.prototype,"constant",{get:function(){return this._constant},set:function(e){e!==this._constant&&(this._constant=t.asNumber(e,!1),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(i<=0)){var s=e.prototype._getBindingValues.call(this,0),n=e.prototype._getBindingValues.call(this,1),r=e.prototype._getBindingValues.call(this,3),l=this._getXValues();this._yvals=a(s,n,r,this.period,this.constant),this._xvals=l?l.slice(this.period-1):t.chart.finance._range(this.period-1,i-1)}},i}(e.SingleOverlayIndicatorBase);function a(e,i,a,s,n){t.asArray(e,!1),t.asArray(i,!1),t.asArray(a,!1),t.asInt(s,!1,!0),t.asNumber(n,!1,!0);var r,l,h,o=t.chart.finance._minimum(e.length,i.length,a.length),c=[],u=[],_=[];for(t.assert(o>s&&s>1,"CCI period must be an integer less than the length of the data and greater than one."),l=0;l<o;l++)c.push(t.chart.finance._average(e[l],i[l],a[l]));for(r=t.chart.finance._sma(c,s),l=0;l<r.length;l++)h=c.slice(l,s+l).reduce((function(t,e){return t+Math.abs(r[l]-e)}),0),u.push(h/s);for(c.splice(0,s-1),l=0;l<r.length;l++)_.push((c[l]-r[l])/(n*u[l]));return _}e.CCI=i,e._cci=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i._period=20,i._multiplier=2,i.rendering.addHandler(i._rendering,i),i.initialize(t),i}return __extends(i,e),Object.defineProperty(i.prototype,"period",{get:function(){return this._period},set:function(e){e!==this._period&&(this._period=t.asInt(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiplier",{get:function(){return this._multiplier},set:function(e){e!==this._multiplier&&(this._multiplier=t.asNumber(e,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getDataRect=function(i,a){if(a)return a;if(e.prototype._getLength.call(this)<=0)return null;this._shouldCalculate()&&(this._init(),this._calculate());var s=this._upperYVals.concat(this._lowerYVals),n=t.chart.finance._minimum(this._xVals),r=t.chart.finance._maximum(this._xVals),l=t.chart.finance._minimum(s),h=t.chart.finance._maximum(s);return t.chart._DataInfo.isValid(n)&&t.chart._DataInfo.isValid(r)&&t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)?new t.Rect(n,l,r-n,h-l):null},i.prototype._clearValues=function(){e.prototype._clearValues.call(this),this._upperYVals=null,this._middleYVals=null,this._lowerYVals=null,this._xVals=null},i.prototype._shouldCalculate=function(){return!(this._upperYVals&&this._middleYVals&&this._lowerYVals&&this._xVals)},i.prototype._init=function(){e.prototype._init.call(this),this._upperYVals=[],this._middleYVals=[],this._lowerYVals=[],this._xVals=[]},i.prototype._calculate=function(){var i=e.prototype._getLength.call(this);if(!(i<=0)){var s=e.prototype.getValues.call(this,0),n=this._getXValues(),r=a(s,this.period,this.multiplier);this._upperYVals=r.uppers,this._middleYVals=r.middles,this._lowerYVals=r.lowers,this._xVals=n?n.slice(this.period-1):t.chart.finance._range(this.period-1,i-1)}},i.prototype._rendering=function(i,a){if(a.cancel=!0,!(e.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var s=this.chart.series.indexOf(this),n=a.engine,r=this._getAxisX(),l=this._getAxisY(),h=t.chart.finance._minimum(this._upperYVals.length,this._middleYVals.length,this._lowerYVals.length,this._xVals.length),o=t.chart._BasePlotter.cloneStyle(this.style,["fill"]),c=this._getSymbolStroke(s),u=this.chart._plotrectId;if(h&&!(h<=0)){n.stroke=c,n.strokeWidth=2;for(var _,p,d,g=[],f=[],y=[],m=[],v=this._getLength(),V=0;V<h;V++)d=v-h+V,g.push(r.convert(this._xVals[V])),f.push(l.convert(this._upperYVals[V])),_=this._getDataPoint(this._xVals[V],this._upperYVals[V],s,d,r,l),(p=new t.chart._CircleArea(new t.Point(g[V],f[V]),.5*n.strokeWidth)).tag=_,this._hitTester.add(p,s),y.push(l.convert(this._middleYVals[V])),_=this._getDataPoint(this._xVals[V],this._middleYVals[V],s,d,r,l),(p=new t.chart._CircleArea(new t.Point(g[V],y[V]),.5*n.strokeWidth)).tag=_,this._hitTester.add(p,s),m.push(l.convert(this._lowerYVals[V])),_=this._getDataPoint(this._xVals[V],this._lowerYVals[V],s,d,r,l),(p=new t.chart._CircleArea(new t.Point(g[V],m[V]),.5*n.strokeWidth)).tag=_,this._hitTester.add(p,s);this._hitTester.add(new t.chart._LinesArea(g,f),s),this._hitTester.add(new t.chart._LinesArea(g,y),s),this._hitTester.add(new t.chart._LinesArea(g,m),s),n.drawLines(g,f,null,o,u),n.drawLines(g,y,null,o,u),n.drawLines(g,m,null,o,u)}}},i.prototype.getCalculatedValues=function(i){i=t.asString(i,!1);var a=[],s=0;if(e.prototype._getLength.call(this)<=0)return a;switch(this._shouldCalculate()&&(this._init(),this._calculate()),i){case"upperBand":for(;s<this._upperYVals.length;s++)a.push({x:this._xVals[s],y:this._upperYVals[s]});break;case"middleBand":for(;s<this._middleYVals.length;s++)a.push({x:this._xVals[s],y:this._middleYVals[s]});break;case"lowerBand":for(;s<this._lowerYVals.length;s++)a.push({x:this._xVals[s],y:this._lowerYVals[s]})}return a},i}(e.OverlayIndicatorBase);function a(e,i,a){t.asArray(e,!1),t.asInt(i,!1,!0),t.asNumber(a,!1,!0),t.assert(e.length>i&&i>1,"Bollinger Bands period must be an integer less than the length of the data and greater than one.");var s,n=t.chart.finance._sma(e,i),r=[];for(s=i;s<=e.length;s++)r.push(t.chart.finance._stdDeviation(e.slice(s-i,s)));var l=n,h=n.map((function(t,e){return t+r[e]*a}));return{lowers:n.map((function(t,e){return t-r[e]*a})),middles:l,uppers:h}}e.BollingerBands=i,e._bollingerBands=a}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),function(e){"use strict";var i=function(e){function i(t){var i=e.call(this)||this;return i.period=14,i.initialize(t),i}return __extends(i,e),i.prototype._calculate=function(){if(!(e.prototype._getLength.call(this)<=0)){var i=e.prototype._getBindingValues.call(this,0),a=e.prototype._getBindingValues.call(this,1),s=e.prototype._getBindingValues.call(this,3),n=this._getXValues();this._yvals=t.chart.finance._avgTrueRng(i,a,s,this.period),this._xvals=n?n.slice(this.period-1):t.chart.finance._range(this.period-1,i.length)}},i}(e.SingleOverlayIndicatorBase);e.ATR=i}((i=e.finance||(e.finance={})).analytics||(i.analytics={}))}(wijmo||(wijmo={})),function(t){var e,i;e=t.chart||(t.chart={}),(i=e.finance||(e.finance={})).analytics||(i.analytics={}),t._registerModule("wijmo.chart.finance.analytics",t.chart.finance.analytics)}(wijmo||(wijmo={}));