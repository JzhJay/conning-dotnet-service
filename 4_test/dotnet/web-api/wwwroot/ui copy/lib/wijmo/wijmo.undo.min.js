/*! For license information please see wijmo.undo.min.js.LICENSE.txt */
var wijmo,__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){!function(t){var e=function(){function t(t){this._target=t}return t.prototype.undo=function(){if(this._actions)for(var t=this._actions.length-1;t>=0;t--)this._actions[t].undo();this.applyState(this._oldState)},t.prototype.redo=function(){this.applyState(this._newState),this._actions&&this._actions.forEach((function(t){t.redo()}))},t.prototype.close=function(){return!0},t.prototype.applyState=function(t){},t.prototype.shouldAddAsChildAction=function(t){return!1},t.prototype.addChildAction=function(t){this._actions||(this._actions=[]),this._actions.push(t)},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t}();t.UndoableAction=e}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(e){var n=function(){function e(){}return e.addTarget=function(t,n){var o=e;if(n instanceof HTMLInputElement)return o._addInputElement(t,n);if(n instanceof HTMLTextAreaElement)return o._addTextAreaElement(t,n);if(n instanceof HTMLSelectElement)return o._addSelectElement(t,n);for(var i=!1,r=0;r<n.children.length;r++){var a=n.children[r];a instanceof HTMLElement&&t.addTarget(a)&&(i=!0)}return i},e._addInputElement=function(n,a){var c=null;if("checkbox"==a.type)a.addEventListener("click",(function(t){n.pushAction(new i(t))}));else{if("radio"==a.type){a.addEventListener("mousedown",(function(t){c=new r(t)}),!0);var s=e._getLabel(a);return s&&s.addEventListener("mousedown",(function(t){c=new r({target:a})}),!0),a.addEventListener("focus",(function(t){c instanceof r&&c.target==t.target||(c=new r(t))})),a.addEventListener("click",(function(t){c instanceof r&&(n.pushAction(c),c=null)})),!0}"range"==a.type&&(a.addEventListener("mousedown",(function(e){var n=t.getActiveElement();n instanceof HTMLElement&&n!=a&&n.blur(),c=new o(e)})),a.addEventListener("mouseup",(function(e){c instanceof o&&t.getActiveElement()!=a&&(c._focus=!1,n.pushAction(c),c=null)}))),a.addEventListener("focus",(function(t){null==c&&(c=new o(t))})),a.addEventListener("blur",(function(t){c instanceof o&&(n.pushAction(c),c=null)}))}return!0},e._addTextAreaElement=function(t,e){var n=null;return e.addEventListener("focus",(function(t){n=new o(t)})),e.addEventListener("blur",(function(e){n instanceof o&&(t.pushAction(n),n=null)})),!0},e._addSelectElement=function(t,e){var n=null;return e.addEventListener("focus",(function(t){n=new o(t)})),e.addEventListener("blur",(function(e){n instanceof o&&(t.pushAction(n),n=null)})),!0},e._getLabel=function(t){var e=t.parentElement;return e instanceof HTMLLabelElement||(e=document.querySelector('label[for="'+t.id+'"')),e},e}();e._UndoStackHTML=n;var o=function(n){function o(t){var e=n.call(this,t.target)||this;return e._focus=!0,e._oldState=e._target.value,e}return __extends(o,n),o.prototype.close=function(){return this._newState=this._target.value,this._newState!=this._oldState},o.prototype.applyState=function(n){var o=this._target;o.value=n,o.dispatchEvent(e.UndoStack._evtInput),this._focus&&(t.isFunction(o.select)?o.select():o.focus())},o}(e.UndoableAction);e.InputChangeAction=o;var i=function(e){function n(n){var o=e.call(this,n.target)||this;return t.assert("checkbox"==o._target.type,"checkbox expected"),o._newState=o._target.checked,o._oldState=!o._newState,o}return __extends(n,e),n.prototype.applyState=function(t){this._target.checked=t,this._target.focus()},n}(e.UndoableAction);e.CheckboxClickAction=i;var r=function(e){function n(n){var o=e.call(this,n.target)||this,i=o._target.type;return t.assert("radio"==i,"radio button expected"),o._oldState=o._getState(),o}return __extends(n,e),n.prototype.close=function(){return this._newState=this._getState(),this._newState!=this._oldState},n.prototype.applyState=function(t){t&&(t.checked=!0,t.focus())},n.prototype._getState=function(){for(var t='input[name="'+this._target.name+'"]',e=document.querySelectorAll(t),n=0;n<e.length;n++)if(e[n].checked)return e[n];return null},n}(e.UndoableAction);e.RadioClickAction=r}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(e){var n=function(){function n(e,o){var i=this;if(this._autoKbd=!0,this._stack=[],this._maxActions=1e3,this._ptr=0,this.addingTarget=new t.Event,this.addedTarget=new t.Event,this.addingAction=new t.Event,this.addedAction=new t.Event,this.undoingAction=new t.Event,this.undoneAction=new t.Event,this.redoingAction=new t.Event,this.redoneAction=new t.Event,this.stateChanged=new t.Event,!n._evtInput){var r=document.createEvent("HTMLEvents");r.initEvent("input",!0,!1),n._evtInput=r}t.copy(this,o),e=t.getElement(e||document.body),this.addTarget(e),document.addEventListener("keydown",(function(n){if(i._autoKbd&&n.ctrlKey&&!n.defaultPrevented&&t.contains(e,n.target))switch(n.keyCode){case 90:i.canUndo&&(t.getActiveElement().blur(),setTimeout((function(){return i.undo()}),100)),n.preventDefault();break;case 89:i.canRedo&&(t.getActiveElement().blur(),setTimeout((function(){return i.redo()}),100)),n.preventDefault()}}),t.getEventOptions(!0,!1))}return n.prototype.addTarget=function(n){var i=!1;if(t.isString(n)){for(var r=document.querySelectorAll(n),a=!1,c=0;c<r.length;c++)this.addTarget(r[c])&&(a=!0);return a}t.assert(n instanceof HTMLElement,"Undo target should be an HTML element");var s=new o(n);if(s.cancel=t.hasClass(n,"wj-no-undo"),this.onAddingTarget(s)){var u=t.Control.getControl(n);u&&(i=e._UndoStackWijmo.addTarget(this,u)),i||(i=e._UndoStackHTML.addTarget(this,n)),i&&this.onAddedTarget(s)}return i},Object.defineProperty(n.prototype,"autoKeyboard",{get:function(){return this._autoKbd},set:function(e){this._autoKbd=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxActions",{get:function(){return this._maxActions},set:function(e){e!=this._maxActions&&(this._maxActions=t.asNumber(e,!1,!0),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actionCount",{get:function(){return this._stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canUndo",{get:function(){return this._stack.length>0&&this._ptr>0&&!this._disabled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRedo",{get:function(){return this._stack.length>0&&this._ptr<this._stack.length&&!this._disabled},enumerable:!0,configurable:!0}),n.prototype.undo=function(){if(this.canUndo){var t=this._stack[this._ptr-1],e=new i(t);this.onUndoingAction(e)&&(this._ptr--,this._undoing=!0,t.undo(),this._undoing=!1,this._pendingAction=null,this.onUndoneAction(e),this.onStateChanged())}},n.prototype.redo=function(){if(this.canRedo){var t=this._stack[this._ptr],e=new i(t);this.onRedoingAction(e)&&(this._ptr++,this._undoing=!0,t.redo(),this._undoing=!1,this._pendingAction=null,this.onRedoneAction(e),this.onStateChanged())}},n.prototype.clear=function(){this._ptr=0,this._stack.splice(0,this._stack.length),this.onStateChanged()},n.prototype.pushAction=function(t){this._pendingAction=t,this.pushPendingAction()},n.prototype.onAddingTarget=function(t){return this.addingTarget.raise(this,t),!t.cancel},n.prototype.onAddedTarget=function(t){this.addedTarget.raise(this,t)},n.prototype.onAddingAction=function(t){return this.addingAction.raise(this,t),!t.cancel},n.prototype.onAddedAction=function(t){this.addedAction.raise(this,t)},n.prototype.onUndoingAction=function(t){return this.undoingAction.raise(this,t),!t.cancel},n.prototype.onUndoneAction=function(t){this.undoneAction.raise(this,t)},n.prototype.onRedoingAction=function(t){return this.redoingAction.raise(this,t),!t.cancel},n.prototype.onRedoneAction=function(t){this.redoneAction.raise(this,t)},n.prototype.onStateChanged=function(){this.stateChanged.raise(this,t.EventArgs.empty)},n.prototype.pushPendingAction=function(){if(!this._disabled&&!this._undoing&&this._pendingAction&&this._pendingAction.close()){if(this._stack.splice(this._ptr,this._stack.length-this._ptr),t.assert(this._stack.length==this._ptr,"should be at the end of the stack"),this._stack.length){var e=this._stack[this._ptr-1];if(e.shouldAddAsChildAction(this._pendingAction))return e.addChildAction(this._pendingAction),this._pendingAction=null,void this.onStateChanged()}var n=new i(this._pendingAction);if(!this.onAddingAction(n))return;this._stack.push(this._pendingAction),this._ptr++,this._pendingAction=null;var o=this._stack.length-this._maxActions;o>0&&(this._stack.splice(0,o),this._ptr-=o,t.assert(this._ptr>=0,"pointer should not be negative")),this.onStateChanged()}},n}();e.UndoStack=n;var o=function(t){function e(e){var n=t.call(this)||this;return n._target=e,n}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}(t.CancelEventArgs);e.AddTargetEventArgs=o;var i=function(t){function e(e){var n=t.call(this)||this;return n._action=e,n}return __extends(e,t),Object.defineProperty(e.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0}),e}(t.CancelEventArgs);e.UndoActionEventArgs=i}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){var e;(e=t.undo||(t.undo={})).softInput=function(){return t._getModule("wijmo.input")},e.softGrid=function(){return t._getModule("wijmo.grid")},e.softGauge=function(){return t._getModule("wijmo.gauge")},e.softNav=function(){return t._getModule("wijmo.nav")}}(wijmo||(wijmo={})),function(t){!function(e){var n=function(){function n(){}return n.addTarget=function(t,o){var i=n;return e.softGrid()&&o instanceof e.softGrid().FlexGrid?i._addFlexGrid(t,o):e.softGauge()&&o instanceof e.softGauge().Gauge?i._addGauge(t,o):e.softNav()&&o instanceof e.softNav().TreeView?i._addTreeView(t,o):!!i._isInputControl(o)&&i._addInputControl(t,o)},n._isInputControl=function(t){var n=e.softInput();return!!n&&(t instanceof n.DropDown||t instanceof n.InputMask||t instanceof n.InputNumber||t instanceof n.Calendar||t instanceof n.ColorPicker)},n._addInputControl=function(t,e){var n=null;return e.gotFocus.addHandler((function(){n=new o({target:e})})),e.lostFocus.addHandler((function(){n instanceof o&&(t.pushAction(n),n=null)})),!0},n._addGauge=function(t,e){if(!e.isReadOnly){var n=null;return e.hostElement.addEventListener("focus",(function(){n||(n=new i(e))})),e.lostFocus.addHandler((function(){n instanceof i&&(t.pushAction(n),n=null)})),!0}return!1},n._addTreeView=function(t,e){var n=null;return e.nodeEditStarted.addHandler((function(t,e){n=new f(t,e)})),e.nodeEditEnded.addHandler((function(e,o){n instanceof f&&(t.pushAction(n),n=null)})),e.isCheckedChanging.addHandler((function(t,e){n=new p(t,e)})),e.isCheckedChanged.addHandler((function(e,o){n instanceof p&&(t.pushAction(n),n=null)})),!0},n._addFlexGrid=function(e,n){var o=null;return n.beginningEdit.addHandler((function(e,n){o=n.getRow()instanceof t.grid._NewRowTemplate?null:new r(e,n)})),n.cellEditEnded.addHandler((function(t,n){o instanceof r&&(e.pushAction(o),o=null)})),n.pastingCell.addHandler((function(t,e){o=new r(t,e)})),n.pastedCell.addHandler((function(t,n){o instanceof r&&(e.pushAction(o),o=null)})),n.sortingColumn.addHandler((function(t,e){o=new a(t,e)})),n.sortedColumn.addHandler((function(t,n){o instanceof a&&(e.pushAction(o),o=null)})),n.resizingColumn.addHandler((function(t,e){o instanceof c||(o=new c(t,e))})),n.resizedColumn.addHandler((function(){o instanceof c&&(e.pushAction(o),o=null)})),n.autoSizingColumn.addHandler((function(t,e){o=new c(t,e)})),n.autoSizedColumn.addHandler((function(){o instanceof c&&(e.pushAction(o),o=null)})),n.draggingColumn.addHandler((function(t,e){o=new s(t,e)})),n.draggedColumn.addHandler((function(t,n){o instanceof s&&(e.pushAction(o),o=null)})),n.rowAdded.addHandler((function(t,n){n.cancel||e.pushAction(new u(t,n))})),n.deletingRow.addHandler((function(t,n){n.cancel||e.pushAction(new d(t,n))})),n.columnGroupCollapsedChanging.addHandler((function(t,e){o=new l(t,e)})),n.columnGroupCollapsedChanged.addHandler((function(t,n){o instanceof l&&(e.pushAction(o),o=null)})),!0},n}();e._UndoStackWijmo=n;var o=function(n){function o(t){var e=n.call(this,t)||this;return e._ctl=t.target,e._oldState=e._getControlState(),e}return __extends(o,n),Object.defineProperty(o.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),o.prototype.close=function(){return this._timeStamp=Date.now(),this._newState=this._getControlState(),!this._sameContent(this._oldState,this._newState)},o.prototype.shouldAddAsChildAction=function(t){return t instanceof o&&t.target==this.target&&t._timeStamp-this._timeStamp<500&&(this._timeStamp=Date.now(),!0)},o.prototype.applyState=function(n){var o=this._ctl,i=e.softInput();if(i){var r=o instanceof i.Calendar||o instanceof i.InputDate;r&&o.selectionMode!=i.DateSelectionMode.Range&&(r=!1),o instanceof i.MultiSelect?o.checkedItems=n:o instanceof i.MultiAutoComplete?o.selectedItems=n:r?(o.value=n[0],o.rangeEnd=n[1]):"value"in o?o.value=n:"text"in o?o.text=n:t.assert(!1,"can't apply control state?"),o.focus()}},o.prototype._getControlState=function(){var n=this._ctl,o=e.softInput();if(o){var i=n instanceof o.Calendar||n instanceof o.InputDate;if(i&&n.selectionMode!=o.DateSelectionMode.Range&&(i=!1),n instanceof o.MultiSelect)return n.checkedItems.slice();if(n instanceof o.MultiAutoComplete)return n.selectedItems.slice();if(i)return[n.value,n.rangeEnd];if("value"in n)return n.value;if("text"in n)return n.text;t.assert(!1,"can't get control state?")}},o.prototype._sameContent=function(e,n){if(t.isArray(e)&&t.isArray(n)){if(e.length!=n.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!=n[o])return!1;return!0}return t.isDate(e)||t.isDate(n)?t.DateTime.sameDate(e,n):e==n},o}(e.InputChangeAction),i=function(t){function e(e){var n=t.call(this,e)||this;return n._oldState=e.value,n}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.close=function(){return this._newState=this._target.value,this._newState!=this._oldState},e.prototype.applyState=function(t){var e=this._target;e.value=t,e.focus()},e}(e.UndoableAction),r=function(e){function n(n,o){var i=e.call(this,n)||this;i._dataItems=[];for(var r=n.collectionView,a=i._rng=o.range,c=a.topRow;c<=a.bottomRow;c++)i._dataItems.push(n.rows[c].dataItem);return i._page=r instanceof t.collections.CollectionView?r.pageIndex:-1,i._oldState=n.getCellData(o.row,o.col,!1),i}return __extends(n,e),Object.defineProperty(n.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._rng.topRow},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._rng.leftCol},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataItem",{get:function(){return this._dataItems[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataItems",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),n.prototype.close=function(){var t=this._target.collectionView;return!(t&&t.currentAddItem||(this._timeStamp=Date.now(),this._newState=this._target.getCellData(this.row,this.col,!1),this._newState==this._oldState))},n.prototype.applyState=function(e){var n=this,o=this._target,i=o.editableCollectionView;i&&(i instanceof t.collections.CollectionView&&this._page>-1&&i.moveToPage(this._page),o.deferUpdate((function(){n._dataItems.forEach((function(t){i.editItem(t);for(var r=n._rng.leftCol;r<=n._rng.rightCol;r++){var a=o.columns[r],c=o._getBindingColumn(o.cells,n.row,a);c&&c._binding&&c._binding.setValue(t,e)}i.commitEdit()}))}))),o.select(o.selection.row,this.col),o.focus()},n.prototype.shouldAddAsChildAction=function(t){return t instanceof n&&t.target==this.target&&t._timeStamp-this._timeStamp<100},n}(e.UndoableAction),a=function(t){function e(e,n){var o=t.call(this,e)||this,i=o._target.collectionView;return i&&(o._oldState=i.sortDescriptions.slice()),o}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.close=function(){var t=this._target.collectionView;return!!t&&(this._newState=t.sortDescriptions.slice(),!0)},e.prototype.applyState=function(t){var e=this._target.collectionView;e&&e.deferUpdate((function(){var n=e.sortDescriptions;n.clear(),t.forEach((function(t){n.push(t)}))})),this._target.focus()},e}(e.UndoableAction),c=function(t){function e(e,n){var o=t.call(this,e)||this;return o._col=e.columns[n.col],o._oldState=o._col.renderWidth,o}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),e.prototype.close=function(){return this._timeStamp=Date.now(),this._newState=this._col.renderWidth,this._newState!=this._oldState},e.prototype.applyState=function(t){this._col.width=t,this._target.focus()},e.prototype.shouldAddAsChildAction=function(t){return t instanceof e&&t.target==this.target&&t._timeStamp-this._timeStamp<100},e}(e.UndoableAction),s=function(e){function n(t,n){var o=e.call(this,t)||this;return o._col=n.getColumn(!0),o._oldState=o._getState(o._col),o}return __extends(n,e),Object.defineProperty(n.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),n.prototype.close=function(){return this._newState=this._getState(this._col),!this._areStatesEqual(this._newState,this._oldState)},n.prototype.applyState=function(t){var e=this,n=this._col;n.grid.deferUpdate((function(){var o=e._getState(n);o.coll.splice(o.idx,1),t.coll.splice(t.idx,0,n)})),this._target.focus()},n.prototype._getState=function(e){var n=e instanceof t.grid.ColumnGroup?e.parentGroup?e.parentGroup.columns:this.target.getColumnGroups():e.grid.columns;return{coll:n,idx:n.indexOf(e)}},n.prototype._areStatesEqual=function(t,e){return t.coll===e.coll&&t.idx===e.idx},n}(e.UndoableAction),u=function(e){function n(t,n){var o=e.call(this,t)||this,i=o._target.collectionView;if(i&&i.currentAddItem){var r=i.currentAddItem,a=i.sourceCollection.indexOf(r),c=i.currentPosition;o._oldState={item:r,index:a,position:c},o._newState={index:a,position:c}}return o}return __extends(n,e),Object.defineProperty(n.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),n.prototype.close=function(){return null!=this._oldState},n.prototype.applyState=function(e){var n=this._target.collectionView;if(n){var o=n.sourceCollection;if(e.item){if(o.splice(e.index,1),n instanceof t.collections.CollectionView&&n.trackChanges){var i=e.item;t.assert(n.itemsAdded.indexOf(i)>-1,"item should be in the itemsAdded list"),n.itemsAdded.remove(i)}}else i=this._oldState.item,o.splice(e.index,0,i),n instanceof t.collections.CollectionView&&n.trackChanges&&(t.assert(n.itemsAdded.indexOf(i)<0,"item should not be in the itemsAdded list"),n.itemsAdded.push(i));n.refresh(),n.moveCurrentToPosition(e.position),this._target.focus()}},n}(e.UndoableAction),d=function(n){function o(e,o){var i=n.call(this,e)||this;i._edtIndex=-1;var r=i._target.collectionView;if(r){var a=e.rows[o.row].dataItem,c=r.sourceCollection.indexOf(a),s=r.currentPosition;r instanceof t.collections.CollectionView&&r.trackChanges&&(i._edtIndex=r.itemsEdited.indexOf(a)),i._oldState={item:a,index:c,position:s},i._newState={index:c,position:s}}return i}return __extends(o,n),Object.defineProperty(o.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataItem",{get:function(){return this._oldState.item},enumerable:!0,configurable:!0}),o.prototype.close=function(){return this._timeStamp=Date.now(),null!=this._oldState},o.prototype.applyState=function(n){var o=this._target,i=o.collectionView;if(i){var r=i.sourceCollection;if(n.item){if(r.splice(n.index,0,n.item),i instanceof t.collections.CollectionView&&i.trackChanges){var a=n.item;t.assert(i.itemsRemoved.indexOf(a)>-1,"item should be in the itemsRemoved list"),i.itemsRemoved.remove(a),this._edtIndex>-1&&i.itemsEdited.indexOf(a)<0&&i.itemsEdited.push(a)}}else r.splice(n.index,1),i instanceof t.collections.CollectionView&&i.trackChanges&&(a=this._oldState.item,t.assert(i.itemsRemoved.indexOf(a)<0,"item should not be in the itemsRemoved list"),i.itemsRemoved.push(a));i.refresh(),i.moveCurrentToPosition(n.position);var c=new(e.softGrid().CellRange)(n.position,0,n.position,o.columns.length-1);o.select(c),o.focus()}},o.prototype.shouldAddAsChildAction=function(t){return t instanceof o&&t.target==this.target&&t._timeStamp-this._timeStamp<100},o}(e.UndoableAction),l=function(t){function e(e,n){var o=t.call(this,e)||this;return o._group=n.data,o._oldState=o._group.isCollapsed,o}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),e.prototype.close=function(){return this._newState=this._group.isCollapsed,this._newState!=this._oldState},e.prototype.applyState=function(t){this._group.isCollapsed=t,this._target.focus()},e}(e.UndoableAction),f=function(t){function e(e,n){var o=t.call(this,e)||this;return o._nd=n.node,o._oldState=o._getNodeText(),o}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"node",{get:function(){return this._nd},enumerable:!0,configurable:!0}),e.prototype.close=function(){return this._newState=this._getNodeText(),this._newState!=this._oldState},e.prototype.applyState=function(t){this._nd.select(),this._setNodeText(t),this._target.focus()},e.prototype._getNodeText=function(){var t=this._nd.dataItem[this._getDisplayMemberPath()];return null!=t?t.toString():""},e.prototype._setNodeText=function(t){var e=this._nd,n=e.dataItem,o=this._getDisplayMemberPath(),i=e.element.querySelector(".wj-node-text");n[o]=t,e.treeView.isContentHtml?i.innerHTML=t:i.textContent=t},e.prototype._getDisplayMemberPath=function(){var t=this._nd,e=t.treeView.displayMemberPath;return e instanceof Array&&(e=e[t.level]),e},e}(e.UndoableAction),p=function(t){function e(e,n){var o=t.call(this,e)||this;return o._nd=n.node,o._oldState=o._nd.isChecked,o}return __extends(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"node",{get:function(){return this._nd},enumerable:!0,configurable:!0}),e.prototype.close=function(){return this._newState=this._nd.isChecked,this._newState!=this._oldState},e.prototype.applyState=function(t){this._nd.select(),this._nd.isChecked=t,this._target.focus()},e}(e.UndoableAction)}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){t.undo||(t.undo={}),t._registerModule("wijmo.undo",t.undo)}(wijmo||(wijmo={}));