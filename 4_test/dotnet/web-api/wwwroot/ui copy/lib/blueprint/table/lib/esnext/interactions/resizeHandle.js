import classNames from"classnames";import*as React from"react";import*as Classes from"../common/classes";import{Draggable}from"./draggable";export var Orientation;!function(s){s[s.HORIZONTAL=1]="HORIZONTAL",s[s.VERTICAL=0]="VERTICAL"}(Orientation||(Orientation={}));export class ResizeHandle extends React.PureComponent{constructor(){super(...arguments),this.state={isDragging:!1},this.handleActivate=s=>(this.setState({isDragging:!0}),this.props.onLayoutLock(!0),s.stopPropagation(),s.stopImmediatePropagation(),!0),this.handleDragMove=(s,e)=>{const t=this.props.orientation;null!=this.props.onResizeMove&&this.props.onResizeMove(e.offset[t],e.delta[t])},this.handleDragEnd=(s,e)=>{const t=this.props.orientation;this.setState({isDragging:!1}),this.props.onLayoutLock(!1),null!=this.props.onResizeMove&&this.props.onResizeMove(e.offset[t],e.delta[t]),null!=this.props.onResizeEnd&&this.props.onResizeEnd(e.offset[t])},this.handleClick=s=>{this.setState({isDragging:!1}),this.props.onLayoutLock(!1)},this.handleDoubleClick=s=>{this.setState({isDragging:!1}),this.props.onLayoutLock(!1),null!=this.props.onDoubleClick&&this.props.onDoubleClick()}}render(){const{onResizeMove:s,onResizeEnd:e,onDoubleClick:t,orientation:o}=this.props;if(null==s&&null==e&&null==t)return;const i=classNames(Classes.TABLE_RESIZE_HANDLE_TARGET,{[Classes.TABLE_DRAGGING]:this.state.isDragging,[Classes.TABLE_RESIZE_HORIZONTAL]:o===Orientation.HORIZONTAL,[Classes.TABLE_RESIZE_VERTICAL]:o===Orientation.VERTICAL},this.props.className),a=classNames(Classes.TABLE_RESIZE_HANDLE,{[Classes.TABLE_DRAGGING]:this.state.isDragging});return React.createElement(Draggable,{onActivate:this.handleActivate,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove},React.createElement("div",{className:i},React.createElement("div",{className:a})))}}