"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResizeSensor=void 0;var tslib_1=require("tslib"),Classes=tslib_1.__importStar(require("../common/classes")),ResizeSensor=function(){function e(){}return e.attach=function(t,i){var s=e.debounce(i),o=document.createElement("div");o.className=Classes.TABLE_RESIZE_SENSOR,o.style.cssText=e.RESIZE_SENSOR_STYLE,o.innerHTML=e.RESIZE_SENSOR_HTML,t.appendChild(o),"static"===getComputedStyle(t,null).getPropertyValue("position")&&(t.style.position="relative");var l,n,r=o.childNodes[0],d=r.childNodes[0],c=o.childNodes[1],E=function(){d.style.width="100000px",d.style.height="100000px",r.scrollLeft=1e5,r.scrollTop=1e5,c.scrollLeft=1e5,c.scrollTop=1e5};E();var S=function(){if(null!=t){var e=t.offsetWidth,i=t.offsetHeight;e===l&&i===n||(l=e,n=i,s.trigger()),E()}};return r.addEventListener("scroll",S),c.addEventListener("scroll",S),function(){t.removeChild(o),s.cancelled=!0}},e.debounce=function(e){var t={cancelled:!1,trigger:function(){t.triggered||t.cancelled||(t.triggered=!0,requestAnimationFrame((function(){t.triggered=!1,t.cancelled||e()})))},triggered:!1};return t},e.RESIZE_SENSOR_STYLE="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",e.RESIZE_SENSOR_HTML='<div class="'+Classes.TABLE_RESIZE_SENSOR_EXPAND+'"\n        style="'+e.RESIZE_SENSOR_STYLE+'"><div style="position: absolute; left: 0; top: 0; transition: 0s;"\n        ></div></div><div class="'+Classes.TABLE_RESIZE_SENSOR_SHRINK+'" style="'+e.RESIZE_SENSOR_STYLE+'"\n        ><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%;"></div></div>',e}();exports.ResizeSensor=ResizeSensor;