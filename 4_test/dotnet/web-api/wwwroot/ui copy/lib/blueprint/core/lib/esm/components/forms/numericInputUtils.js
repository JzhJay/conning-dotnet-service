import{clamp}from"../../common/utils";function getDecimalSeparator(r){var t=1.9.toLocaleString(r),e=1..toLocaleString(r),n=9..toLocaleString(r),i=new RegExp(e+"(.+)"+n).exec(t);return i&&i[1]||"."}export function toLocaleString(r,t){return void 0===t&&(t="en-US"),sanitizeNumericInput(r.toLocaleString(t),t)}export function clampValue(r,t,e){return clamp(r,null!=t?t:-1/0,null!=e?e:1/0)}export function getValueOrEmptyValue(r){return void 0===r&&(r=""),r.toString()}function transformLocalizedNumberToStringNumber(r,t){var e=[0,1,2,3,4,5,6,7,8,9].map((function(r){return r.toLocaleString(t)})).indexOf(r);return-1!==e?e:r}export function parseStringToStringNumber(r,t){var e=""+r;if(parseFloat(e).toString()===r.toString())return r.toString();if(void 0!==t){var n=getDecimalSeparator(t);return sanitizeNumericInput(e,t).split("").map((function(r){return transformLocalizedNumberToStringNumber(r,t)})).join("").replace(n,".")}return r.toString()}export function isValueNumeric(r,t){var e=parseStringToStringNumber(r,t);return null!=r&&e-parseFloat(e)+1>=0}export function isValidNumericKeyboardEvent(r,t){return null==r.key||!!(r.ctrlKey||r.altKey||r.metaKey)||!(1===r.key.length)||isFloatingPointNumericCharacter(r.key,t)}function isFloatingPointNumericCharacter(r,t){if(void 0!==t){var e=getDecimalSeparator(t).replace(".","\\."),n=[0,1,2,3,4,5,6,7,8,9].map((function(r){return r.toLocaleString(t)})).join("");return new RegExp("^[Ee"+n+"\\+\\-"+e+"]$").test(r)}return/^[Ee0-9\+\-\.]$/.test(r)}export function toMaxPrecision(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e}function convertFullWidthNumbersToAscii(r){return r.replace(/[\uFF10-\uFF19]/g,(function(r){return String.fromCharCode(r.charCodeAt(0)-65248)}))}export function sanitizeNumericInput(r,t){return convertFullWidthNumbersToAscii(r).split("").filter((function(r){return isFloatingPointNumericCharacter(r,t)})).join("")}