import{__assign,__decorate,__extends}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Boundary,Classes,Position,removeNonHTMLProps}from"../../common";import{Menu}from"../menu/menu";import{MenuItem}from"../menu/menuItem";import{OverflowList}from"../overflow-list/overflowList";import{Popover}from"../popover/popover";import{Breadcrumb}from"./breadcrumb";var Breadcrumbs=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderOverflow=function(e){var t=r.props.collapseFrom,o=t===Boundary.END?Position.BOTTOM_RIGHT:Position.BOTTOM_LEFT,s=e;return t===Boundary.START&&(s=e.slice().reverse()),React.createElement("li",null,React.createElement(Popover,__assign({position:o,disabled:0===s.length,content:React.createElement(Menu,null,s.map(r.renderOverflowBreadcrumb))},r.props.popoverProps),React.createElement("span",{className:Classes.BREADCRUMBS_COLLAPSED})))},r.renderOverflowBreadcrumb=function(e,r){var t=null!=e.href||null!=e.onClick,o=removeNonHTMLProps(e);return React.createElement(MenuItem,__assign({disabled:!t},o,{text:e.text,key:r}))},r.renderBreadcrumbWrapper=function(e,t){var o=r.props.items[r.props.items.length-1]===e;return React.createElement("li",{key:t},r.renderBreadcrumb(e,o))},r}return __extends(r,e),r.prototype.render=function(){var e=this.props,r=e.className,t=e.collapseFrom,o=e.items,s=e.minVisibleItems,n=e.overflowListProps,a=void 0===n?{}:n;return React.createElement(OverflowList,__assign({collapseFrom:t,minVisibleItems:s,tagName:"ul"},a,{className:classNames(Classes.BREADCRUMBS,a.className,r),items:o,overflowRenderer:this.renderOverflow,visibleItemRenderer:this.renderBreadcrumbWrapper}))},r.prototype.renderBreadcrumb=function(e,r){return r&&null!=this.props.currentBreadcrumbRenderer?this.props.currentBreadcrumbRenderer(e):null!=this.props.breadcrumbRenderer?this.props.breadcrumbRenderer(e):React.createElement(Breadcrumb,__assign({current:r},e))},r.defaultProps={collapseFrom:Boundary.START},__decorate([polyfill],r)}(AbstractPureComponent2);export{Breadcrumbs};