import classNames from"classnames";import*as React from"react";import{AbstractPureComponent2,Classes,Keys,Utils}from"../../common";import{Icon,IconSize}from"../icon/icon";import{Spinner}from"../spinner/spinner";export class AbstractButton extends AbstractPureComponent2{constructor(){super(...arguments),this.state={isActive:!1},this.handleKeyDown=s=>{Keys.isKeyboardClick(s.which)&&(s.preventDefault(),s.which!==this.currentKeyDown&&this.setState({isActive:!0})),this.currentKeyDown=s.which,this.props.onKeyDown?.(s)},this.handleKeyUp=s=>{Keys.isKeyboardClick(s.which)&&(this.setState({isActive:!1}),this.buttonRef?.click()),this.currentKeyDown=void 0,this.props.onKeyUp?.(s)},this.handleBlur=s=>{this.state.isActive&&this.setState({isActive:!1}),this.props.onBlur?.(s)}}getCommonButtonProps(){const{active:s,alignText:e,fill:t,large:i,loading:n,outlined:a,minimal:o,small:l,tabIndex:c}=this.props,r=this.props.disabled||n;return{className:classNames(Classes.BUTTON,{[Classes.ACTIVE]:!r&&(s||this.state.isActive),[Classes.DISABLED]:r,[Classes.FILL]:t,[Classes.LARGE]:i,[Classes.LOADING]:n,[Classes.MINIMAL]:o,[Classes.OUTLINED]:a,[Classes.SMALL]:l},Classes.alignmentClass(e),Classes.intentClass(this.props.intent),this.props.className),disabled:r,onBlur:this.handleBlur,onClick:r?void 0:this.props.onClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:r?-1:c}}renderChildren(){const{children:s,icon:e,loading:t,rightIcon:i,text:n}=this.props;return[t&&React.createElement(Spinner,{key:"loading",className:Classes.BUTTON_SPINNER,size:IconSize.LARGE}),React.createElement(Icon,{key:"leftIcon",icon:e}),(!Utils.isReactNodeEmpty(n)||!Utils.isReactNodeEmpty(s))&&React.createElement("span",{key:"text",className:Classes.BUTTON_TEXT},n,s),React.createElement(Icon,{key:"rightIcon",icon:i})]}}