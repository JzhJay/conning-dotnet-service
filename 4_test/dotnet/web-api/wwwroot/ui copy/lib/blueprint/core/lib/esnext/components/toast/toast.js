import{__decorate}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";import{ButtonGroup}from"../button/buttonGroup";import{AnchorButton,Button}from"../button/buttons";import{Icon}from"../icon/icon";let Toast=class extends AbstractPureComponent2{constructor(){super(...arguments),this.handleActionClick=t=>{this.props.action?.onClick?.(t),this.triggerDismiss(!1)},this.handleCloseClick=()=>this.triggerDismiss(!1),this.startTimeout=()=>{this.clearTimeouts(),this.props.timeout>0&&this.setTimeout((()=>this.triggerDismiss(!0)),this.props.timeout)}}render(){const{className:t,icon:s,intent:e,message:o}=this.props;return React.createElement("div",{className:classNames(Classes.TOAST,Classes.intentClass(e),t),onBlur:this.startTimeout,onFocus:this.clearTimeouts,onMouseEnter:this.clearTimeouts,onMouseLeave:this.startTimeout,tabIndex:0},React.createElement(Icon,{icon:s}),React.createElement("span",{className:Classes.TOAST_MESSAGE},o),React.createElement(ButtonGroup,{minimal:!0},this.maybeRenderActionButton(),React.createElement(Button,{"aria-label":"Close",icon:"cross",onClick:this.handleCloseClick})))}componentDidMount(){this.startTimeout()}componentDidUpdate(t){t.timeout!==this.props.timeout&&(this.props.timeout>0?this.startTimeout():this.clearTimeouts())}componentWillUnmount(){this.clearTimeouts()}maybeRenderActionButton(){const{action:t}=this.props;return null==t?void 0:React.createElement(AnchorButton,Object.assign({},t,{intent:void 0,onClick:this.handleActionClick}))}triggerDismiss(t){this.clearTimeouts(),this.props.onDismiss?.(t)}};Toast.defaultProps={className:"",message:"",timeout:5e3},Toast.displayName=`${DISPLAYNAME_PREFIX}.Toast`,Toast=__decorate([polyfill],Toast);export{Toast};