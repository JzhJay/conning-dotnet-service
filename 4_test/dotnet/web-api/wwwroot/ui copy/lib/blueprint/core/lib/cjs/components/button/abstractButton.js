"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractButton=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),common_1=require("../../common"),icon_1=require("../icon/icon"),spinner_1=require("../spinner/spinner"),AbstractButton=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t.handleKeyDown=function(e){var n,s;common_1.Keys.isKeyboardClick(e.which)&&(e.preventDefault(),e.which!==t.currentKeyDown&&t.setState({isActive:!0})),t.currentKeyDown=e.which,null===(s=(n=t.props).onKeyDown)||void 0===s||s.call(n,e)},t.handleKeyUp=function(e){var n,s,o;common_1.Keys.isKeyboardClick(e.which)&&(t.setState({isActive:!1}),null===(n=t.buttonRef)||void 0===n||n.click()),t.currentKeyDown=void 0,null===(o=(s=t.props).onKeyUp)||void 0===o||o.call(s,e)},t.handleBlur=function(e){var n,s;t.state.isActive&&t.setState({isActive:!1}),null===(s=(n=t.props).onBlur)||void 0===s||s.call(n,e)},t}return tslib_1.__extends(t,e),t.prototype.getCommonButtonProps=function(){var e,t=this.props,n=t.active,s=t.alignText,o=t.fill,i=t.large,c=t.loading,a=t.outlined,l=t.minimal,r=t.small,m=t.tabIndex,p=this.props.disabled||c;return{className:classnames_1.default(common_1.Classes.BUTTON,((e={})[common_1.Classes.ACTIVE]=!p&&(n||this.state.isActive),e[common_1.Classes.DISABLED]=p,e[common_1.Classes.FILL]=o,e[common_1.Classes.LARGE]=i,e[common_1.Classes.LOADING]=c,e[common_1.Classes.MINIMAL]=l,e[common_1.Classes.OUTLINED]=a,e[common_1.Classes.SMALL]=r,e),common_1.Classes.alignmentClass(s),common_1.Classes.intentClass(this.props.intent),this.props.className),disabled:p,onBlur:this.handleBlur,onClick:p?void 0:this.props.onClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:p?-1:m}},t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.icon,s=e.loading,o=e.rightIcon,i=e.text;return[s&&React.createElement(spinner_1.Spinner,{key:"loading",className:common_1.Classes.BUTTON_SPINNER,size:icon_1.IconSize.LARGE}),React.createElement(icon_1.Icon,{key:"leftIcon",icon:n}),(!common_1.Utils.isReactNodeEmpty(i)||!common_1.Utils.isReactNodeEmpty(t))&&React.createElement("span",{key:"text",className:common_1.Classes.BUTTON_TEXT},i,t),React.createElement(icon_1.Icon,{key:"rightIcon",icon:o})]},t}(common_1.AbstractPureComponent2);exports.AbstractButton=AbstractButton;