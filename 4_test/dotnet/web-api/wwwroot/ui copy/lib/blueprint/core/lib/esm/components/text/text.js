import{__assign,__decorate,__extends,__rest}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";var Text=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isContentOverflowing:!1,textContent:""},e.textRef=null,e}return __extends(e,t),e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.render=function(){var t,e=this,s=this.props,o=s.children,i=s.className,n=s.ellipsize,r=s.tagName,l=void 0===r?"div":r,a=s.title,p=__rest(s,["children","className","ellipsize","tagName","title"]),c=classNames(i,((t={})[Classes.TEXT_OVERFLOW_ELLIPSIS]=n,t));return React.createElement(l,__assign(__assign({},p),{className:c,ref:function(t){return e.textRef=t},title:null!=a?a:this.state.isContentOverflowing?this.state.textContent:void 0}),o)},e.prototype.update=function(){var t;if(null!=(null===(t=this.textRef)||void 0===t?void 0:t.textContent)){var e={isContentOverflowing:this.props.ellipsize&&this.textRef.scrollWidth>this.textRef.clientWidth,textContent:this.textRef.textContent};this.setState(e)}},e.displayName=DISPLAYNAME_PREFIX+".Text",e.defaultProps={ellipsize:!1},__decorate([polyfill],e)}(AbstractPureComponent2);export{Text};