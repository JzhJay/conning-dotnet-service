import{__extends}from"tslib";import classNames from"classnames";import*as React from"react";import{AbstractPureComponent2,Classes,Keys,Utils}from"../../common";import{Icon,IconSize}from"../icon/icon";import{Spinner}from"../spinner/spinner";var AbstractButton=function(e){function s(){var s=null!==e&&e.apply(this,arguments)||this;return s.state={isActive:!1},s.handleKeyDown=function(e){var t,n;Keys.isKeyboardClick(e.which)&&(e.preventDefault(),e.which!==s.currentKeyDown&&s.setState({isActive:!0})),s.currentKeyDown=e.which,null===(n=(t=s.props).onKeyDown)||void 0===n||n.call(t,e)},s.handleKeyUp=function(e){var t,n,i;Keys.isKeyboardClick(e.which)&&(s.setState({isActive:!1}),null===(t=s.buttonRef)||void 0===t||t.click()),s.currentKeyDown=void 0,null===(i=(n=s.props).onKeyUp)||void 0===i||i.call(n,e)},s.handleBlur=function(e){var t,n;s.state.isActive&&s.setState({isActive:!1}),null===(n=(t=s.props).onBlur)||void 0===n||n.call(t,e)},s}return __extends(s,e),s.prototype.getCommonButtonProps=function(){var e,s=this.props,t=s.active,n=s.alignText,i=s.fill,o=s.large,a=s.loading,l=s.outlined,r=s.minimal,c=s.small,p=s.tabIndex,m=this.props.disabled||a;return{className:classNames(Classes.BUTTON,((e={})[Classes.ACTIVE]=!m&&(t||this.state.isActive),e[Classes.DISABLED]=m,e[Classes.FILL]=i,e[Classes.LARGE]=o,e[Classes.LOADING]=a,e[Classes.MINIMAL]=r,e[Classes.OUTLINED]=l,e[Classes.SMALL]=c,e),Classes.alignmentClass(n),Classes.intentClass(this.props.intent),this.props.className),disabled:m,onBlur:this.handleBlur,onClick:m?void 0:this.props.onClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:m?-1:p}},s.prototype.renderChildren=function(){var e=this.props,s=e.children,t=e.icon,n=e.loading,i=e.rightIcon,o=e.text;return[n&&React.createElement(Spinner,{key:"loading",className:Classes.BUTTON_SPINNER,size:IconSize.LARGE}),React.createElement(Icon,{key:"leftIcon",icon:t}),(!Utils.isReactNodeEmpty(o)||!Utils.isReactNodeEmpty(s))&&React.createElement("span",{key:"text",className:Classes.BUTTON_TEXT},o,s),React.createElement(Icon,{key:"rightIcon",icon:i})]},s}(AbstractPureComponent2);export{AbstractButton};