"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Text=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),common_1=require("../../common"),props_1=require("../../common/props"),Text=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isContentOverflowing:!1,textContent:""},e.textRef=null,e}return tslib_1.__extends(e,t),e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.render=function(){var t,e=this,i=this.props,s=i.children,o=i.className,n=i.ellipsize,l=i.tagName,r=void 0===l?"div":l,a=i.title,c=tslib_1.__rest(i,["children","className","ellipsize","tagName","title"]),p=classnames_1.default(o,((t={})[common_1.Classes.TEXT_OVERFLOW_ELLIPSIS]=n,t));return React.createElement(r,tslib_1.__assign(tslib_1.__assign({},c),{className:p,ref:function(t){return e.textRef=t},title:null!=a?a:this.state.isContentOverflowing?this.state.textContent:void 0}),s)},e.prototype.update=function(){var t;if(null!=(null===(t=this.textRef)||void 0===t?void 0:t.textContent)){var e={isContentOverflowing:this.props.ellipsize&&this.textRef.scrollWidth>this.textRef.clientWidth,textContent:this.textRef.textContent};this.setState(e)}},e.displayName=props_1.DISPLAYNAME_PREFIX+".Text",e.defaultProps={ellipsize:!1},tslib_1.__decorate([react_lifecycles_compat_1.polyfill],e)}(common_1.AbstractPureComponent2);exports.Text=Text;