"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuItem=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),common_1=require("../../common"),props_1=require("../../common/props"),icon_1=require("../icon/icon"),popover_1=require("../popover/popover"),text_1=require("../text/text"),menu_1=require("./menu"),MenuItem=function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return tslib_1.__extends(s,e),s.prototype.render=function(){var e,s,t=this.props,o=t.active,a=t.className,l=t.children,n=t.disabled,i=t.icon,r=t.intent,m=(t.labelClassName,t.labelElement),c=t.multiline,_=(t.popoverProps,t.shouldDismissPopover),p=t.text,u=t.textClassName,d=t.tagName,v=void 0===d?"a":d,E=t.htmlTitle,b=tslib_1.__rest(t,["active","className","children","disabled","icon","intent","labelClassName","labelElement","multiline","popoverProps","shouldDismissPopover","text","textClassName","tagName","htmlTitle"]),P=null!=l,I=common_1.Classes.intentClass(r),f=classnames_1.default(common_1.Classes.MENU_ITEM,I,((e={})[common_1.Classes.ACTIVE]=o,e[common_1.Classes.INTENT_PRIMARY]=o&&null==I,e[common_1.Classes.DISABLED]=n,e[common_1.Classes.POPOVER_DISMISS]=_&&!n&&!P,e),a),N=React.createElement(v,tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({tabIndex:0},b),n?DISABLED_PROPS:{}),{className:f}),React.createElement(icon_1.Icon,{icon:i}),React.createElement(text_1.Text,{className:classnames_1.default(common_1.Classes.FILL,u),ellipsize:!c,title:E},p),this.maybeRenderLabel(m),P?React.createElement(icon_1.Icon,{title:"Open sub menu",icon:"caret-right"}):void 0),M=classnames_1.default(((s={})[common_1.Classes.MENU_SUBMENU]=P,s));return React.createElement("li",{className:M},this.maybeRenderPopover(N,l))},s.prototype.maybeRenderLabel=function(e){var s=this.props,t=s.label,o=s.labelClassName;return null==t&&null==e?null:React.createElement("span",{className:classnames_1.default(common_1.Classes.MENU_ITEM_LABEL,o)},t,e)},s.prototype.maybeRenderPopover=function(e,s){if(null==s)return e;var t=this.props,o=t.disabled,a=t.popoverProps;return React.createElement(popover_1.Popover,tslib_1.__assign({autoFocus:!1,captureDismiss:!1,disabled:o,enforceFocus:!1,hoverCloseDelay:0,interactionKind:popover_1.PopoverInteractionKind.HOVER,modifiers:SUBMENU_POPOVER_MODIFIERS,position:common_1.Position.RIGHT_TOP,usePortal:!1},a,{content:React.createElement(menu_1.Menu,null,s),minimal:!0,popoverClassName:classnames_1.default(common_1.Classes.MENU_SUBMENU,null==a?void 0:a.popoverClassName),target:e}))},s.defaultProps={disabled:!1,multiline:!1,popoverProps:{},shouldDismissPopover:!0,text:""},s.displayName=props_1.DISPLAYNAME_PREFIX+".MenuItem",tslib_1.__decorate([react_lifecycles_compat_1.polyfill],s)}(common_1.AbstractPureComponent2);exports.MenuItem=MenuItem;var SUBMENU_POPOVER_MODIFIERS={flip:{boundariesElement:"viewport",padding:20},offset:{offset:-5},preventOverflow:{boundariesElement:"viewport",padding:20}},DISABLED_PROPS={href:void 0,onClick:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,tabIndex:-1};