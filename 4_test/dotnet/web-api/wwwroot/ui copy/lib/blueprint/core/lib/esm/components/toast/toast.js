import{__assign,__decorate,__extends}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";import{ButtonGroup}from"../button/buttonGroup";import{AnchorButton,Button}from"../button/buttons";import{Icon}from"../icon/icon";var Toast=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.handleActionClick=function(t){var e,s;null===(s=null===(e=o.props.action)||void 0===e?void 0:e.onClick)||void 0===s||s.call(e,t),o.triggerDismiss(!1)},o.handleCloseClick=function(){return o.triggerDismiss(!1)},o.startTimeout=function(){o.clearTimeouts(),o.props.timeout>0&&o.setTimeout((function(){return o.triggerDismiss(!0)}),o.props.timeout)},o}return __extends(o,t),o.prototype.render=function(){var t=this.props,o=t.className,e=t.icon,s=t.intent,i=t.message;return React.createElement("div",{className:classNames(Classes.TOAST,Classes.intentClass(s),o),onBlur:this.startTimeout,onFocus:this.clearTimeouts,onMouseEnter:this.clearTimeouts,onMouseLeave:this.startTimeout,tabIndex:0},React.createElement(Icon,{icon:e}),React.createElement("span",{className:Classes.TOAST_MESSAGE},i),React.createElement(ButtonGroup,{minimal:!0},this.maybeRenderActionButton(),React.createElement(Button,{"aria-label":"Close",icon:"cross",onClick:this.handleCloseClick})))},o.prototype.componentDidMount=function(){this.startTimeout()},o.prototype.componentDidUpdate=function(t){t.timeout!==this.props.timeout&&(this.props.timeout>0?this.startTimeout():this.clearTimeouts())},o.prototype.componentWillUnmount=function(){this.clearTimeouts()},o.prototype.maybeRenderActionButton=function(){var t=this.props.action;return null==t?void 0:React.createElement(AnchorButton,__assign({},t,{intent:void 0,onClick:this.handleActionClick}))},o.prototype.triggerDismiss=function(t){var o,e;this.clearTimeouts(),null===(e=(o=this.props).onDismiss)||void 0===e||e.call(o,t)},o.defaultProps={className:"",message:"",timeout:5e3},o.displayName=DISPLAYNAME_PREFIX+".Toast",__decorate([polyfill],o)}(AbstractPureComponent2);export{Toast};