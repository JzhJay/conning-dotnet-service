import{__assign,__decorate,__extends,__rest}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes,refHandler,setRef}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";var TextArea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.textareaElement=null,t.handleRef=refHandler(t,"textareaElement",t.props.inputRef),t.handleChange=function(e){t.props.growVertically&&t.setState({height:e.target.scrollHeight}),null!=t.props.onChange&&t.props.onChange(e)},t}return __extends(t,e),t.prototype.componentDidMount=function(){var e;this.props.growVertically&&null!==this.textareaElement&&this.setState({height:null===(e=this.textareaElement)||void 0===e?void 0:e.scrollHeight})},t.prototype.componentDidUpdate=function(e){e.inputRef!==this.props.inputRef&&(setRef(e.inputRef,null),this.handleRef=refHandler(this,"textareaElement",this.props.inputRef),setRef(this.props.inputRef,this.textareaElement))},t.prototype.render=function(){var e,t=this.props,s=t.className,a=t.fill,r=(t.inputRef,t.intent),n=t.large,l=t.small,i=t.growVertically,o=__rest(t,["className","fill","inputRef","intent","large","small","growVertically"]),p=classNames(Classes.INPUT,Classes.intentClass(r),((e={})[Classes.FILL]=a,e[Classes.LARGE]=n,e[Classes.SMALL]=l,e),s),h=o.style,m=void 0===h?{}:h;return i&&null!=this.state.height&&(m=__assign(__assign({},m),{height:this.state.height+"px"})),React.createElement("textarea",__assign({},o,{className:p,onChange:this.handleChange,ref:this.handleRef,style:m}))},t.displayName=DISPLAYNAME_PREFIX+".TextArea",__decorate([polyfill],t)}(AbstractPureComponent2);export{TextArea};