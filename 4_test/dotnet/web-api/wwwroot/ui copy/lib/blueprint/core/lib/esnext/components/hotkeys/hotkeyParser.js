export const KeyCodes={8:"backspace",9:"tab",13:"enter",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};export const Modifiers={16:"shift",17:"ctrl",18:"alt",91:"meta",93:"meta",224:"meta"};export const ModifierBitMasks={alt:1,ctrl:2,meta:4,shift:8};export const Aliases={cmd:"meta",command:"meta",escape:"esc",minus:"-",mod:isMac()?"meta":"ctrl",option:"alt",plus:"+",return:"enter",win:"meta"};export const ShiftKeys={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"};for(let e=1;e<=12;++e)KeyCodes[111+e]="f"+e;for(let t=0;t<=9;++t)KeyCodes[96+t]="num"+t.toString();export function comboMatches(e,t){return e.modifiers===t.modifiers&&e.key===t.key}export const parseKeyCombo=e=>{const t=e.replace(/\s/g,"").toLowerCase().split("+");let o,s=0;for(let i of t){if(""===i)throw new Error(`Failed to parse key combo "${e}".\n                Valid key combos look like "cmd + plus", "shift+p", or "!"`);null!=Aliases[i]&&(i=Aliases[i]),null!=ModifierBitMasks[i]?s+=ModifierBitMasks[i]:null!=ShiftKeys[i]?(s+=ModifierBitMasks.shift,o=ShiftKeys[i]):o=i.toLowerCase()}return{modifiers:s,key:o}};export const getKeyComboString=e=>{const t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),e.metaKey&&t.push("meta");const{which:o}=e;return null!=Modifiers[o]||(null!=KeyCodes[o]?t.push(KeyCodes[o]):t.push(String.fromCharCode(o).toLowerCase())),t.join(" + ")};export const getKeyCombo=e=>{let t;const{which:o}=e;null!=Modifiers[o]||(t=null!=KeyCodes[o]?KeyCodes[o]:String.fromCharCode(o).toLowerCase());let s=0;return e.altKey&&(s+=ModifierBitMasks.alt),e.ctrlKey&&(s+=ModifierBitMasks.ctrl),e.metaKey&&(s+=ModifierBitMasks.meta),e.shiftKey&&(s+=ModifierBitMasks.shift),{modifiers:s,key:t}};export const normalizeKeyCombo=(e,t)=>e.replace(/\s/g,"").split("+").map((e=>{const o=null!=Aliases[e]?Aliases[e]:e;return"meta"===o?isMac(t)?"cmd":"ctrl":o}));function isMac(e){const t=null!=e?e:"undefined"!=typeof navigator?navigator.platform:void 0;return null!=t&&/Mac|iPod|iPhone|iPad/.test(t)}