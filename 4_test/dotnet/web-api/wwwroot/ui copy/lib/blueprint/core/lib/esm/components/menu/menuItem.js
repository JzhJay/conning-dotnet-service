import{__assign,__decorate,__extends,__rest}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes,Position}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";import{Icon}from"../icon/icon";import{Popover,PopoverInteractionKind}from"../popover/popover";import{Text}from"../text/text";import{Menu}from"./menu";var MenuItem=function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return __extends(s,e),s.prototype.render=function(){var e,s,t=this.props,o=t.active,a=t.className,l=t.children,n=t.disabled,r=t.icon,i=t.intent,m=(t.labelClassName,t.labelElement),p=t.multiline,c=(t.popoverProps,t.shouldDismissPopover),u=t.text,d=t.textClassName,E=t.tagName,v=void 0===E?"a":E,_=t.htmlTitle,P=__rest(t,["active","className","children","disabled","icon","intent","labelClassName","labelElement","multiline","popoverProps","shouldDismissPopover","text","textClassName","tagName","htmlTitle"]),N=null!=l,I=Classes.intentClass(i),f=classNames(Classes.MENU_ITEM,I,((e={})[Classes.ACTIVE]=o,e[Classes.INTENT_PRIMARY]=o&&null==I,e[Classes.DISABLED]=n,e[Classes.POPOVER_DISMISS]=c&&!n&&!N,e),a),R=React.createElement(v,__assign(__assign(__assign({tabIndex:0},P),n?DISABLED_PROPS:{}),{className:f}),React.createElement(Icon,{icon:r}),React.createElement(Text,{className:classNames(Classes.FILL,d),ellipsize:!p,title:_},u),this.maybeRenderLabel(m),N?React.createElement(Icon,{title:"Open sub menu",icon:"caret-right"}):void 0),b=classNames(((s={})[Classes.MENU_SUBMENU]=N,s));return React.createElement("li",{className:b},this.maybeRenderPopover(R,l))},s.prototype.maybeRenderLabel=function(e){var s=this.props,t=s.label,o=s.labelClassName;return null==t&&null==e?null:React.createElement("span",{className:classNames(Classes.MENU_ITEM_LABEL,o)},t,e)},s.prototype.maybeRenderPopover=function(e,s){if(null==s)return e;var t=this.props,o=t.disabled,a=t.popoverProps;return React.createElement(Popover,__assign({autoFocus:!1,captureDismiss:!1,disabled:o,enforceFocus:!1,hoverCloseDelay:0,interactionKind:PopoverInteractionKind.HOVER,modifiers:SUBMENU_POPOVER_MODIFIERS,position:Position.RIGHT_TOP,usePortal:!1},a,{content:React.createElement(Menu,null,s),minimal:!0,popoverClassName:classNames(Classes.MENU_SUBMENU,null==a?void 0:a.popoverClassName),target:e}))},s.defaultProps={disabled:!1,multiline:!1,popoverProps:{},shouldDismissPopover:!0,text:""},s.displayName=DISPLAYNAME_PREFIX+".MenuItem",__decorate([polyfill],s)}(AbstractPureComponent2);export{MenuItem};var SUBMENU_POPOVER_MODIFIERS={flip:{boundariesElement:"viewport",padding:20},offset:{offset:-5},preventOverflow:{boundariesElement:"viewport",padding:20}},DISABLED_PROPS={href:void 0,onClick:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,tabIndex:-1};