import{__decorate}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Classes,Position}from"../../common";import{DISPLAYNAME_PREFIX}from"../../common/props";import{Icon}from"../icon/icon";import{Popover,PopoverInteractionKind}from"../popover/popover";import{Text}from"../text/text";import{Menu}from"./menu";let MenuItem=class extends AbstractPureComponent2{render(){const{active:e,className:s,children:t,disabled:o,icon:a,intent:l,labelClassName:n,labelElement:r,multiline:i,popoverProps:m,shouldDismissPopover:c,text:p,textClassName:u,tagName:d="a",htmlTitle:E,...I}=this.props,P=null!=t,N=Classes.intentClass(l),v=classNames(Classes.MENU_ITEM,N,{[Classes.ACTIVE]:e,[Classes.INTENT_PRIMARY]:e&&null==N,[Classes.DISABLED]:o,[Classes.POPOVER_DISMISS]:c&&!o&&!P},s),M=React.createElement(d,{tabIndex:0,...I,...o?DISABLED_PROPS:{},className:v},React.createElement(Icon,{icon:a}),React.createElement(Text,{className:classNames(Classes.FILL,u),ellipsize:!i,title:E},p),this.maybeRenderLabel(r),P?React.createElement(Icon,{title:"Open sub menu",icon:"caret-right"}):void 0),R=classNames({[Classes.MENU_SUBMENU]:P});return React.createElement("li",{className:R},this.maybeRenderPopover(M,t))}maybeRenderLabel(e){const{label:s,labelClassName:t}=this.props;return null==s&&null==e?null:React.createElement("span",{className:classNames(Classes.MENU_ITEM_LABEL,t)},s,e)}maybeRenderPopover(e,s){if(null==s)return e;const{disabled:t,popoverProps:o}=this.props;return React.createElement(Popover,Object.assign({autoFocus:!1,captureDismiss:!1,disabled:t,enforceFocus:!1,hoverCloseDelay:0,interactionKind:PopoverInteractionKind.HOVER,modifiers:SUBMENU_POPOVER_MODIFIERS,position:Position.RIGHT_TOP,usePortal:!1},o,{content:React.createElement(Menu,null,s),minimal:!0,popoverClassName:classNames(Classes.MENU_SUBMENU,o?.popoverClassName),target:e}))}};MenuItem.defaultProps={disabled:!1,multiline:!1,popoverProps:{},shouldDismissPopover:!0,text:""},MenuItem.displayName=`${DISPLAYNAME_PREFIX}.MenuItem`,MenuItem=__decorate([polyfill],MenuItem);export{MenuItem};const SUBMENU_POPOVER_MODIFIERS={flip:{boundariesElement:"viewport",padding:20},offset:{offset:-5},preventOverflow:{boundariesElement:"viewport",padding:20}},DISABLED_PROPS={href:void 0,onClick:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,tabIndex:-1};