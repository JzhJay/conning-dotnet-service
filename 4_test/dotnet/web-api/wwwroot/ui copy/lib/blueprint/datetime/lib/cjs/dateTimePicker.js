"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateTimePicker=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),core_1=require("@blueprintjs/core"),Classes=tslib_1.__importStar(require("./common/classes")),DateUtils=tslib_1.__importStar(require("./common/dateUtils")),datePicker_1=require("./datePicker"),timePicker_1=require("./timePicker"),DateTimePicker=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.handleDateChange=function(e,t){var a,r;void 0===i.props.value&&i.setState({dateValue:e});var s=DateUtils.getDateTime(e,i.state.timeValue);null===(r=(a=i.props).onChange)||void 0===r||r.call(a,s,t)},i.handleTimeChange=function(e){var t,a;void 0===i.props.value&&i.setState({timeValue:e});var r=DateUtils.getDateTime(i.state.dateValue,e);null===(a=(t=i.props).onChange)||void 0===a||a.call(t,r,!0)};var r=void 0!==i.props.value?i.props.value:i.props.defaultValue;return i.state={dateValue:r,timeValue:r},i}return tslib_1.__extends(t,e),t.prototype.render=function(){var e=DateUtils.getDateTime(this.state.dateValue,this.state.timeValue);return React.createElement("div",{className:classnames_1.default(Classes.DATETIMEPICKER,this.props.className)},React.createElement(datePicker_1.DatePicker,tslib_1.__assign({},this.props.datePickerProps,{canClearSelection:this.props.canClearSelection,onChange:this.handleDateChange,value:e})),React.createElement(timePicker_1.TimePicker,tslib_1.__assign({},this.props.timePickerProps,{onChange:this.handleTimeChange,value:this.state.timeValue})))},t.prototype.componentDidUpdate=function(e){this.props.value!==e.value&&(null!=this.props.value?this.setState({dateValue:this.props.value,timeValue:this.props.value}):this.setState({dateValue:null}))},t.defaultProps={canClearSelection:!0,defaultValue:new Date},t.displayName=core_1.DISPLAYNAME_PREFIX+".DateTimePicker",tslib_1.__decorate([react_lifecycles_compat_1.polyfill],t)}(core_1.AbstractPureComponent2);exports.DateTimePicker=DateTimePicker;