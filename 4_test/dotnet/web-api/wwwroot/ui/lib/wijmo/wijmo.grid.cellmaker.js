/*! For license information please see wijmo.grid.cellmaker.js.LICENSE.txt */
var wijmo;!function(e){var t;(function(t){var n,r;!function(e){e[e.Line=0]="Line",e[e.Column=1]="Column",e[e.WinLoss=2]="WinLoss"}(n=t.SparklineType||(t.SparklineType={})),function(e){e[e.None=0]="None",e[e.First=1]="First",e[e.Last=2]="Last",e[e.High=4]="High",e[e.Low=8]="Low",e[e.Negative=16]="Negative"}(r=t.SparklineMarkers||(t.SparklineMarkers={}));var a=function(){function t(){}return t.makeButton=function(n){return function(r,a){r.col.isReadOnly=!0,a.innerHTML="";var i=e.format('<button type="button" tabindex="-1">{txt}</button>',{txt:t._getOptionText(n,"text",r,r.text)});return t._createElement(a,i,n,r),null}},t.makeLink=function(n){return function(r,a){r.col.isReadOnly=!0,a.innerHTML="";var i=e.format('<a href="{href}" tabindex="-1">{txt}</a>',{txt:t._getOptionText(n,"text",r,r.text),href:t._getOptionText(n,"href",r,"#")});return t._createElement(a,i,n,r),null}},t.makeSparkline=function(n){return function(r,a){r.col.isReadOnly=!0,a.innerHTML="";var i=e.format("<div><svg><g>{spark}</g></svg></div>",{spark:t._getSparkline(r.value,n)});return t._createElement(a,i,n,r),null}},t.makeImage=function(n){return function(r,a){r.col.isReadOnly=!0,a.innerHTML="";var i=e.format('<img src="{src}"></div>',{src:t._getOptionText(n,"src",r,r.text)});return t._createElement(a,i,n,r),null}},t.makeRating=function(n){return function(r,a){var i=r.col,l=e.grid.DataMapEditor,s=i.cssClass||"",o=t._WJC_CellMaker;if(!i.dataMap||i.dataMapEditor!=l.RadioButtons||s.indexOf(o)<0){for(var u=n?n.range:null,c=[],m=(u=u&&e.isArray(u)&&u.length>1&&u[1]>u[0]?u:[0,5])[0];m<=u[1];m++)c.push(m);i.dataMap=new e.grid.DataMap(c),i.dataMapEditor=l.RadioButtons,s.indexOf(o)<0&&(i.cssClass=(s+" "+o).trim())}if(n&&n.label){var f=t._getOptionText(n,"label",r);a.setAttribute("aria-label",f.trim())}var g=a.querySelectorAll("label"),x="input:checked",d=!!n&&n.showZeros,h=null==a.querySelector(x);for(m=0;m<g.length;m++){var k=(f=g[m]).querySelector("input");e.toggleClass(f,"wj-chk-hidden","0"==k.value&&!d),e.toggleClass(f,"wj-chk-off",h),h=h||null!=f.querySelector(x)}return null}},t._getOptionText=function(t,n,r,a){void 0===a&&(a="");var i=t?t[n]:"";return i?e.evalTemplate(i,r):a},t._createElement=function(n,r,a,i){var l=e.createElement(r,n),s=t._WJC_CellMaker;if(a&&a.cssClass&&(s+=" "+t._getOptionText(a,"cssClass",i)),l.className=s.trim(),a&&a.label){var o=t._getOptionText(a,"label",i);l.setAttribute("aria-label",o.trim()),l instanceof HTMLImageElement&&l.setAttribute("alt",o.trim())}if(a&&a.attributes)for(var u in a.attributes)l.setAttribute(u,a.attributes[u]);return a&&e.isFunction(a.click)&&(l.onclick=t._handleClick.bind({options:a,ctx:t._cloneContext(i)})),l},t._cloneContext=function(t){if(e.isFunction(Object.assign))return Object.assign({},t);var n={};for(var r in t)n[r]=t[r];return n},t._handleClick=function(t){var n=this.options;if(e.isFunction(n.click)){t.preventDefault();var r=this.ctx;n.click(t,r)}},t._getSparkline=function(a,i){var l="",s=n,o=r,u=null!=(i=i||{}).type?i.type:s.Line,c=null!=i.markers?i.markers:o.None,m=e.isNumber(i.baseValue)?i.baseValue:u==s.Line?null:0,f=e.isNumber(i.maxPoints)?i.maxPoints:null;if(a instanceof Array&&a.length>1){u==s.WinLoss&&(a=a.map((function(t){return e.isBoolean(t)?t?1:-1:e.isNumber(t)?t>0?1:t<0?-1:null:null})));var g=t._scaleValues(a,m,f),x=g.points,d=g.base,h=100/(x.length-(u==s.Line?1:0)),k=h>4?h-2:h,v=h-k;switch(u){case s.Column:case s.WinLoss:for(var b=0;b<x.length;b++){var p=x[b];null!=p&&(l+=e.format("<rect {cls}x={x}% y={y}% width={w}% height={h}% />",{x:(b*h+v).toFixed(2),y:Math.min(d,p),w:k.toFixed(2),h:Math.abs(d-p),cls:t._getMarkers(c,g,b)}))}break;case s.Line:for(b=0;b<x.length-1;b++){var M=x[b],_=x[b+1];null!=M&&null!=_&&(l+=e.format("<line x1={x1}% y1={y1}% x2={x2}% y2={y2}% />",{x1:Math.round(h*b),y1:M,x2:Math.round(h*(b+1)),y2:_}));var y=t._getMarkers(c,g,b),L='<circle {cls}cx={x}% cy={y}% r="3"/>';y&&(l+=e.format(L,{x:Math.round(h*b),y:M,cls:y})),b==x.length-2&&(y=t._getMarkers(c,g,b+1))&&(l+=e.format(L,{x:Math.round(h*(b+1)),y:_,cls:y}))}}null!=m&&u!=s.WinLoss&&(l+=e.format('<line class="x-axis" x1=0% y1={base}% x2=100% y2={base}% />',{base:g.base}))}return l},t._scaleValues=function(t,n,r){var a,i,l=[];if(r&&r>1&&t.length>r&&(t=t.slice(0,r)),t.forEach((function(t){e.isNumber(t)&&(a=!e.isNumber(a)||t<a?t:a,i=!e.isNumber(i)||t>i?t:i)})),e.isNumber(a)&&e.isNumber(i)){null!=n?(a=Math.min(a,n),i=Math.max(i,n)):n=a>0?a:i<0?i:0,a==i&&(a--,i++);var s=i-a;t.forEach((function(t){l.push(e.isNumber(t)?100-Math.round((t-a)/s*100):null)})),n=100-Math.round((n-a)/s*100)}return{min:a,max:i,base:n,points:l,data:t}},t._getMarkers=function(e,t,n){var a="",i=r;if(e){var l=t.data,s="wj-marker-";0!=(e&i.First)&&0==n&&(a+=s+"first "),0!=(e&i.Last)&&n==l.length-1&&(a+=s+"last "),0!=(e&i.High)&&l[n]==t.max&&(a+=s+"high "),0!=(e&i.Low)&&l[n]==t.min&&(a+=s+"low "),0!=(e&i.Negative)&&l[n]<0&&(a+=s+"negative ")}return a?'class="wj-marker '+a.trim()+'"':""},t._WJC_CellMaker="wj-cell-maker",t}();t.CellMaker=a})((t=e.grid||(e.grid={})).cellmaker||(t.cellmaker={}))}(wijmo||(wijmo={})),function(e){var t;(t=e.grid||(e.grid={})).cellmaker||(t.cellmaker={}),e._registerModule("wijmo.grid.cellmaker",e.grid.cellmaker)}(wijmo||(wijmo={}));