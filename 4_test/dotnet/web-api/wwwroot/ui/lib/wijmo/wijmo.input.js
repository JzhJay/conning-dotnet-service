/*! For license information please see wijmo.input.js.LICENSE.txt */
var wijmo,__extends=this&&this.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(e){!function(t){"use strict";e._addCultureInfo("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var i=function(t){function i(i,n){var s=t.call(this,i)||this;s._value=null,s._min=null,s._max=null,s._format="",s._step=null,s._showBtn=!0,s._readOnly=!1,s._handleWheel=!0,s._oldText="",s.textChanged=new e.Event,s.valueChanged=new e.Event;var o=s.hostElement;e.setAttribute(o,"role","spinbutton",!0);var r=s.getTemplate();s.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=e.culture.InputNumber.ariaLabels;e.setAriaLabel(s._btnUp.querySelector("button"),a.incVal),e.setAriaLabel(s._btnDn.querySelector("button"),a.decVal),s._tbx.type.match(/number/i)&&(s.inputType="");var l=s._tbx;l.autocomplete="off",l.spellcheck=!1,s._updateSymbols();var h=s.addEventListener.bind(s);h(l,"keypress",s._keypress.bind(s)),h(l,"keydown",s._keydown.bind(s)),h(l,"input",s._input.bind(s)),h(l,"blur",(function(){s.text!=s._oldText&&s._setText(s.text)})),h(l,"compositionstart",(function(){s._composing=!0})),h(l,"compositionend",(function(){s._composing=!1,setTimeout((function(){var e=s.text,t=s._oldText,i=s._chrPct;t&&t.indexOf(i)>-1&&e.indexOf(i)<0&&(e+=i),s._setText(e)}))}));var c=s._clickSpinner.bind(s);return h(s._btnUp,"click",c),h(s._btnDn,"click",c),s._rptUp=new e._ClickRepeater(s._btnUp.querySelector("button")),s._rptDn=new e._ClickRepeater(s._btnDn.querySelector("button")),h(l,"wheel",(function(t){if(s.handleWheel&&!t.defaultPrevented&&!t.ctrlKey&&s._isEditable()&&s.containsFocus()){var i=e.clamp(-t.deltaY,-1,1);s._increment((s.step||1)*i),setTimeout((function(){return s.selectAll()})),t.preventDefault()}})),s.value=0,s.isRequired=!0,s.initialize(n),s}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=e.asNumber(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var i=e.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t),this.inputElement.readOnly=this._readOnly,e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=e.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=e.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=e.asNumber(t,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=e.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=e.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!e.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._tbx;e.setSelectionRange(t,0,t.value.length)},i.prototype.clamp=function(t){return e.clamp(t,this.min,this.max)},i.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},i.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},i.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,t.prototype.dispose.call(this)},i.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),t.prototype.onGotFocus.call(this,e)},i.prototype.onLostFocus=function(i){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var n=this.clamp(this.value);if(n==this.value||this.onInvalidInput(new e.CancelEventArgs)){var s=e.Globalize.format(n,this.format);this._setText(s)}}t.prototype.onLostFocus.call(this,i)},i.prototype.refresh=function(i){if(void 0===i&&(i=!0),t.prototype.refresh.call(this,i),this.hostElement){this._updateSymbols();var n=e.Globalize.format(this.value,this.format);this._setText(n)}},i.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},i.prototype._updateSymbols=function(){var t=e.culture.Globalize.numberFormat,i=e.Globalize._parseNumericFormat(this.format);this._chrDec=t["."]||".",this._chrTho=t[","]||",",this._chrNeg=t["-"]||"-",this._chrPls=t["+"]||"+",this._chrPct=t["%"]||"%",this._chrCur=i.curr||t.currency.symbol||"$",this._fmtSpc=i.spec,this._fmtPrc=i.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},i.prototype._isNumeric=function(e,t){var i=e==this._chrDec||e>="0"&&e<="9",n="x"==this._fmtSpc;return!i&&n&&(i=e>="a"&&e<="f"||e>="A"&&e<="F"),i||t||n||(i=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),i},i.prototype._getInputRange=function(e){for(var t=[0,0],i=this.text,n=!1,s=0;s<i.length;s++)this._isNumeric(i[s],e)&&(n||(t[0]=s,n=!0),t[1]=s+1);return t},i.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},i.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,i=this._tbx.value,n=0;n<i.length&&n<t;n++)this._isNumeric(i[n],!0)&&e++;return e},i.prototype._setSelStartDigits=function(t){for(var i=this._tbx.value,n=0;n<i.length&&t>=0;n++)if(this._isNumeric(i[n],!0)){if(!t){e.setSelectionRange(this._tbx,n);break}t--}else if(!t){e.setSelectionRange(this._tbx,n);break}},i.prototype._increment=function(t){if(t){var i=this.clamp(e.isNumber(this.value)?this.value+t:0),n=e.Globalize.format(i,this.format,!1,!1);this._setText(n)}},i.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,i=t;e.setCss([this._btnUp,this._btnDn],{display:t?"":"none"}),e.toggleClass(this.hostElement,"wj-input-show-spinner",t),e.enable(this._btnUp,i),e.enable(this._btnDn,i),this._updateAria()},i.prototype._setText=function(t){if(!this._composing){var i=this._tbx,n=this._chrDec,s=this._rxNeg.test(t),o=this._delKey,r=this.containsFocus();if(t&&this._rxSym.test(t)&&r&&(t=this.isRequired||!o?(s?"-0":"0")+(t.indexOf(n)>-1?n:""):""),this._delKey=!1,o&&0==this.value&&!this.isRequired&&(t=""),!t){if(!this.isRequired)return i.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=t,this.onTextChanged()),void this._updateBtn();t="0"}var a=t.indexOf(n),l=this._format||(a>-1?"n2":"n0"),h=e.Globalize.parseFloat(t,l);if(isFinite(h)||(h=this.clamp(h)),isNaN(h))this.onInvalidInput(new e.CancelEventArgs)?i.value=this._oldText:this.focus();else{var c=r&&a>-1?2:null,u=e.Globalize.format(h,l,!1,!1,c);s&&h>=0&&!o&&(u=this._chrNeg+u),r&&a>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(u=t).indexOf(n)<0&&(u+=n),i.value!=u&&(i.value=u,h=e.Globalize.parseFloat(u,l)),h!=this._value&&(this._value=h,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},i.prototype._keypress=function(t){if(!t.defaultPrevented&&!this._composing&&this._isEditable()&&t.charCode&&!t.ctrlKey&&!t.metaKey){var i=this._tbx,n=String.fromCharCode(t.charCode);if(this._isNumeric(n,!1)){var s=i.maxLength;if(s>-1&&i.value.length>=s&&i.selectionEnd==i.selectionStart)return void t.preventDefault();var o=this._getInputRange(!0),r=i.selectionStart,a=i.selectionEnd;if(r<o[0]&&a<i.value.length&&(a=Math.max(a,o[0]),e.setSelectionRange(i,o[0],a)),r>=o[1]){var l=null!=this._fmtPrc?this._fmtPrc:2,h=i.value.indexOf(this._chrDec);h>-1&&r-h>l&&t.preventDefault()}}else t.preventDefault();switch(n){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&i.selectionStart==i.selectionEnd?this._flipSign():this.clamp(-1)<0&&(i.value=this._chrNeg,e.setSelectionRange(i,1)),t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),t.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var c=i.value.indexOf(this._chrDec);c>-1&&(i.selectionStart<=c&&c++,e.setSelectionRange(i,c),t.preventDefault())}}if(!t.defaultPrevented&&e.isIE()){var u=i.value;(r=i.selectionStart)==(a=i.selectionEnd)&&(i.value=u.substr(0,r)+n+u.substr(a),e.setSelectionRange(i,r+1),t.preventDefault(),this._input())}}},i.prototype._keydown=function(t){var i=this;if(this._delKey=!1,!t.defaultPrevented&&!this._composing&&!e.hasClass(this._tbx,"wj-grid-ime")){var n=this._tbx,s=n.value,o=n.selectionStart,r=n.selectionEnd;switch(t.keyCode){case 65:t.ctrlKey&&(setTimeout((function(){i.selectAll()})),t.preventDefault());break;case e.Key.Up:case e.Key.Down:this.step&&this._isEditable()&&(this._increment(this.step*(t.keyCode==e.Key.Up?1:-1)),setTimeout((function(){i.selectAll()})),t.preventDefault());break;case e.Key.Back:if(this._delKey=!0,r-o<2&&this._isEditable()){var a=s[r-1];a!=this._chrDec&&a!=this._chrPct&&a!=this._chrTho&&")"!=a||(setTimeout((function(){r=a==i._chrPct?i._getInputRange(!0)[1]:r-1,e.setSelectionRange(n,r)})),t.preventDefault())}break;case e.Key.Delete:if(this._delKey=!0,r-o<2&&this._isEditable())if("0"==s&&1==o)e.setSelectionRange(n,0);else{var l=s[o];l!=this._chrDec&&l!=this._chrPct||(setTimeout((function(){e.setSelectionRange(n,o+1)})),t.preventDefault())}break;case e.Key.Escape:this.value=this._oldValue,this.selectAll()}}},i.prototype._input=function(){var t=this;this._composing||setTimeout((function(){var i=t._tbx,n=i.value,s=n.indexOf(t._chrDec),o=i.selectionStart,r=t._getSelStartDigits();if("p"==t._fmtSpc&&n.length&&n.indexOf(t._chrPct)<0&&(n+=t._chrPct),t._setText(n),t.containsFocus()){var a=i.value,l=a.indexOf(t._chrDec),h=t._getInputRange(!0);if(n==t._chrNeg+t._chrDec&&l>-1)return void e.setSelectionRange(i,l+1);if(n[0]==t._chrNeg&&a[0]!=t._chrNeg)return void(1==a.length?e.setSelectionRange(i,1):t._setSelStartDigits(r));n?n==t._chrDec&&l>-1?o=l+1:o<=s&&l>-1||s<0&&l<0?o+=a.length-n.length:s<0&&l>-1&&(o=l):o=l>-1?l:h[1],o=e.clamp(o,h[0],h[1]),e.setSelectionRange(i,o)}}))},i.prototype._clickSpinner=function(t){var i=this;!t.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(e.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout((function(){return i.selectAll()})))},i.prototype._updateAria=function(){var t=this.hostElement;t&&(e.setAttribute(t,"aria-valuemin",this.min),e.setAttribute(t,"aria-valuemax",this.max),e.setAttribute(t,"aria-valuenow",this.value),e.enable(this._btnDn,null==this.min||this.value>this.min),e.enable(this._btnUp,null==this.max||this.value<this.max))},i.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',i}(e.Control);t.InputNumber=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;s.valueChanged=new e.Event;var o=s.getTemplate();if(s.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==s._orgTag){var r=s._tbx.getAttribute("value");r&&(s.value=r)}return s._msk=new e._MaskProvider(s._tbx),s.isRequired=!0,s.initialize(n),s.addEventListener(s._tbx,"input",(function(){s.onValueChanged()})),s.addEventListener(s._tbx,"blur",s._commitText.bind(s)),s.addEventListener(s._tbx,"keydown",(function(t){t.keyCode==e.Key.Enter&&s._commitText()})),s}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=e.asString(t),t=this._msk._applyMask(),this._tbx.value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=e.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(t){var i=this.value;this._msk.mask=e.asString(t),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e,this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(t){this._msk.overwriteMode=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=e.asBoolean(t),e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._msk.getMaskRange();e.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},i.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new e.CancelEventArgs)){var t=this._tbx,i=t.value,n=i.indexOf(this.promptChar);n>-1&&e.setSelectionRange(t,n,i.length)}this._updateState()},i.prototype.dispose=function(){this._msk.input=null,t.prototype.dispose.call(this)},i.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},i.prototype.onGotFocus=function(e){t.prototype.onGotFocus.call(this,e),this.selectAll()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',i}(e.Control);t.InputMask=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(n,s){var o=t.call(this,n)||this;o._hsb=[.5,1,1],o._alpha=1,o.valueChanged=new e.Event;var r=o.getTemplate();o.applyTemplate("wj-control wj-content wj-colorpicker",r,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),o._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),o._updatePalette(),o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",o._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),r=i._tplCursor,o._cSB=e.createElement(r),o._cHue=e.createElement(r),o._cHue.style.width="100%",o._cAlpha=e.createElement(r),o._cAlpha.style.height="100%",o._eSB.appendChild(o._cSB),o._eHue.appendChild(o._cHue),o._eAlpha.appendChild(o._cAlpha);var a=o.addEventListener.bind(o),l=o.removeEventListener.bind(o),h=document;a(o.hostElement,"mousedown",(function(e){a(h,"mousemove",c),a(h,"mouseup",u),o._mouseDown(e)})),a(o.hostElement,"touchstart",(function(e){a(h,"touchmove",c),a(h,"touchend",u),o._mouseDown(e)}));var c=function(e){o._mouseMove(e)},u=function(e){l(h,"mousemove",c),l(h,"mouseup",u),l(h,"touchmove",c),l(h,"touchend",u),o._mouseUp(e)};return a(o.hostElement,"click",(function(t){var i=t.target;if(i&&"DIV"==i.tagName&&e.contains(o._ePal,i)){var n=i.style.backgroundColor;n&&(o.value=new e.Color(n).toString())}})),o.value="#ffffff",o.initialize(s),o._updatePanels(),o}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){t=e.asString(t);var i=e.Color.fromString(t);if(i){this._value=t,this._eText.innerText=t;var n=i.getHsb();this._hsb[0]==n[0]&&this._hsb[1]==n[1]&&this._hsb[2]==n[2]&&this._alpha==i.a||(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=i.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){(t=(t=e.asArray(t)).slice(0,10)).every((function(t){return null!=e.Color.fromString(t)}))&&(this._palette=t,this._updatePalette())},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},i.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},i.prototype._mouseMove=function(t){var i=t.touches?t.touches[0]:t,n=this._htDown;if(n){var s=n.getBoundingClientRect(),o=this._hsb;n==this._eHue?o[0]=e.clamp((i.clientY-s.top)/s.height,0,.99):n==this._eSB?(o[1]=e.clamp((i.clientX-s.left)/s.width,0,1),o[2]=e.clamp(1-(i.clientY-s.top)/s.height,0,1)):n==this._eAlpha&&(this._alpha=e.clamp((i.clientX-s.left)/s.width,0,1)),this._updateColor()}},i.prototype._mouseUp=function(e){this._htDown=null},i.prototype._updateColor=function(){var t=e.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString(),this._updatePanels()},i.prototype._updatePalette=function(){var t=new e.Color("#fff"),i=new e.Color("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var s=e.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),o=new e.Color(this._palette[n]),r=o.getHsb();s.appendChild(this._makePalEntry(o,4));for(var a=0;a<5;a++){if(0==r[1]){var l=.1*a+(r[2]>.5?.05:.55);o=e.Color.interpolate(t,i,l)}else o=e.Color.fromHsb(r[0],.1+.2*a,1-.1*a);s.appendChild(this._makePalEntry(o,0))}this._ePal.appendChild(s)}},i.prototype._makePalEntry=function(t,i){var n=document.createElement("div");return e.setCss(n,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:i||""}),n.innerHTML="&nbsp",n},i.prototype._updatePanels=function(){var t=e.Color.fromHsb(this._hsb[0],1,1,1),i=e.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},i.prototype._getTargetPanel=function(t){var i=t.target;return e.contains(this._eSB,i)?this._eSB:e.contains(this._eHue,i)?this._eHue:e.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',i}(e.Control);t.ColorPicker=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;s._view=null,s._byPage=!1,s._fmt="{current:n0} / {count:n0}";var o=s.getTemplate();return s.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),s._rptNext=new e._ClickRepeater(s._btnNext.querySelector("button")),s._rptPrev=new e._ClickRepeater(s._btnPrev.querySelector("button")),s.addEventListener(s.hostElement,"click",s._click.bind(s)),s.initialize(n),s._update(),s}return __extends(i,t),Object.defineProperty(i.prototype,"cv",{get:function(){return this._view},set:function(t){if(t!=this._view){var i=this._view;i&&(i.collectionChanged.removeHandler(this._collectionChanged),i.currentChanged.removeHandler(this._currentChanged)),i=this._view=e.asType(t,"ICollectionView",!0),this._update(),i&&(i.collectionChanged.addHandler(this._collectionChanged,this),i.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"byPage",{get:function(){return this._byPage},set:function(t){t!=this._byPage&&(this._byPage=e.asBoolean(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._fmt},set:function(t){t!=this._fmt&&(this._fmt=e.asString(t),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(t){this._rptNext.disabled=this._rptPrev.disabled=!e.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype._update=function(){var t=this._view,i=this._byPage,n=t?i?t.pageIndex:t.currentPosition:0,s=t?i?t.pageCount:t.itemCount:0;e.enable(this._btnFirst,t&&n>0),e.enable(this._btnPrev,t&&n>0),e.enable(this._txtCurr,null!=t),e.enable(this._btnNext,t&&n<s-1),e.enable(this._btnLast,t&&n<s-1),this._txtCurr.value=e.format(this._fmt,{current:t?n+1:0,count:t?s:0,currentItem:t?t.currentPosition+1:0,itemCount:t?t.itemCount:0,currentPage:t?t.pageIndex+1:0,pageCount:t?t.pageCount:0})},i.prototype._currentChanged=function(){this._update()},i.prototype._collectionChanged=function(){this._update()},i.prototype._click=function(t){var i=t.target,n=this._view,s=this._byPage;n&&(e.contains(this._btnFirst,i)?s?n.moveToFirstPage():n.moveCurrentToFirst():e.contains(this._btnPrev,i)?s?n.moveToPreviousPage():n.moveCurrentToPrevious():e.contains(this._btnNext,i)?s?n.moveToNextPage():n.moveCurrentToNext():e.contains(this._btnLast,i)&&(s?n.moveToLastPage():n.moveCurrentToLast()),t.preventDefault())},i.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',i}(e.Control);t.CollectionViewNavigator=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(n,s){var o=t.call(this,n,null,!0)||this;o._cv=null,o._itemFormatter=null,o._pathDisplay=new e.Binding(""),o._pathValue=new e.Binding(""),o._pathChecked=new e.Binding(""),o._html=!1,o._shGroups=!1,o._checkedItems=null,o._itemRole="option",o._caseSensitive=!1,o._vThreshold=i._VTHRESH,o._isVirtual=!1,o._children=[],o._clientHeight=-1,o._itemHeight=30,o._itemsAbove=-1,o._itemsBelow=-1,o._eSizer=document.createElement("div"),o._ePadTop=document.createElement("div"),o._ePadBot=document.createElement("div"),o._checking=!1,o._search="",o._fmtItemHandlers=0,o._itemCount=0,o._oldSel=null,o.selectedIndexChanged=new e.Event,o.itemsChanged=new e.Event,o.loadingItems=new e.Event,o.loadedItems=new e.Event,o.itemChecked=new e.Event,o.checkedItemsChanged=new e.Event,o.formatItem=new e.Event((function(){o.invalidate()})),o.applyTemplate("wj-control wj-content wj-listbox",null,null);var r=o.hostElement;return e.setAttribute(r,"role","listbox",!0),"SELECT"==o._orgTag&&o._initFromSelect(o.hostElement),o.addEventListener(r,"click",o._click.bind(o)),o.addEventListener(r,"keydown",o._keydown.bind(o)),o.addEventListener(r,"keypress",o._keypress.bind(o)),o.addEventListener(r,"wheel",(function(e){r.scrollHeight>r.offsetHeight&&(e.deltaY<0&&0==r.scrollTop||e.deltaY>0&&r.scrollTop+r.offsetHeight>=r.scrollHeight)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())})),[o._eSizer,o._ePadTop,o._ePadBot].forEach((function(t){t.tabIndex=-1,e.setAttribute(t,"aria-hidden",!0),e.setCss(t,{pointerEvents:"none",opacity:"0"})})),o.initialize(s),o._updateViewRange(),o.hostElement.addEventListener("scroll",(function(e){o._updateViewRange()})),o}return __extends(i,t),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i=this.checkedItems;this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._checkedItems=null,this._cv=e.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged(),this._arrayEquals(i,this.checkedItems)||this.onCheckedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(t){if(t!=this._vThreshold){var i=this._getVirtual();this._vThreshold=e.asNumber(t,!1,!0),i!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=e.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=e.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=e.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=e.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=e.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(t){this._caseSensitive=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=e.asString(t),this._populateList())},enumerable:!0,configurable:!0}),i.prototype.getDisplayValue=function(t){var i=null;t>-1&&e.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var n=null!=i?i.toString():"";return this._itemFormatter&&(n=this._itemFormatter(t,n)),n},i.prototype.getDisplayText=function(e){var t=this._getChild(e);return null!=t?t.textContent:""},i.prototype.isItemEnabled=function(t){var i=this._getChild(t);return null!=i&&!i.hasAttribute("disabled")&&!e.hasClass(i,"wj-state-disabled")&&!e.hasClass(i,"wj-separator")},Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(e.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(t){var i=this._cv,n=i?i.items:null,s=this.selectedValuePath,o=-1;if(n){for(var r=0;r<n.length;r++){var a=n[r],l=s?this._pathValue.getValue(a):a;if(l===t||e.DateTime.equals(l,t)){o=r;break}if(this.isContentHtml&&e.isString(l)&&l.indexOf("<")>-1&&e.toPlainText(l)===t){o=r;break}}this.selectedIndex=o}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeight",{get:function(){var e=this.hostElement,t=e?parseFloat(e.style.maxHeight):null;return isNaN(t)?null:t},set:function(t){var i=this.hostElement;i&&(t=e.asNumber(t,!0),i.style.maxHeight=null==t?"":t+"px")},enumerable:!0,configurable:!0}),i.prototype.showSelection=function(t){void 0===t&&(t=this.containsFocus());var i=this.hostElement,n=this._children,s=this._getSelectedElement(!1),o=new e.Rect(0,0,0,0);s!=this._oldSel&&(this._updateItemAttributes(s,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=s),s instanceof HTMLElement?o=this._getBoundingClientRect(s):this._children.length>0&&(o=this._getBoundingClientRect(this._getChild(0)));var r=this._getBoundingClientRect(i),a=0;if(this._shGroups&&(a=this._itemHeight,!this._isVirtual)){var l=n[0];l.offsetHeight&&e.hasClass(l,"wj-header")&&(a=l.offsetHeight)}o.bottom>r.bottom?i.scrollTop+=o.bottom-r.bottom:o.top<r.top+a&&(i.scrollTop-=r.top+a-o.top),this._updateViewRange(),s=this._getSelectedElement(!0),t&&(s&&!e.contains(s,e.getActiveElement())?s:i).focus(),i.tabIndex=s?-1:this._orgTabIndex},i.prototype.loadList=function(){this._populateList()},i.prototype.getItemChecked=function(t){var i=this._cv.items[t],n=this._pathChecked;if(e.isObject(i)&&n.path)return n.getValue(i);var s=this._getCheckbox(t);return!!s&&s.checked},i.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)},i.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(i.prototype,"checkedItems",{get:function(){return null==this._checkedItems&&(this._checkedItems=this._getCheckedItems()),this._checkedItems},set:function(t){var i=this,n=e.asArray(t,!1);if(!this._arrayEquals(n,this.checkedItems)){var s=this._cv,o=this._pathChecked,r=new Map;if(o&&s){var a=s.sourceCollection;if(a&&a.length){e.isObject(a[0])||(o=null),n.forEach((function(e){return r.set(e,!0)})),this._checking=!0;var l=[];a.forEach((function(e){var t=r.has(e);t&&l.push(e),o&&o.setValue(e,t)})),this._checking=!1,n=l}s.items.forEach((function(e,t){i._setItemChecked(t,r.has(e),!1)}))}this._arrayEquals(n,this._checkedItems)||(this._checkedItems=n,this.onCheckedItemsChanged())}},enumerable:!0,configurable:!0}),i.prototype.indexOf=function(t){return(t=e.closest(t,".wj-listbox-item"))?t[i._DIDX_KEY]:-1},i.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},i.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},i.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},i.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},i.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},i.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},i.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},i.prototype.refresh=function(e){if(void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement){var i=this._cv?this._cv.items.length:0,n=this.formatItem.handlerCount;i==this._itemCount&&n==this._fmtItemHandlers||(this._fmtItemHandlers=n,this._populateList())}},i.prototype._getBoundingClientRect=function(t){if(!t.offsetHeight){var i=this.indexOf(t),n=this.hostElement;if(i>-1&&n){i=this._getElementIndex(i);var s=n.getBoundingClientRect();return new e.Rect(0,s.top-n.scrollTop+i*this._itemHeight,s.width,this._itemHeight)}}return e.Rect.fromBoundingRect(t.getBoundingClientRect())},i.prototype._updateItemAttributes=function(t,i){if(t){var n=this.checkedMemberPath?this._getCheckbox(this.indexOf(t)):null,s=n?n.checked:null;e.toggleClass(t,"wj-state-selected",i),e.setAttribute(t,"aria-selected",this._getAriaSelected(i,s)),t.tabIndex=i?this._orgTabIndex:-1}},i.prototype._getCheckedItems=function(){var t=this,i=this._cv,n=this._pathChecked,s=[];return i&&n&&n.path&&(s=i.sourceCollection.filter((function(s,o){if(i.filter&&!i.filter(s))return!1;if(e.isObject(s))return n.getValue(s);var r=i.items[o]==s?o:i.items.indexOf(s);return t.getItemChecked(r)}))),s},i.prototype._arrayEquals=function(e,t){if(e==t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0},i.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},i.prototype._getElementIndex=function(t){if(this._shGroups)for(var i=this._children,n=0;n<=t&&n<i.length;n++){var s=i[n];e.hasClass(s,"wj-header")&&t++}return t},i.prototype._setItemChecked=function(t,i,n){void 0===n&&(n=!0);var s=this._cv.items[t],o=this._pathChecked,r=!1,a=this.selectedIndex,l=this._checking;if(e.isObject(s)&&o.path){if(o.getValue(s)!=i){var h=e.tryCast(this._cv,"IEditableCollectionView");r=!0,this._checking=!0,h?(h.editItem(s),o.setValue(s,i),h.commitEdit()):(o.setValue(s,i),h.refresh()),this._checking=l}}else r=!0;var c=this._getCheckbox(t);if(c){c.checked=i;var u=e.closest(c,".wj-listbox-item");u&&(e.toggleClass(u,"wj-state-checked",i),e.setAttribute(u,"aria-selected",!!i||null))}return n&&(r&&(this._checkedItems=null,this.onItemChecked(),this.onCheckedItemsChanged()),a!=this.selectedIndex&&this.onSelectedIndexChanged()),r},i.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},i.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},i.prototype._populateList=function(){var t=this.hostElement,s=this._cv;if(this._itemCount=s?s.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,t){var o=this.containsFocus(),r=void 0;this.onLoadingItems();var a=this._children=[];if(t.textContent="",s){var l=0,h=void 0,c=[];if(this._shGroups&&s.groups&&s.groups.length){r={};for(var u=0;u<s.groups.length;u++){var d=s.groups[u];r[l]=d,h=this._createHeaderItem(d),c.push(h);for(var p=0;p<d.items.length;p++,l++)h=this._createItem(l),c.push(h)}}else for(p=0;p<s.items.length;p++,l++)h=this._createItem(l),c.push(h);var f=this._isVirtual?document.createElement("div"):t,_=0;for(f.innerHTML=c.join(""),p=0;p<f.children.length;p++){var m=f.children[p];_==s.currentPosition&&(this._oldSel=m),m[i._DIDX_KEY]=m.className.indexOf("wj-header")<0?_++:-1,a.push(m)}}if(this.formatItem.hasHandlers&&s){l=0;var g=s.items;for(m=new n(0,null,null),p=0;p<a.length;p++)m._item=a[p],this._shGroups&&e.hasClass(m._item,"wj-header")?(m._index=-1,m._data=r[l]):(m._index=l,m._data=g[l++]),this.onFormatItem(m)}if(this._isVirtual){var b=this._getCanvasContext(),v=null,y=0;for(p=0;p<a.length;p++){h=a[p];var w=b.measureText(h.textContent);w.width>y&&(v=h,y=w.width)}if(v){var x=!1,C=t.style.display,D=t.style.position;t.parentElement||(x=!0,document.body.appendChild(t),e.setCss(t,{display:"",position:"absolute"})),t.appendChild(v);var E=v.style.whiteSpace;v.style.whiteSpace="nowrap",this._ePadTop.style.width=v.offsetWidth+"px",this._itemHeight=v.offsetHeight||this._itemHeight,v.style.whiteSpace=E,x&&(e.removeChild(t),e.setCss(t,{display:C,position:D})),e.removeChild(v)}else this._ePadTop.style.width="";this._eSizer.style.height=a.length*this._itemHeight+"px",t.appendChild(this._eSizer),this._clientHeight=t.clientHeight,e.removeChild(this._eSizer),this._updateViewRange()}this.checkedItems=this._getCheckedItems();var P=this._getSelectedElement(!0);o?(P||t).focus():P&&this.showSelection(),t.tabIndex=P?-1:this._orgTabIndex,this.onLoadedItems()}},i.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return t.fontSize&&t.fontFamily&&(e.font=t.fontSize+" "+t.fontFamily.split(",")[0]),e},i.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var t=getComputedStyle(e);if(parseInt(t.columnCount)>1||t.display.indexOf("flex")>-1||t.display.indexOf("grid")>-1)return!1}return!0},i.prototype._getMaxSupportedCssHeight=function(){var t=265e5;return e.isIE()?t=15e5:e.isFirefox()&&(t=175e5),t},i.prototype._updateViewRange=function(){var t=this.hostElement,i=t.scrollTop,n=this._itemHeight,s=this._children;if(!(t&&t.parentElement&&this._isVirtual&&this._children))return!1;e.assert(n*s.length<this._getMaxSupportedCssHeight(),"The number of items ("+s.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/n)+") allowed for this browser.");var o=Math.max(t.clientHeight,this._clientHeight),r=Math.floor(i/n),a=Math.min(s.length,Math.ceil((i+o)/n)-r),l=Math.max(0,s.length-r-a);if(r==this._itemsAbove&&l==this._itemsBelow)return!1;this._itemsAbove=r,this._itemsBelow=l;var h=document.createDocumentFragment(),c=this.containsFocus();if(this._ePadTop.style.height=r*n+"px",h.appendChild(this._ePadTop),this.showGroups&&!e.hasClass(s[r],"wj-header"))for(var u=r;u>=0;u--)if(e.hasClass(s[u],"wj-header")){h.appendChild(s[u]);break}for(u=r;u<=r+a&&u<s.length;u++)h.appendChild(s[u]);this._ePadBot.style.height=l*n+"px",h.appendChild(this._ePadBot),t.textContent="",t.appendChild(h);var d=(r+a+l)*n-t.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-d+"px";var p=this._getSelectedElement(!0);return c&&(p||t).focus({preventScroll:!0}),t.tabIndex=p?-1:this._orgTabIndex,!0},i.prototype._getSelectedElement=function(e){var t=this.selectedIndex,i=this._getElementIndex(t),n=i>-1?this._children[i]:null;return e&&n&&!n.offsetHeight&&(n=null),n},i.prototype._handleResize=function(){this._updateViewRange()},i.prototype._createItem=function(t){var i=this._cv.items[t],n=t==this._cv.currentPosition,s=this.getDisplayValue(t);1!=this._html&&(s=e.escapeHtml(s));var o=null;this.checkedMemberPath&&(o=!1,e.isObject(i)?o=!!this._pathChecked.getValue(i):this._checkedItems&&(o=this._checkedItems.indexOf(i)>-1),s='<label><input type="checkbox" tabindex="-1"'+(o?" checked":"")+"><span></span> "+s+"</label>");var r="wj-listbox-item";if(n&&(r+=" wj-state-selected"),o&&(r+=" wj-state-checked"),this._html){var a=["wj-separator","wj-state-disabled"];if(s.indexOf(a[0])>-1||s.indexOf(a[1])>-1){var l=e.createElement(s);a.forEach((function(t){e.hasClass(l,t)&&(r+=" "+t)}))}}return'<div class="'+r+'" role="'+this.itemRole+'" '+(this._getAriaSelected(n,o)?'aria-selected="true" ':"")+'tabindex="'+(n?this._orgTabIndex:-1)+'">'+s+"</div>"},i.prototype._getAriaSelected=function(e,t){return!!(null!=t?t:e)||null},i.prototype._createHeaderItem=function(t){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+e.escapeHtml(t.name)+"</div>"},i.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){var i=this.indexOf(t.target);if(i>-1&&(this.selectedIndex=i,this.checkedMemberPath)){var n=this._getCheckbox(i),s=e.closest(n,".wj-listbox-item");t.target!=n&&t.target!=s||(s.focus({preventScroll:!0}),this.setItemChecked(i,n.checked))}}},i.prototype._keydown=function(t){var i=this.selectedIndex;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)){var n=this.collectionView;if(this.checkedMemberPath&&e.hasItems(n))return this.checkedItems=this.checkedItems.length!=n.items.length?n.items:[],void t.preventDefault()}if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case e.Key.Down:t.preventDefault(),this._selectNext();break;case e.Key.Up:t.preventDefault(),this._selectPrev();break;case e.Key.Home:t.preventDefault(),this._selectFirst();break;case e.Key.End:t.preventDefault(),this._selectLast();break;case e.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case e.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case e.Key.Space:if(this.checkedMemberPath&&i>-1){var s=this._getCheckbox(i);s&&this.isItemEnabled(i)&&(this.setItemChecked(i,!s.checked),t.preventDefault())}}}},i.prototype._keypress=function(t){var i=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){i._toSearch=null,i._search=""}),e.Control._SEARCH_DELAY);var n=this._findNext();n<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],n=this._findNext()),n>-1&&(this.selectedIndex=n)}},i.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},i.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},i.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},i.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},i.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,t=this._children,i=this._cv?this._cv.items.length:0,n=0;if(e>0)for(var s=this.selectedIndex+1;s<i;s++){var o=t[s].scrollHeight||this._itemHeight;if(n+o>e&&this.isItemEnabled(s))return this.selectedIndex=s,!0;n+=o}return this._selectLast()},i.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,t=this._children,i=0;if(e>0)for(var n=this.selectedIndex-1;n>0;n--){var s=t[n].scrollHeight||this._itemHeight;if(i+s>e&&this.isItemEnabled(n))return this.selectedIndex=n,!0;i+=s}return this._selectFirst()},i.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;var i=this._search,n=this.caseSensitiveSearch;n||(i=i.toLowerCase());for(var s=0;s<e;s++){var o=(t+s)%e;if(this.isItemEnabled(o)){var r=this.getDisplayText(o).trim();if(n||(r=r.toLowerCase()),0==r.indexOf(i))return o}}}return-1},i.prototype._getCheckbox=function(e){var t=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<t.length?t[e].querySelector("input[type=checkbox]"):null},i.prototype._initFromSelect=function(e){for(var t=e.children,i=[],n=-1,s=0;s<t.length;s++){var o=t[s];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(n=i.length),o.innerHTML?i.push({hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"></div>'}),e.removeChild(o),s--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=n)},i._DIDX_KEY="$WJ-DIDX",i._VTHRESH=Number.MAX_VALUE/2,i}(e.Control);t.ListBox=i;var n=function(t){function i(i,n,s){var o=t.call(this)||this;return o._index=e.asNumber(i),o._data=n,o._item=e.asType(s,HTMLElement,!0),o}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(e.EventArgs);t.FormatItemEventArgs=n}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";e._addCultureInfo("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var i=function(i){function n(s,o){var r=i.call(this,s)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=e.Control._SEARCH_DELAY,r.checkedItemsChanged=new e.Event,r.selectedIndexChanged=new e.Event;var a=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",a,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new t.ListBox(r._lbHost,{checkedMemberPath:n._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(){return r.onCheckedItemsChanged()},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var l=e.culture.MultiSelectListBox;return e.setText(r._spSelectAll,l.selectAll),r._filter.placeholder=l.filterPlaceholder,r.initialize(o),r.addEventListener(r._filter,"input",(function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout((function(){r._toSearch=null,r._applyFilter()}),r.delay))})),r.addEventListener(r._cbSelectAll,"click",(function(t){var i=r._lbx.collectionView;e.hasItems(i)&&(r.checkedItems=t.target.checked?i.items:[])})),r.addEventListener(r.hostElement,"keydown",(function(t){var i=r.showFilterInput?r._filter:null,n=r._lbx;if(i&&t.keyCode==e.Key.F3&&(e.setSelectionRange(i,0,i.value.length),t.preventDefault()),e.getActiveElement()==i){var s=!t.altKey;switch(t.keyCode){case e.Key.Escape:case e.Key.F4:s=!1}s&&t.stopPropagation()}if(!n.containsFocus())switch(t.keyCode){case e.Key.Up:case e.Key.Down:r._lbx.focus();var o=n.selectedIndex+(t.keyCode==e.Key.Up?-1:1);n.selectedIndex=Math.max(0,o),t.preventDefault()}}),!0),r}return __extends(n,i),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._checkOnFilter=e.asBoolean(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(t){t!=this.showFilterInput&&(this._filter.style.display=e.asBoolean(t)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(t){t!=this._filterPlaceholder&&(this._filterPlaceholder=e.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){t!=this._selectAllLabel&&(this._selectAllLabel=e.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=n._DEF_CHECKED_PATH?e:null},set:function(t){t=e.asString(t),this.listBox.checkedMemberPath=t||n._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=e.asArray(t)},enumerable:!0,configurable:!0}),n.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e)},n.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},n.prototype.refresh=function(t){if(void 0===t&&(t=!0),i.prototype.refresh.call(this,t),this.hostElement){var n=e.culture.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:n.filterPlaceholder,this._spSelectAll&&e.setText(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:n.selectAll),this._updateCheckAllCheckbox()}},n.prototype.dispose=function(){this.listBox.dispose(),i.prototype.dispose.call(this)},n.prototype._applyFilter=function(){var t=this,i=this._lbx,n=i.collectionView,s=this._filter.value,o=s?new RegExp(e.escapeRegExp(s),i.caseSensitiveSearch?"":"i"):null,r=this.displayMemberPath,a=r?new e.Binding(r):null,l=this.checkOnFilter?null:this.checkedItems;n.filter=function(i){return null==o||!!(l&&l.indexOf(i)>-1)||(a&&(i=a.getValue(i)),t.isContentHtml&&(i=e.toPlainText(i)),null!=i&&o.test(i.toString()))},i.selectedIndex=Math.max(0,i.selectedIndex),this._checkOnFilter&&(this.checkedItems=o?n.items:[])},n.prototype._updateCheckAllCheckbox=function(){var t=this._lbx.collectionView,i=this._cbSelectAll;if(e.hasItems(t)){var n=t.items.length,s=this.checkedItems.length;e.setChecked(i,s==n||0!=s&&null),i.disabled=!1}else e.setChecked(i,!1),i.checked=!1,i.disabled=!0},n._DEF_CHECKED_PATH="$checked",n.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',n}(e.Control);t.MultiSelectListBox=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i,n;e._addCultureInfo("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(e){e[e.None=0]="None",e[e.Day=1]="Day",e[e.Month=2]="Month",e[e.Range=3]="Range"}(i=t.DateSelectionMode||(t.DateSelectionMode={})),function(e){e[e.None=0]="None",e[e.FirstMonth=1]="FirstMonth",e[e.LastMonth=2]="LastMonth",e[e.FirstAndLastMonths=3]="FirstAndLastMonths",e[e.AllMonths=4]="AllMonths",e[e.Outside=5]="Outside"}(n=t.ShowMonthPicker||(t.ShowMonthPicker={}));var s=function(s){function o(t,o){var r=s.call(this,t)||this;r._yrPicker=!0,r._mtPicker=n.FirstMonth,r._wksBefore=0,r._wksAfter=0,r._rngMin=0,r._rngMax=0,r._min=null,r._max=null,r._readOnly=!1,r._handleWheel=!0,r._fdw=null,r._selMode=i.Day,r._tmYrHidden=0,r._fmtYrMo="y",r._fmtYr="yyyy",r._fmtDayHdr="ddd",r._fmtDay="d ",r._fmtMonths="MMM",r.valueChanged=new e.Event,r.rangeEndChanged=new e.Event,r.rangeChanged=new e.Event,r.displayMonthChanged=new e.Event,r.formatItem=new e.Event((function(){r.invalidate()})),r._value=r._rngEnd=e.DateTime.newDate(),r._month=r._getMonth(r._value),r._cals=[r],r._createChildren(),r._createYearPicker();var a=r.hostElement,l=r.addEventListener.bind(r);return l(a,"keydown",r._keydown.bind(r)),l(a,"click",r._click.bind(r)),r._rptUp=new e._ClickRepeater(r._btnPrv),r._rptDn=new e._ClickRepeater(r._btnNxt),r.addEventListener(a,"wheel",(function(e){r.handleWheel&&!e.defaultPrevented&&!r.isReadOnly&&r.containsFocus()&&(e.deltaY<0?r._btnPrv.click():r._btnNxt.click(),e.preventDefault())})),r.initialize(o),r.refresh(!0),r}return __extends(o,s),Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(t){if(t!==this._value&&(this._clearingRangeEnd=!e.DateTime.equals(this._value,t),this.rangeEnd=null,this._clearingRangeEnd=!1,t=e.asDate(t,!0),t=this._clamp(t),(this._valid(t)||null==t)&&(this.ensureVisible(t),e.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged())),!this.value)){var i=this.min,n=this.max,s=this.displayMonth;n&&n<s?this.ensureVisible(n):i&&i>s&&this.ensureVisible(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(t){if(t=e.asDate(t,!0),(t=this._clamp(t))&&this._value&&this._rngMode()){t<this._value&&(t=this._value);var i=this._rngMin,n=this._rngMax;if(i&&i>0||n&&n>0){var s=this._value,o=Math.ceil((t.getTime()-s.getTime())/864e5)+1;i&&i>0&&o<i&&(t=e.DateTime.addDays(s,i-1)),n&&n>0&&o>n&&(t=e.DateTime.addDays(s,n-1))}}(this._valid(t)||null==t)&&(e.DateTime.equals(this._rngEnd,t)||(this._rngEnd=t,this.ensureVisible(t),this.invalidate(!1),this.onRangeEndChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(t){(t=e.asNumber(t,!0,!0))!=this._rngMin&&(this._rngMin=t,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(t){(t=e.asNumber(t,!0,!0))!=this._rngMax&&(this._rngMax=t,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"min",{get:function(){return this._min},set:function(t){(t=e.asDate(t,!0))!=this.min&&(this._min=t,this._syncProp(this,"min"),this.refresh(),!this.value&&t&&t>this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"max",{get:function(){return this._max},set:function(t){(t=e.asDate(t,!0))!=this.max&&(this._max=t,this._syncProp(this,"max"),this.refresh(),!this.value&&t&&t<this.displayMonth&&this.ensureVisible(t))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var n=i;(t=e.asEnum(t,n))!=this._selMode&&(this._selMode=t,this._mthMode()&&(this.monthView=!1),this._rngEnd=t==n.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t),e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!e.asBoolean(t),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(t){t!=this._yrPicker&&(this._yrPicker=e.asBoolean(t),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(t){if(t!=this._mtPicker){var i=n;e.isBoolean(t)&&(t=t?i.FirstMonth:i.None),this._mtPicker=e.asEnum(t,i),e.toggleClass(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==i.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=e.asNumber(t,!0))&&(t>6||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"displayMonth",{get:function(){return this._month},set:function(t){t=e.asDate(t),t=this._getMonth(t);var i=this._getDisplayMonthRange();i.to&&t>i.to&&(t=i.to),i.from&&t<i.from&&(t=i.from),e.DateTime.equals(this.displayMonth,t)||(this._month=t,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(t){var i=this,n=this.hostElement;if(t!=this.monthCount&&n){var s=n.querySelectorAll(".wj-calendar");t=e.asInt(t,!1),e.assert(t>0,"monthCount must be >= 1."),e.assert(1==t||!e.closest(n.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var r=0;r<s.length;r++){var a=s[r];e.removeChild(a),this._getCalendar(a).dispose()}for(this._cals=[this],r=1;r<t;r++){for(var l in(a=new o(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(e,t){return i.onFormatItem(t)}}))._selMode=this._selMode,a._value=this._value,a._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var h=this[l];e.isFunction(h)||h instanceof e.Event||(a[l]=h)}this._cals.push(a),n.appendChild(a.hostElement)}e.toggleClass(n,"wj-calendar-multimonth",t>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){t!=this._fmtYrMo&&(this._fmtYrMo=e.asString(t),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){t!=this._fmtDayHdr&&(this._fmtDayHdr=e.asString(t),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){t!=this._fmtDay&&(this._fmtDay=e.asString(t),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){t!=this._fmtYr&&(this._fmtYr=e.asString(t),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){t!=this._fmtMonths&&(this._fmtMonths=e.asString(t),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){t!=this.showHeader&&(this._tbHdr.style.display=e.asBoolean(t)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"",this.refresh();var i=e.culture.Calendar.ariaLabels;e.setAriaLabel(this._btnPrv,t?i.prvMo:i.prvYr),e.setAriaLabel(this._btnTdy,t?i.today:i.currMo),e.setAriaLabel(this._btnNxt,t?i.nxtMo:i.nxtYr),e.setAriaLabel(this._btnMth,t?i.monthView:i.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(t){t!=this._wksBefore&&(this._wksBefore=Math.floor(e.asNumber(t,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(t){t!=this._wksAfter&&(this._wksAfter=Math.floor(e.asNumber(t,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=e.asFunction(t),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=e.asFunction(t),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),o.prototype.hitTest=function(t){var i=t instanceof MouseEvent?t.target:t instanceof Element?t:null;return e.assert(null!=i,"MouseEvent or Element expected"),i?i[o._DATE_KEY]:null},o.prototype.ensureVisible=function(t){if(null!=t){var i=this._getCalendars(),n=i.indexOf(this),s=i[0],o=i[i.length-1];t<s.displayMonth?this.displayMonth=e.DateTime.addMonths(this._getMonth(t),n):t>o.displayMonth&&(this.displayMonth=e.DateTime.addMonths(this._getMonth(t),n-i.length+1))}},o.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},o.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},o.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},o.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},o.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},o.prototype._containsFocusImpl=function(e){return s.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},o.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),s.prototype.dispose.call(this)},o.prototype.refresh=function(t){void 0===t&&(t=!0);var i=this.hostElement,n=this.containsFocus();if(i){s.prototype.refresh.call(this,t),t&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),r=this.displayMonth;if(e.enable(this._btnPrv,null==o.from||r>o.from),e.enable(this._btnNxt,null==o.to||r<o.to),n){var a=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;a&&a.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach((function(e,i){i>0&&e.refresh(t)}))}},o.prototype._getShowMonthPicker=function(){var e=n,t=this._getCalendars(),i=t.indexOf(this),s=this.showMonthPicker;switch(s){case e.FirstMonth:case e.Outside:return 0==i?s:0;case e.LastMonth:return i==t.length-1?s:0;case e.FirstAndLastMonths:return 0==i||i==t.length-1?s:0;case e.AllMonths:return s}return 0},o.prototype._getDisplayMonthRange=function(){var t={from:null,to:null};if(this.min||this.max){var i=this._getCalendars(),n=i.indexOf(this),s=this._mthMode()?e.DateTime.addYears:e.DateTime.addMonths;this.min&&(t.from=s(this._getMonth(this.min),n)),this.max&&(t.to=s(this._getMonth(this.max),n-i.length+1))}return t},o.prototype._getCalendar=function(t){return e.Control.getControl(t)},o.prototype._getCalendars=function(){var t=e.closest(this.hostElement,".wj-calendar-multimonth");return(t?this._getCalendar(t):this)._cals},o.prototype._syncProp=function(t,i){var n=this;if(!this._syncing){var s=this._getCalendars();if(s&&s.length>1){var o=t[i],r=this._mthMode()?e.DateTime.addYears:e.DateTime.addMonths;"displayMonth"==i&&(o=r(o,-s.indexOf(t))),s[0].deferUpdate((function(){n._syncing=!0,s.forEach((function(e,s){if(e!=t){var a=e.displayMonth;e[i]="displayMonth"==i?r(o,s):o,"value"==i&&(e.displayMonth=a,n._rngMode()&&(e.rangeEnd=null))}})),n._syncing=!1}))}}},o.prototype._updateContent=function(){var t=this.displayMonth,i=e.Globalize.format,n=e.DateTime,s=this._getShowMonthPicker();e.setText(this._spMth,i(t,this._fmtYrMo));var r=this._btnMth.querySelector(".wj-glyph-down");r&&(r.style.display=this._mthMode()||!s?"none":"");var a=e.closest(this._btnTdy,".wj-btn-group");a&&(a.style.display=s?"":"none");for(var l=null!=this._fdw?this._fdw:e.Globalize.getFirstDayOfWeek(),h=n.addDays(t,-(t.getDay()-l+7)%7),c=n.monthLast(t),u=this._tbMth.querySelectorAll("td"),d=0;d<7&&d<u.length;d++){var p=n.addDays(h,d);e.setText(u[d],i(p,this._fmtDayHdr))}var f=this._tbMth.querySelectorAll("tr");for(d=1;d<f.length;d++)e.removeChild(f[d]);var _=n.addDays(h,-7*this._wksBefore);for(d=0;d<this._wksBefore;d++)_=this._addWeek(_,"wj-week-before");for(;_<=c;)_=this._addWeek(_);for(d=0;d<this._wksAfter;d++)_=this._addWeek(_,"wj-week-after");for((u=this._tbYr.querySelectorAll("td")).length&&e.setText(u[0],i(t,this._fmtYr)),d=1;d<u.length;d++){_=n.newDate(t.getFullYear(),d-1,1);var m=u[d],g=!this._monthInValidRange(_);m[o._DATE_KEY]=_,e.setText(m,i(_,this._fmtMonths)),e.toggleClass(m,"wj-state-disabled",g),e.setAriaLabel(m,e.Globalize.format(_,"MMMM yyyy"))}},o.prototype._updateSelection=function(){for(var t=o._DATE_KEY,i=e.DateTime,n=this._tbMth.querySelectorAll("td"),s=7;s<n.length;s++){var r=(d=n[s])[t],a=this.value,l=this.rangeEnd,h=this._selMode&&null!=a&&i.sameDate(r,a),c=this._selMode&&null!=a&&i.sameDate(r,l),u=this._selMode&&null!=a&&r>a&&null!=l&&r<=l;e.toggleClass(d,"wj-state-selected",h),e.toggleClass(d,"wj-state-multi-selected",u),e.toggleClass(d,"wj-state-last-selected",c),e.setAttribute(d,"aria-selected",!!h||null),this._customizeCell(s,r,d)}for(n=this._tbYr.querySelectorAll("td"),s=0;s<n.length;s++){var d;r=(d=n[s])[t],h=this._sameMonth(r,this.value),e.toggleClass(d,"wj-state-selected",h),e.setAttribute(d,"aria-selected",!!h||null)}},o.prototype._addWeek=function(t,i){for(var n=this._createElement("tr",this._tbMth,i),s=e.DateTime,r=0;r<7;r++){var a=this._createElement("td",n),l=s.addDays(t,r);a[o._DATE_KEY]=l,e.setText(a,e.Globalize.format(l,this._fmtDay)),e.setAriaLabel(a,e.Globalize.format(l,"D"));var h=!this._valid(l),c=l.getDay(),u=l.getMonth()!=this.displayMonth.getMonth();e.toggleClass(a,"wj-day-today",s.sameDate(l,s.newDate())),e.toggleClass(a,"wj-day-weekend",0==c||6==c),e.toggleClass(a,"wj-day-othermonth",u||!this._inValidRange(l)||h),e.toggleClass(a,"wj-state-invalid",h)}return s.addDays(t,7)},o.prototype._customizeCell=function(i,n,s){if(e.isFunction(this.itemFormatter)&&this.itemFormatter(n,s),this.formatItem.hasHandlers){var o=new t.FormatItemEventArgs(i,n,s);this.onFormatItem(o)}},o.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},o.prototype._valid=function(t){return!(!e.isDate(t)||!e.DateTime.sameDate(t,this._clamp(t)))&&(!e.isFunction(this.itemValidator)||this.itemValidator(t))},o.prototype._inValidRange=function(t){var i=e.DateTime.fromDateTime;return!(this.min&&t<i(this.min,t)||this.max&&t>i(this.max,t))},o.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),n=t.getMonth(),s=e.DateTime,o=s.newDate(i,n,1),r=s.newDate(i,n+1,0);if(this.min&&this.min>r)return!1;if(this.max&&this.max<o)return!1}return!0},o.prototype._sameMonth=function(t,i){return e.isDate(t)&&e.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},o.prototype._getValidDate=function(t,i){if(e.isDate(t))for(var n=t.getFullYear(),s=t.getMonth()+(i?0:1),o=i?1:0,r=e.DateTime,a=r.newDate(n,s,o),l=i?1:-1,h=0;h<31;h++){if(this._valid(a))return a;a=r.addDays(a,l)}return null},o.prototype._clamp=function(t){if(t){var i=e.DateTime.fromDateTime;if(this.min){var n=i(this.min,t);t<n&&(t=n)}if(this.max){var s=i(this.max,t);t>s&&(t=s)}}return t},o.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var i=e.culture.Calendar.ariaLabels;e.setAriaLabel(this._tbMth,i.calendar),e.setAriaLabel(this._tbYr,i.calendar),e.setAriaLabel(this._btnPrv,i.calendar),e.setAriaLabel(this._btnMth,i.monthView),e.setAriaLabel(this._btnPrv,i.prvMo),e.setAriaLabel(this._btnTdy,i.today),e.setAriaLabel(this._btnNxt,i.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),s=0;s<7;s++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",n).setAttribute("colspan","4");for(var o=0;o<3;o++){n=this._createElement("tr",this._tbYr);for(var r=0;r<4;r++)this._createElement("td",n)}},o.prototype._createYearPicker=function(){var i=this,n=this.hostElement,s=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");s.tabIndex=this._orgTabIndex,this._lbYears=new t.ListBox(s,{lostFocus:function(t){if(e.hidePopup(s),i._tmYrHidden=Date.now(),i.removeEventListener(window,"touchstart"),t.selectedIndex>-1){var n=e.DateTime.clone(i.displayMonth);n.setFullYear(t.selectedIndex+t.itemsSource[0]),i.displayMonth=n}}}),this.addEventListener(s,"keydown",(function(t){switch(t.keyCode){case e.Key.Enter:n.focus();break;case e.Key.Escape:i._lbYears.selectedIndex=-1,n.focus()}t.defaultPrevented&&t.stopPropagation()})),this.addEventListener(s,"click",(function(e){n.focus()}))},o.prototype._createElement=function(t,i,n){var s=document.createElement(t);return n&&e.addClass(s,n),i&&i.appendChild(s),s},o.prototype._click=function(t){var i=this;if(!t.defaultPrevented&&0==t.button){var n=!1,s=t.target;if(e.contains(this._btnMth,s)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,n=!0):e.contains(this._btnPrv,s)?(this._navigate(-1),n=!0):e.contains(this._btnNxt,s)?(this._navigate(1),n=!0):e.contains(this._btnTdy,s)&&(this._navigate(0),n=!0),s&&!n&&this._yrPicker&&e.contains(this._tbYr,s)&&e.closest(s,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void t.preventDefault();for(var o=this.displayMonth.getFullYear(),r=this.min?this.min.getFullYear():o-100,a=this.max?this.max.getFullYear():o+100,l=[],h=r;h<=a;h++)l.push(h);var c=this._lbYears,u=c.hostElement,d=e.closest(s,".wj-header"),p=this.hostElement,f=e.closest(p,".wj-inputdate-dropdown")||p;return c.itemsSource=l,c.selectedIndex=o-l[0],e.setAttribute(u,"dir",this.rightToLeft?"rtl":null),e.setCss(u,{minWidth:"",width:d.offsetWidth}),e.showPopup(u,d,!1,!1,f),requestAnimationFrame((function(){c.showSelection(!0)})),this.addEventListener(window,"touchstart",(function(t){e.contains(u,t.target)||(e.hidePopup(u),i._tmYrHidden=Date.now(),i.removeEventListener(window,"touchstart"))})),void t.preventDefault()}if(s&&!n){var _=e.closest(s,"td");if(_){var m=this.hitTest(_),g=e.DateTime.fromDateTime;if(this.monthView){if(m&&this._canChangeValue()){var b=g(m,this._value);this._inValidRange(b)&&this._valid(b)&&(this._rngMode()&&this.value&&!this.rangeEnd&&b>=this.value?this.rangeEnd=b:this.value=b),n=!0}}else m&&(this.displayMonth=m,this._mthMode()?this._canChangeValue()&&(b=g(this.displayMonth,this.value),this._inValidRange(b)&&(this.value=b)):this.monthView=!0,n=!0)}}n&&(t.preventDefault(),this.focus())}},o.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case e.Key.Up:case e.Key.Down:return;case e.Key.End:return this._navigate(0),void t.preventDefault()}if(!(t.ctrlKey||t.metaKey||t.shiftKey&&!this._rngMode())){var i=this._getKeyCode(t),n=0,s=0,o=!0;if(this.monthView)switch(i){case e.Key.Left:n=-1;break;case e.Key.Right:n=1;break;case e.Key.Up:n=-7;break;case e.Key.Down:n=7;break;case e.Key.PageDown:s=t.altKey?12:1;break;case e.Key.PageUp:s=t.altKey?-12:-1;break;case e.Key.Home:case e.Key.End:if(this._canChangeValue()&&!t.shiftKey){var r=this.value||this.displayMonth;(l=this._getValidDate(r,i==e.Key.Home))&&(this.value=e.DateTime.fromDateTime(l,this.value),this._rngEnd=null)}break;default:o=!1}else switch(i){case e.Key.Left:s=-1;break;case e.Key.Right:s=1;break;case e.Key.Up:s=-4;break;case e.Key.Down:s=4;break;case e.Key.PageDown:s=t.altKey?120:12;break;case e.Key.PageUp:s=t.altKey?-120:-12;break;case e.Key.Home:s=this.value?-this.value.getMonth():0;break;case e.Key.End:s=this.value?11-this.value.getMonth():0;break;case e.Key.Enter:this._mthMode()?o=!1:this.monthView=!0;break;default:o=!1}if(this._canChangeValue()&&(n||s)){var a=t.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,l=e.DateTime;if(a?(a=l.addDays(a,n),a=l.addMonths(a,s)):a=this._getValidDate(new Date,!0),s&&!this._valid(a)){r=a.getMonth();for(var h=1;h<31&&!this._valid(a);h++){var c=l.addDays(a,+h),u=l.addDays(a,-h);this._valid(c)&&c.getMonth()==r?a=c:this._valid(u)&&u.getMonth()==r&&(a=u)}}for(h=0;h<31&&!this._valid(a);h++)a=l.addDays(a,n>0||s>0?1:-1);t.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}o&&t.preventDefault()}}},o.prototype._getMonth=function(t){var i=e.DateTime;return t=t||i.newDate(),i.newDate(t.getFullYear(),t.getMonth(),1)},o.prototype._mthMode=function(){return this.selectionMode==i.Month},o.prototype._rngMode=function(){return this.selectionMode==i.Range},o.prototype._navigate=function(t){var i=this.monthView,n=this.displayMonth,s=e.DateTime;switch(t){case 0:var o=s.newDate();this._canChangeValue()&&(this.value=i?s.fromDateTime(o,this.value):this._getMonth(o)),n=this._getMonth(o);break;case 1:n=s.addMonths(n,i?1:12);break;case-1:n=s.addMonths(n,i?-1:-12)}this.displayMonth=n},o._DATE_KEY="$WJ-DATE",o.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',o}(e.Control);t.Calendar=s}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i;e._addCultureInfo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(e){e[e.Select=0]="Select",e[e.Open=1]="Open",e[e.Toggle=2]="Toggle"}(i=t.ClickAction||(t.ClickAction={}));var n=function(t){function n(n,s){var o=t.call(this,n)||this;o._clickAction=i.Select,o._showBtn=!0,o._autoExpand=!0,o._animate=!1,o._oldText="",o.textChanged=new e.Event,o.isDroppedDownChanging=new e.Event,o.isDroppedDownChanged=new e.Event;var r=o.getTemplate();o.applyTemplate("wj-control wj-content wj-dropdown",r,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),o._dropDown.style.display="none";var a=e.culture.DropDown.ariaLabels;e.setAriaLabel(o._btn.querySelector("button"),a.tgl);var l=o._elRef=o._tbx;e.disableAutoComplete(l),o._createDropDown(),o._updateBtn();var h=o.hostElement;e.addClass(h,"wj-state-collapsed"),o.addEventListener(window,"resize",(function(){o.isDroppedDown&&o.invalidate()}));var c=o.dropDown,u=o.addEventListener.bind(o),d=o._updateFocusState.bind(o);u(c,"blur",d,!0),u(c,"focus",d);var p=o._keydown.bind(o);u(h,"keydown",p),u(c,"keydown",p);var f=o._keypress.bind(o);return u(h,"keypress",f,!0),u(c,"keypress",f,!0),u(l,"input",(function(){o._setText(o.text,!1)})),u(l,"blur",(function(){o._commitText(!0)}),!0),u(l,"click",(function(){o._autoExpand&&o._expandSelection()})),u(l,"mousedown",(function(e){switch(o._clickAction){case i.Open:o.isDroppedDown||(e.preventDefault(),o.focus(),o.isDroppedDown=!0);break;case i.Toggle:e.preventDefault(),o.focus(),o.isDroppedDown=!o.isDroppedDown}})),u(o._btn,"mousedown",(function(e){o._btnclick(e)})),e.removeChild(c),e.isIE()&&o._elRef==o._tbx&&u(h,"mouseup",(function(t){if(!t.defaultPrevented&&0==t.button&&e.hasClass(t.target,"wj-btn")){var i=e.getActiveElement();i&&i!=t.target&&setTimeout((function(){i.focus()}))}})),e.isIE9()&&u(l,"keyup",(function(){o._setText(o.text,!1)})),u(c,"click",o._dropDownClick.bind(o)),o}return __extends(n,t),Object.defineProperty(n.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=e.asBoolean(t),e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clickAction",{get:function(){return this._clickAction},set:function(t){this._clickAction=e.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(t){var i=this,n=this.hostElement,s=this._dropDown,o=this.containsFocus();n&&s&&(t=e.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly&&n.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new e.CancelEventArgs)&&(t?(this._minWidthDropdown=s.style.minWidth,s.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",(function(t){for(var s=t.target;s;){if(s==n)return;s=s[e.Control._OWNR_KEY]||s.parentNode}e.Control._touching=!0,i.isDroppedDown=!1,e.Control._touching=!1}))):(this.removeEventListener(window,"touchstart"),e.hidePopup(s),s.style.minWidth=this._minWidthDropdown),o&&(this.isTouching&&this.showDropDownButton?n.focus():this.selectAll()),this._updateFocusState(),e.toggleClass(n,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(e.removeClass(this._dropDown,this._cssClass),this._cssClass=e.asString(t),e.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=e.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=e.asBoolean(t)},enumerable:!0,configurable:!0}),n.prototype.selectAll=function(){var t=this._tbx;this._elRef==t&&e.setSelectionRange(t,0,this.text.length),this.containsFocus()||this.focus()},n.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},n.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},n.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},n.prototype.onGotFocus=function(i){this.isTouching||e.contains(this._dropDown,e.getActiveElement())||this.selectAll(),t.prototype.onGotFocus.call(this,i)},n.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,t.prototype.onLostFocus.call(this,e)},n.prototype._containsFocusImpl=function(i){return t.prototype._containsFocusImpl.call(this,i)||this.isDroppedDown&&e.contains(this._dropDown,i)},n.prototype.dispose=function(){this.isDroppedDown=!1;var i=this._dropDown;if(i){this._dropDown=null,e.removeChild(i);var n=e.Control.getControl(i);n&&n.dispose()}t.prototype.dispose.call(this)},n.prototype.refresh=function(i){void 0===i&&(i=!0),t.prototype.refresh.call(this,i);var n=this.hostElement;if(n&&n.offsetHeight&&this.isDroppedDown){var s=e.getActiveElement();this.isAnimated&&""!=this._dropDown.style.opacity||e.showPopup(this._dropDown,n,!1,!1,null==this.dropDownCssClass),s instanceof HTMLElement&&s!=e.getActiveElement()&&s.focus()}},n.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},n.prototype._dropDownClick=function(e){e.stopPropagation()},n.prototype._expandSelection=function(){var t=this._tbx,i=t.value,n=t.selectionStart,s=t.selectionEnd;if(i&&n==s){var o=this._getCharType(i,n);if(o>-1){for(;s<i.length&&this._getCharType(i,s)==o;s++);for(;n>0&&this._getCharType(i,n-1)==o;n--);n!=s&&e.setSelectionRange(t,n,s)}}},n.prototype._getCharType=function(e,t){var i=e[t];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},n.prototype._keydown=function(t){if(!t.defaultPrevented&&!this._isHiddenEditor()){switch(t.keyCode){case e.Key.Tab:case e.Key.Escape:case e.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==e.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case e.Key.F4:case e.Key.Up:case e.Key.Down:if(t.keyCode==e.Key.F4||t.altKey){var i=this.hostElement;i&&i.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}if(!t.defaultPrevented&&t.keyCode==e.Key.Escape&&e.isIE()){var n=this._tbx;if(t.target==n){var s=n.value;n.value=s+" ",n.value=s}}}},n.prototype._isHiddenEditor=function(){return e.hasClass(this._tbx,"wj-grid-ime")},n.prototype._keypress=function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()},n.prototype._btnclick=function(e){e.defaultPrevented||0!=e.button||(e.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},n.prototype._setText=function(e,t){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged()),this._updateState()},n.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},n.prototype._createDropDown=function(){},n.prototype._commitText=function(e){},n.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var t=this.dropDown;e.setAttribute(t,"dir",this.rightToLeft?"rtl":null),e.showPopup(t,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},n.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',n}(e.Control);t.DropDown=n}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i,n;!function(e){e[e.None=0]="None",e[e.ClickOwner=1]="ClickOwner",e[e.ClickPopup=2]="ClickPopup",e[e.Click=3]="Click",e[e.BlurOwner=4]="BlurOwner",e[e.BlurPopup=8]="BlurPopup",e[e.Blur=12]="Blur",e[e.ClickOrBlur=15]="ClickOrBlur",e[e.DownOwner=16]="DownOwner",e[e.DownPopup=32]="DownPopup",e[e.Down=48]="Down",e[e.EnterOwner=64]="EnterOwner",e[e.EnterPopup=128]="EnterPopup",e[e.Enter=192]="Enter",e[e.LeaveOwner=256]="LeaveOwner",e[e.LeavePopup=512]="LeavePopup",e[e.Leave=768]="Leave"}(i=t.PopupTrigger||(t.PopupTrigger={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Top=2]="Top",e[e.Right=4]="Right",e[e.Bottom=8]="Bottom",e[e.LeftTop=3]="LeftTop",e[e.RightTop=6]="RightTop",e[e.RightBottom=12]="RightBottom",e[e.LeftBottom=9]="LeftBottom"}(n||(n={}));var s=function(s){function r(t,n){var o=s.call(this,t)||this;o._owner=null,o._modal=!1,o._position=e.PopupPosition.BelowLeft,o._showTrigger=i.ClickOwner,o._hideTrigger=i.Blur,o._hideAnim=[],o._fadeIn=!0,o._fadeOut=!0,o._removeOnHide=!0,o._draggable=!1,o._resizable=!1,o._result=null,o._resultEnter=null,o._resultSubmit=null,o._callback=null,o._visible=!1,o._ownerClickBnd=o._ownerClick.bind(o),o._ownerDownBnd=o._ownerDown.bind(o),o._ownerBlurBnd=o._ownerBlur.bind(o),o._ownerEnterBnd=o._ownerEnter.bind(o),o._ownerLeaveBnd=o._ownerLeave.bind(o),o._mousedownBnd=o._mousedown.bind(o),o._mousemoveBnd=o._mousemove.bind(o),o._mousedragBnd=o._mousedrag.bind(o),o._mouseupBnd=o._mouseup.bind(o),o._hideBnd=o.hide.bind(o),o._lastShow=0,o.showing=new e.Event,o.shown=new e.Event,o.hiding=new e.Event,o.hidden=new e.Event,o.resizing=new e.Event,o.resized=new e.Event,o.dragging=new e.Event,o.dragged=new e.Event,o.sizeChanging=new e.Event,o.sizeChanged=new e.Event,o.positionChanging=new e.Event,o.positionChanged=new e.Event;var r=o.hostElement;e.addClass(r,"wj-control wj-content wj-popup"),r.getAttribute("tabindex")||(r.tabIndex=0),e.hidePopup(r,!1);var a=o.addEventListener.bind(o);a(r,"compositionstart",(function(){o._composing=!0})),a(r,"compositionend",(function(){o._composing=!1})),a(window,"resize",(function(){!o.isVisible||o._dragged||o.isTouching||o.invalidate()})),a(r,"keydown",(function(t){if(!t.defaultPrevented){if(t.keyCode!=e.Key.Escape||o._composing||(t.preventDefault(),o.hide()),t.keyCode==e.Key.Enter&&!o._composing){var i=o.dialogResultEnter;i&&(t.preventDefault(),o._validateAndHide(i))}t.keyCode==e.Key.Tab&&o.modal&&(t.preventDefault(),e.moveFocus(r,t.shiftKey?-1:1))}})),a(r,"click",(function(e){var t=e.target;if(t instanceof HTMLElement){if(t instanceof HTMLButtonElement&&"submit"==t.type){var i=o.hostElement,n=o.dialogResultSubmit;i instanceof HTMLFormElement&&n&&i.reportValidity()&&(e.preventDefault(),o.hide(n))}var s=t.className.match(/\bwj-hide[\S]*\b/);s&&s.length>0&&(e.preventDefault(),e.stopPropagation(),o.hide(s[0]))}}));var l=o._toggle.bind(o),h=i;return o.addEventListener(r,"click",(function(e){o._ignoreClick||l(e,h.ClickPopup)}),!0),o.addEventListener(r,"mousedown",(function(e){o._ignoreClick=!1,l(e,h.DownPopup)}),!0),o.addEventListener(r,"mouseenter",(function(e){e.target==r&&l(e,h.EnterPopup)}),!0),o.addEventListener(r,"mouseleave",(function(e){e.target==r&&l(e,h.LeavePopup)}),!0),o.addEventListener(r,"blur",(function(e){o.containsFocus()||l(e,h.BlurPopup)}),!0),a(document,"wheel",(function(e){if(o.isVisible&&o._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault()}})),o.initialize(n),o}return __extends(r,s),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){var i=this._owner;i&&(this.removeEventListener(i,"click"),this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"mouseenter"),this.removeEventListener(i,"mouseleave"),this.removeEventListener(i,"blur")),(i=this._owner=null!=t?e.getElement(t):null)&&(this.addEventListener(i,"click",this._ownerClickBnd,!0),this.addEventListener(i,"mousedown",this._ownerDownBnd,!0),this.addEventListener(i,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(i,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(i,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this._position},set:function(t){this._position=e.asEnum(t,e.PopupPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=e.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=e.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){if((t=e.asBoolean(t))!=this.removeOnHide&&(this._removeOnHide=t,!this.isVisible)){var i=this.hostElement;t?e.removeChild(i):i&&document.body&&(i.style.display="none",document.body.appendChild(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isResizable",{get:function(){return this._resizable},set:function(t){this._resizable=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(t){this._resultSubmit=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),r.prototype.show=function(t,n){var s=this;if(this._lastShow=Date.now(),!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach((function(e){clearInterval(e)})),this._hideAnim.length=0;var r=new e.CancelEventArgs;this.onShowing(r)&&(null!=t&&(this.modal=e.asBoolean(t)),null!=n&&(this._callback=e.asFunction(n)),this._oldFocus=e.getActiveElement(),e.showPopup(o,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(r),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",(function(){if(!s.containsFocus()){var t=s._myFocus;t&&t.offsetHeight?t.focus():e.moveFocus(o,0)}})),this.addEventListener(o,"focusin",(function(){var t=e.getActiveElement();t&&e.contains(o,t)&&(t.tabIndex>-1||!s._myFocus)&&(s._myFocus=t)}))),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",(function(t){s._hideTrigger&i.Blur&&!e.contains(o,t.target,!0)&&s.hide()})),setTimeout((function(){s.addEventListener(window,"click",(function(t){s._hideTrigger&i.BlurPopup&&s.isDisabled&&!e.contains(o,t.target,!0)&&s.hide()}))})),setTimeout((function(){if(!s.isDisabled&&!s.containsFocus()&&!s.isTouching){var t=o.querySelector("[autofocus]");t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!e.closest(t,"[disabled],.wj-state-disabled")?(t.focus(),e.isFunction(t.select)&&t.select()):e.moveFocus(o,0)}s.isDisabled||s.containsFocus()||(o.tabIndex=0,o.focus())}),100))}},r.prototype.hide=function(n){var s=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){e.isUndefined(n)||(this.dialogResult=n);var o=new e.CancelEventArgs,a=this.hostElement;if(this.onHiding(o)){for(var l=this.containsFocus()?this._oldFocus:null,h=a.querySelectorAll(".wj-control.wj-dropdown"),c=0;c<h.length;c++){var u=e.Control.getControl(h[c]);u instanceof t.DropDown&&(u.isDroppedDown=!1)}var d=this.removeOnHide,p=this.fadeOut;this._bkDrop&&this._hideAnim.push(e.hidePopup(this._bkDrop,d,p)),this._hideAnim.push(e.hidePopup(a,d,p)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(a,"focusin"),this.containsFocus()&&e.getActiveElement().blur(),setTimeout((function(){if(s._updateState(),s.onHidden(o),s._callback&&s._callback(s),s.hideTrigger&i.LeavePopup){var t=e.Control.getControl(e.closest(s.owner,".wj-popup"));if(t instanceof r&&0!=(t.hideTrigger&i.Leave)){var n=r._evtHover,a=n?document.elementFromPoint(n.clientX,n.clientY):null,l=e.Control.getControl(e.closest(a,".wj-popup"));l instanceof r&&!l.isVisible&&(a=null),a&&e.contains(t.hostElement,a,!0)||t.hide()}}})),this._clearTimeouts(),!this.isVisible&&l&&l.offsetHeight&&l.focus()}}},r.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},r.prototype.onShown=function(e){this.shown.raise(this,e)},r.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},r.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},r.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},r.prototype.onResized=function(e){this.resized.raise(this,e)},r.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},r.prototype.onDragged=function(e){this.dragged.raise(this,e)},r.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},r.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},r.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},r.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},r.prototype.onLostFocus=function(e){if(s.prototype.onLostFocus.call(this,e),this._hideTrigger&i.BlurPopup&&!this.containsFocus()){var t=document.createEvent("Event");t.initEvent("blur",!0,!0),this._toggle(t,i.BlurPopup)}},r.prototype.dispose=function(){this.owner=null,s.prototype.dispose.call(this)},r.prototype.refresh=function(i){void 0===i&&(i=!0);var n=this.hostElement;if(s.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing&&n){this._refreshing=!0;for(var o=e.getActiveElement(),r=this._owner?this._owner.getBoundingClientRect():null,a=[],l=n.querySelectorAll(".wj-dropdown"),h=0;h<l.length;h++){var c=e.Control.getControl(l[h]);c instanceof t.DropDown&&c.isDroppedDown&&(a.push(c),c.dropDown.style.display="none")}e.showPopup(n,r,this._position),a.forEach((function(e){e.dropDown.style.display="",e._updateDropDown()})),this._modal&&o instanceof HTMLElement&&o!=e.getActiveElement()&&o.focus(),this._refreshing=!1}},r.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},r.prototype._handleDragResize=function(e){var t=this.hostElement,i=this._draggable?this._getHeaderElement():null,n=this.addEventListener.bind(this),s=this.removeEventListener.bind(this),o=this._mousemoveBnd,r=this._mousedownBnd;e?(n(t,"mousemove",o),n(t,"mousedown",r),n(t,"touchstart",r),i&&(i.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,s(t,"mousemove",o),s(t,"mousedown",r),s(t,"touchstart",r),s(document,"mousemove",this._mousedragBnd),s(document,"mouseup",this._mouseupBnd),i&&(i.style.touchAction=""))},r.prototype._mousemove=function(e){if(!this._mousedownEvt){var t=this.hostElement,i=this._getEdges(t,e),s="",o=n;this._edges=i,this._resizable&&(i==o.LeftTop||i==o.RightBottom?s="nwse-resize":i==o.LeftBottom||i==o.RightTop?s="nesw-resize":i==o.Left||i==o.Right?s="ew-resize":i!=o.Top&&i!=o.Bottom||(s="ns-resize")),this._draggable&&!s&&this._getClosestHeader(e.target)&&(s="move"),t.style.cursor=s}},r.prototype._mousedown=function(t){if(!t.defaultPrevented){var i=t.touches&&t.touches.length>0?t.touches[0]:t;if(this._edges=this._getEdges(this.hostElement,i),this._edges||this._draggable&&this._getClosestHeader(t.target)){var n=new e.CancelEventArgs;if(this._edges?this.onResizing(n):this.onDragging(n)){this._mousedownEvt=i,this._rcBounds=this.hostElement.getBoundingClientRect();var s=this.addEventListener.bind(this),o=document,r=this._mousedragBnd,a=this._mouseupBnd;s(o,"mousemove",r),s(o,"touchmove",r),s(o,"mouseup",a),s(o,"touchend",a)}}this._ignoreClick=!1}},r.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),t=document,i=this._mousedragBnd,n=this._mouseupBnd;e(t,"mousemove",i),e(t,"touchmove",i),e(t,"mouseup",n),e(t,"touchend",n),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},r.prototype._mousedrag=function(t){if(!t.defaultPrevented){var i=this.hostElement,s=this._mousedownEvt,a=t.touches&&t.touches.length>0?t.touches[0]:t,l=a.clientX-s.clientX,h=a.clientY-s.clientY,c=this._rcBounds,u=this._edges,d=r._SZ_MIN,p=e.Rect.fromBoundingRect(c);if(u){if(u&n.Left?(p.left=c.left+l+(a.pageX-a.clientX),p.width=Math.max(c.width-l,d)):u&n.Right&&(p.left=c.left,p.width=Math.max(c.width+l,d)),u&n.Top?(p.top=c.top+h+(a.pageY-a.clientY),p.height=Math.max(c.height-h,d)):u&n.Bottom&&(p.top=c.top,p.height=Math.max(c.height+h,d)),this.onSizeChanging(new o(p))&&(e.setCss(i,{left:p.left,top:p.top,width:p.width,height:p.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var f=this.hostElement.children,_=0;_<f.length;_++)e.Control.invalidateAll(f[_])}else this._draggable&&(this._dragged||Math.abs(l)+Math.abs(h)>r._DRAG_THRESHOLD)&&(p.left=Math.max(c.left+l+(a.pageX-a.clientX),50-c.width),p.top=Math.max(c.top+h+(a.pageY-a.clientY),0),this.onPositionChanging(new o(p))&&(e.setCss(i,{left:p.left,top:p.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},r.prototype._getEdges=function(e,t){var i=0;if(this._resizable){var s=e.getBoundingClientRect(),o=r._SZ_EDGE;t.clientX-s.left<o&&(i|=n.Left),t.clientY-s.top<o&&(i|=n.Top),s.right-t.clientX<o&&(i|=n.Right),s.bottom-t.clientY<o&&(i|=n.Bottom)}return i},r.prototype._ownerClick=function(e){this._toggle(e,i.ClickOwner)},r.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,i.DownOwner)},r.prototype._ownerBlur=function(t){e.contains(this._owner,e.getActiveElement())||this._toggle(t,i.BlurOwner)},r.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,i.EnterOwner)},r.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,i.LeaveOwner)},r.prototype._toggle=function(t,n){var s=this;if(t instanceof MouseEvent&&(r._evtHover=t),!("mouseenter"==t.type&&Date.now()-this._lastShow<300||t.defaultPrevented)){var o=0!=(this._hideTrigger&n),a=0!=(this._showTrigger&n),l=i;(o||a)&&this._clearTimeouts(),o&&this.isVisible&&(n&l.Leave?this._toHideLeave=setTimeout((function(){var t=r._evtHover,i=t?document.elementFromPoint(t.clientX,t.clientY):null;i&&e.contains(s.hostElement,i,!0)||s.hide()}),e.Control._LEAVE_DELAY):n&l.Blur?this._toHideBlur=setTimeout((function(){s.containsFocus()||e.contains(s._owner,e.getActiveElement())||s.hide()}),e.Control._FOCUS_INTERVAL+50):this.hide()),a&&n!=l.ClickPopup&&(this._wasVisible||(n&l.Enter?this._toShow=setTimeout((function(){s.show()}),e.Control._HOVER_DELAY):this.show()))}},r.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},r.prototype._getClosestHeader=function(t){return e.closest(t,".wj-dialog-header")||e.closest(t,".modal-header")},r.prototype._showBackdrop=function(){var t=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,e.addClass(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",(function(e){e.preventDefault(),e.stopPropagation(),t.hostElement.focus(),t.hideTrigger&i.Blur&&t.hide()}))),e.setCss(this._bkDrop,{zIndex:e.Control._POPUP_ZINDEX,display:""});var n=this.hostElement;n.parentElement.insertBefore(this._bkDrop,n)},r.prototype._validateAndHide=function(e){var t=this.hostElement;if(t instanceof HTMLFormElement)t.reportValidity()&&this.hide(e);else{var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(e)}},r._DRAG_THRESHOLD=6,r._SZ_EDGE=10,r._SZ_MIN=40,r}(e.Control);t.Popup=s;var o=function(e){function t(t){var i=e.call(this)||this;return i._rc=t,i}return __extends(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(e.CancelEventArgs);t.PopupBoundsChangingEventArgs=o}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(i){function n(n,s){var o=i.call(this,n)||this;o._fmt="d",o._sep=" - ",o._rngs=null,o._showCal=!1,o._clsOnSel=!0,o._handleWheel=!0,o._clicked=!1,o._rangeChanged=!1,o.valueChanged=new e.Event,o.rangeEndChanged=new e.Event,o.rangeChanged=new e.Event,e.addClass(o.hostElement,"wj-inputdate"),o._msk=new e._MaskProvider(o._tbx),e.isIE9()||(o.inputType="tel"),o._tbx.type.match(/^(tel|text|)$/i)||(o.inputType="text"),o.addEventListener(o.hostElement,"wheel",(function(i){if(o.handleWheel&&!i.defaultPrevented&&!o.isDroppedDown&&o.containsFocus()&&null!=o.value&&o._canChangeValue()){var n=e.clamp(-i.deltaY,-1,1),s=o.value;o.value=o.selectionMode==t.DateSelectionMode.Month?e.DateTime.addMonths(s,n):e.DateTime.addDays(s,n),o.selectAll(),i.preventDefault()}}));var r=o._lbx=new t.ListBox(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(t){var i=t.selectedItem,n=e.DateTime.fromDateTime;if(i&&i.from&&i.to){var s=o.value;o.value=n(i.from,s),o.rangeEnd=n(i.to,s),o._selectAll()}else o._cal.hostElement.style.display=""}}),a=o._cal=new t.Calendar(document.createElement("div")),l=o._dropDown;if(e.addClass(l,"wj-inputdate-dropdown"),l.appendChild(r.hostElement),l.appendChild(a.hostElement),o.addEventListener(l,"click",(function(){o._clicked=!0,setTimeout((function(){o._clicked=!1}),50)}),!0),"INPUT"==o._orgTag){var h=o._tbx.getAttribute("value");h&&(a.value=a.rangeEnd=e.Globalize.parseDate(h,"yyyy-MM-dd"))}return o.isRequired=!0,o.initialize(s),o._tbx.value=o._oldText=o._getText(),o._updateState(),a.valueChanged.addHandler((function(e,t){o._refreshText(),o.onValueChanged(t),o._closeOnChange()})),a.rangeEndChanged.addHandler((function(e,t){a._rngMode()&&(o.onRangeEndChanged(t),o._closeOnChange(),a._clearingRangeEnd||o._refreshText())})),a.hostElement.addEventListener("click",(function(t){if(a.selectionMode&&!a._rngMode()){var i=t.target,n=a.hitTest(i);(e.DateTime.sameDate(o.value,n)||e.closest(i,"[wj-part=btn-today]"))&&o._closeOnChange()}})),o}return __extends(n,i),Object.defineProperty(n.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){var t=e;(t=(t||"").toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t),this._commitText(),this.onTextChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){t!=this.format&&(this._fmt=e.asString(t),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"separator",{get:function(){return this._sep},set:function(t){t!=this._sep&&(this._sep=e.asString(t,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(t){this._clsOnSel=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){t=e.asBoolean(t),this._handleWheel=t,t||(this.calendar.handleWheel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(t){this._rngs!=t&&(e.assert(null==t||e.isObject(t),"Object expected"),this._rngs=t,this._lbx.itemsSource=this._getRanges(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(t){this._showCal=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._cal.min},set:function(t){this._cal.min=e.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._cal.max},set:function(t){this._cal.max=e.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(t){this._cal.repeatButtons=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(t){this._cal.showYearPicker=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(t){t!=this.itemValidator&&(this._cal.itemValidator=e.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(t){this._cal.itemFormatter=e.asFunction(t)},enumerable:!0,configurable:!0}),n.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},n.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},n.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},n.prototype.refresh=function(e){void 0===e&&(e=!0),i.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},n.prototype.onIsDroppedDownChanging=function(t){if(this.isDroppedDown)(s=this._cal)._rngMode()&&s.value&&!s.rangeEnd&&(s.rangeEnd=s.value);else{var n=this._lbx,s=this._cal,o=n.collectionView,r=n.hostElement.style,a=s.hostElement.style;if(s._rngMode()&&e.hasItems(o)){var l=this._updateRangeSelection();r.display="",a.display=!this._showCal&&l&&l.from&&o.items.some((function(e){return!e.to}))?"none":""}else r.display="none",a.display="";s._mthMode()||(s.monthView=!0)}return i.prototype.onIsDroppedDownChanging.call(this,t)},n.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e);var t=this.containsFocus();this.isDroppedDown?(t&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},n.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),i.prototype._updateDropDown.call(this)},n.prototype._keydown=function(n){if(!(n.defaultPrevented||n.altKey||n.ctrlKey||n.metaKey)){if(this._isHiddenEditor())return;switch(n.keyCode){case e.Key.Enter:this._commitText();break;case e.Key.Escape:this.text=this._getText(),this.selectAll();break;case e.Key.Tab:if(this._cal._rngMode()){var s=this._tbx,o=this._sep,r=s.value,a=r.indexOf(o);if(a>-1){var l=r.length,h=s.selectionStart,c=s.selectionEnd,u=null;s.selectionEnd<=a&&!n.shiftKey?u=0==h&&0==c:n.shiftKey&&s.selectionStart>=a+o.length&&(u=h<l||c<l),null!=u&&(u?e.setSelectionRange(s,0,a):e.setSelectionRange(s,a+o.length,l),n.preventDefault())}}break;case e.Key.Up:case e.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var d=n.keyCode==e.Key.Up?1:-1,p=this.selectionMode==t.DateSelectionMode.Month?e.DateTime.addMonths(this.value,d):e.DateTime.addDays(this.value,d);this.value=this._fromDateTime(p),this.selectAll(),n.preventDefault()}}}i.prototype._keydown.call(this,n)},n.prototype._expandSelection=function(){if(this._cal._rngMode()){var t=this._tbx,n=t.value,s=t.selectionStart,o=t.selectionEnd,r=this._sep,a=n.indexOf(r);a>-1&&s==o&&(o<=a?e.setSelectionRange(t,0,a):s>=a+r.length&&e.setSelectionRange(t,a+r.length,t.value.length))}else i.prototype._expandSelection.call(this)},n.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},n.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},n.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var t=this._cal;(!t._rngMode()||t.value&&t.rangeEnd)&&setTimeout((function(){e.isDroppedDown=!1}))}},n.prototype._tryFocus=function(e){var t=e.hostElement;return!(!t||!t.offsetHeight||(t.focus(),0))},n.prototype._clamp=function(e){return this._cal._clamp(e)},n.prototype._getText=function(){var t=e.Globalize.format,i=this._fmt,n=t(this.value,i);return this._cal._rngMode()&&n&&(n+=this._sep+t(this.rangeEnd,i)),n},n.prototype._commitText=function(t){var i=this._tbx.value;if(i!=this._getText()){var n=!1,s=this._fmt,o=this._cal,r=e.Globalize.parseDate;if(i||this.isRequired)if(o._rngMode()){var a=i.split(this._sep);if(2==a.length&&a[0]&&(h=r(a[0],s,this.value))){var l=r(a[1],s,this.value);o.value=this._fromDateTime(h),o.rangeEnd=l&&l>=h?this._fromDateTime(l):h,n=!0}}else{var h;(h=r(i,s,this.value))&&(this.value=this._fromDateTime(h),n=!0)}else this.value=this.rangeEnd=null,n=!0;(n||!this._containsFocus()&&this.onInvalidInput(new e.CancelEventArgs))&&(this.text=this._getText())}t||this._selectAll()},n.prototype._fromDateTime=function(t){return e.DateTime.fromDateTime(t,this.value)},n.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=t.DateSelectionMode.None},n.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0},n.prototype._getRanges=function(t){var i=[];if(e.isObject(t))for(var n in t){var s=t[n];i.push({name:n,from:s?s[0]:null,to:s?s[1]:null})}return new e.collections.CollectionView(i,{currentItem:null})},n.prototype._updateRangeSelection=function(){var t=this._lbx,i=-1;if(e.hasItems(t.collectionView))for(var n=this._lbx.collectionView.items,s=e.DateTime.sameDate,o=0;o<n.length;o++){var r=n[o];if(r.from){if(s(r.from,this.value)&&s(r.to,this.rangeEnd)){i=o;break}}else i=o}return t.selectedIndex=i,t.selectedItem},n}(t.DropDown);t.InputDate=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(i){function n(n,s){var o=i.call(this,n,{selectionMode:t.DateSelectionMode.Range,showMonthPicker:"Outside",monthCount:2})||this;return e.addClass(o.hostElement,"wj-inputdaterange"),o.initialize(s),o}return __extends(n,i),Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(i){i=e.asEnum(i,t.DateSelectionMode),e.assert(i==t.DateSelectionMode.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=i},enumerable:!0,configurable:!0}),n}(t.InputDate);t.InputDateRange=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(i){function n(t,n){var s=i.call(this,t)||this;return s.valueChanged=new e.Event,e.addClass(s.hostElement,"wj-inputcolor"),s._ePreview=e.createElement('<div class="wj-inputcolorbox"></div>',s.hostElement.firstElementChild),"INPUT"==s._orgTag&&(s._tbx.type="",s._commitText()),s.value="#ffffff",s.isRequired=!0,s.initialize(n),s.addEventListener(s._colorPicker.hostElement,"click",(function(t){var i=t.target;i&&"DIV"==i.tagName&&(e.closest(i,'[wj-part="div-pal"]')||e.closest(i,'[wj-part="div-pv"]'))&&i.style.backgroundColor&&(s.isDroppedDown=!1)})),s}return __extends(n,i),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._tbx.value},set:function(t){(t=e.asString(t))!=this.text&&(!t&&this.isRequired||t&&!e.Color.fromString(t)||(this._setText(t,!0),this._commitText()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),n.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},n.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},n.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown),e.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler((function(){i.value=i._colorPicker.value}))},n.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case e.Key.Enter:this._commitText(),this.selectAll();break;case e.Key.Escape:this.text=this.value,this.selectAll()}i.prototype._keydown.call(this,t)},n.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(e.Color.fromString(this.text)){var t=this._colorPicker;t.value=this.text,this._value=t.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new e.CancelEventArgs)&&(this.text=this._value?this._value:"")}},n}(t.DropDown);t.InputColor=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(i){function n(t,n){var s=i.call(this,t)||this;s._editable=!1,s._trimText=!0,s._handleWheel=!0,s._delKey=0,s._pathHdr=new e.Binding(null),s._bsCollapse=!0,s._fmtItemHandlers=0,s.itemsSourceChanged=new e.Event,s.selectedIndexChanged=new e.Event;var o=s.hostElement;e.addClass(o,"wj-combobox"),s.dropDown.id=e.getUniqueId(o.id+"_dropdown"),s.autoExpandSelection=!1;var r=s._tbx;s.addEventListener(r,"compositionstart",(function(){s._composing=!0;var e=r.selectionStart,t=r.selectionEnd;if(t>e){var i=r.value;r.value=i.substring(0,e)+i.substring(t,i.length)}})),s.addEventListener(r,"compositionend",(function(){s._composing=!1,s._setText(s.text,!0)})),s.addEventListener(o,"wheel",s._wheel.bind(s)),"SELECT"==s._orgTag&&s._lbx._initFromSelect(o);var a=s._lbx;return a.loadedItems.addHandler((function(e){s.selectedIndex>-1&&(s.selectedIndex=a.selectedIndex)})),s.isRequired=!0,s.initialize(n),s}return __extends(n,i),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=e.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=e.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trimText",{get:function(){return this._trimText},set:function(t){t!=this._trimText&&(this._trimText=e.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=e.asFunction(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&e.isNumber(t)&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var i=this.getDisplayText(t);this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,t=e?parseInt(e.style.maxWidth):null;return isNaN(t)?null:t},set:function(t){var i=this._dropDown.style;t=e.asNumber(t,!0),i.maxWidth=null==t?"":t+"px",i.minWidth=""},enumerable:!0,configurable:!0}),n.prototype.getDisplayText=function(t,i){void 0===t&&(t=this.selectedIndex),void 0===i&&(i=this._trimText);var n,s=this.collectionView;if(this.headerPath&&t>-1&&e.hasItems(s)){var o=s.items[t];n=null!=(n=o?this._pathHdr.getValue(o):null)?n.toString():"",this.isContentHtml&&(n=e.toPlainText(n))}else n=this._lbx.getDisplayText(t);return i?n.trim():n},n.prototype.indexOf=function(t,i){var n=this.collectionView,s=this.caseSensitiveSearch;if(e.hasItems(n)&&null!=t){t=t.toString(),s||(t=t.toLowerCase());var o=this.selectedIndex,r=this.getDisplayText(o);if(i&&(s||(r=r.toLowerCase()),t==r))return o;for(var a=0;a<n.items.length;a++)if(this._lbx.isItemEnabled(a))if(r=this.getDisplayText(a),s||(r=r.toLowerCase()),i){if(r==t)return a}else if(t&&0==r.indexOf(t))return a}return-1},Object.defineProperty(n.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),n.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},n.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},n.prototype.refresh=function(t){void 0===t&&(t=!0),i.prototype.refresh.call(this,t),this.hostElement&&e.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},n.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&e.hasItems(this.collectionView)&&(this.selectedIndex=0),i.prototype.onLostFocus.call(this,t)},n.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||this._hasItems()?i.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},n.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},n.prototype._updateBtn=function(){var t=this.collectionView,n=this._tbx,s=this._hasItems();i.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",e.enable(this._btn,s),e.setAttribute(n,"role",s?"combobox":null),e.setAttribute(n,"aria-autocomplete",s?"both":null),this._updateAria()},n.prototype._hasItems=function(){return e.hasItems(this.collectionView)},n.prototype._updateAria=function(){var t=this._tbx,i=this.isDroppedDown,n=this.dropDown?this.dropDown.id:null,s=n&&e.hasItems(this.collectionView);e.setAttribute(t,"aria-owns",s&&i?n:null),e.setAttribute(t,"aria-expanded",s?i:null)},n.prototype._createDropDown=function(){var i=this;this._lbx||(this._lbx=new t.ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler((function(){i._updateBtn();var t=i._lbx.selectedIndex,n=i._lbx.hostElement.children,s=t>-1&&t<n.length?n[t].id:null;e.setAttribute(i._tbx,"aria-activedescendant",s&&s.length?s:null),i.selectedIndex=t,i.onSelectedIndexChanged()})),this._lbx.itemsChanged.addHandler((function(){i._updateBtn()}))},n.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var t=this._findNext("",e.deltaY>0?1:-1);t>-1&&(this.selectedIndex=t),e.preventDefault()}},n.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),i.prototype._dropDownClick.call(this,e)},n.prototype._setText=function(t,n){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var s=this.formatItem.handlerCount;this._fmtItemHandlers!=s&&(this._fmtItemHandlers=s,this._lbx.loadList())}null==t&&(t=""),t=t.toString();var o=this.selectedIndex,r=this.collectionView,a=this._getSelStart(),l=-1,h=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<t.length||!this.containsFocus())&&(n=!0,h=!1),o=this.indexOf(t,n),h&&(o<0&&n&&(o=this.indexOf(t,!1)),o<0&&a>0&&(o=this.indexOf(t.substr(0,a),!1))),o<0&&!this.isEditable&&e.hasItems(r)&&(this.isRequired||t)){var c=this._oldText||"";o=Math.max(0,this.indexOf(c,!1)),a=0;for(var u=0;u<t.length&&u<c.length;u++)if(t[u]!=c[u]){a=u;break}}o>-1&&(l=a,t=this.getDisplayText(o));var d=this._tbx;t!=d.value&&(d.value=t),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l),r&&r.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,i.prototype._setText.call(this,t,n)}},n.prototype._findNext=function(e,t,i){void 0===i&&(i=this.selectedIndex);var n=this.collectionView,s=n?n.items.length:0,o=this._lbx,r=this.caseSensitiveSearch;if(n&&s&&t){r||(e=e.toLowerCase());for(var a=i+t;a>-1&&a<s;a+=t){var l=this.getDisplayText(a);if(r||(l=l.toLowerCase()),0==l.indexOf(e)&&(!this.dropDown.children[a]||o.isItemEnabled(a)))return a}}return i},n.prototype._keydown=function(t){if(i.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&e.hasItems(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var n=this._getSelStart();switch(t.keyCode){case e.Key.Back:if(this._bsCollapse&&!this.isEditable){var s=this._getSelEnd();n>0&&s==this._tbx.value.length&&e.hasItems(this.collectionView)&&this._setSelRange(n-1,s)}this._delKey=t.keyCode;break;case e.Key.Delete:this._delKey=t.keyCode;break;case e.Key.Up:case e.Key.Down:n==this.text.length&&(n=0),this.selectedIndex=this._findNext(this.text.substr(0,n),t.keyCode==e.Key.Up?-1:1),this._setSelRange(n,this.text.length),t.preventDefault();break;case e.Key.PageUp:this._lbx._selectPrevPage(),this.selectAll(),t.preventDefault();break;case e.Key.PageDown:this._lbx._selectNextPage(),this.selectAll(),t.preventDefault()}}},n.prototype._updateInputSelection=function(e){var t=this._tbx;this._elRef==t&&this._setSelRange(e,t.value.length)},n.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},n.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},n.prototype._setSelRange=function(t,i){var n=this._tbx;this._elRef!=n||n.readOnly||e.setSelectionRange(n,t,i)},n}(t.DropDown);t.ComboBox=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";e._addCultureInfo("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var i=function(i){function n(n,s){var o=i.call(this,n)||this;return o._maxHdrItems=2,o._readOnly=!1,o._hdrFmt=null,o.checkedItemsChanged=new e.Event,e.addClass(o.hostElement,"wj-multiselect"),o._tbx.readOnly=!0,o.checkedMemberPath=null,o.removeEventListener(o.dropDown,"click"),o._lbx.itemsChanged.addHandler((function(){o._updateHeader()})),o._lbx.checkedItemsChanged.addHandler((function(){o._updateHeader(),o.onCheckedItemsChanged()})),o.clickAction=t.ClickAction.Toggle,o.initialize(s),o}return __extends(n,i),Object.defineProperty(n.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(t){this._msLbx.showSelectAllCheckbox=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(t){this._msLbx.showFilterInput=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(t){this._msLbx.filterInputPlaceholder=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(t){t!=this.checkOnFilter&&(this._msLbx.checkOnFilter=e.asBoolean(t),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(t){this._msLbx.selectAllLabel=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(t){this._msLbx.checkedMemberPath=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=e.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=e.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=e.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(t){this._msLbx.checkedItems=null==t?[]:e.asArray(t),this._updateHeader()},enumerable:!0,configurable:!0}),n.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},n.prototype.dispose=function(){this._lbx.dispose(),i.prototype.dispose.call(this)},n.prototype.onIsDroppedDownChanged=function(e){var t=this;i.prototype.onIsDroppedDownChanged.call(this,e),setTimeout((function(){if(t.isDroppedDown&&t.containsFocus())if(t.showFilterInput&&!t.isTouching)t._msLbx._filter.focus();else{var e=t.listBox;if(e.selectedIndex<0){var i=0,n=e.checkedItems;n.length&&(i=e.collectionView.items.indexOf(n[0])),e.selectedIndex=Math.max(0,i)}e.showSelection(!0),e.focus()}}))},n.prototype._createDropDown=function(){var n=e.createElement("<div></div>",this._dropDown);this._msLbx=new t.MultiSelectListBox(n),this._lbx=this._msLbx.listBox,i.prototype._createDropDown.call(this)},Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t),e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),n.prototype.refresh=function(e){void 0===e&&(e=!0),i.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},n.prototype._setText=function(e,t){},n.prototype._keydown=function(t){i.prototype._keydown.call(this,t),e.hasClass(this._tbx,"wj-grid-ime")||!t.defaultPrevented&&e.hasItems(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)},n.prototype._hasItems=function(){var t=this.collectionView,i=t?t.sourceCollection:null;return e.hasItems(t)||i&&i.length&&this.showFilterInput},n.prototype._updateHeader=function(){var t="";if(e.isFunction(this._hdrFormatter))t=this._hdrFormatter(this);else{var i=this.checkedItems;if(i.length>0)if(i.length<=this._maxHdrItems){if(this.headerPath){var n=new e.Binding(this.headerPath);i=i.map((function(e){return n.getValue(e)}))}else if(this.displayMemberPath){var s=new e.Binding(this.displayMemberPath);i=i.map((function(e){return s.getValue(e)}))}this.isContentHtml&&(i=i.map((function(t){return e.toPlainText(t)}))),this.trimText&&(i=i.map((function(e){return e?e.toString().trim():""}))),t=i.join(", ")}else t=e.format(this.headerFormat||e.culture.MultiSelect.itemsSelected,{count:i.length})}var o=this.inputElement;t!=o.value&&(o.value=t,this.onTextChanged()),this._updateState()},n._DEF_CHECKED_PATH="$checked",n}(t.ComboBox);t.MultiSelect=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;s._closing=!1,s._cmd=null,s._cmdPath=null,s._cmdParamPath=null,s._subPath=null,s._owner=null,s._isButton=!1,s._openOnHover=!1,s._closeOnLeave=!0,s._subMenu=null,s._hoverEnterBnd=s._hoverEnter.bind(s),s._hoverLeaveBnd=s._hoverLeave.bind(s),s._hoverOverBnd=s._hoverOver.bind(s),s.itemClicked=new e.Event;var o=s.hostElement,r=s._tbx,a=s._lbx,l=s.dropDown;e.addClass(o,"wj-menu"),r.style.display="none",s._hdr=s._elRef=e.createElement('<div wj-part="header" class="wj-form-control"/>'),r.parentElement.insertBefore(s._hdr,s._tbx);var h=s._orgOuter.match(/tabindex="?(-?\d+)"?/i);return o.tabIndex=h?parseInt(h[1]):0,s.isRequired=!1,e.setAttribute(o,"role","menubar",!0),e.setAttribute(r,"role",null),e.setAttribute(r,"aria-autocomplete",null),e.setAttribute(r,"aria-owns",null),e.setAttribute(l,"role","menu"),a.itemRole="menuitem","SELECT"==s._orgTag&&(s.header=o.getAttribute("header"),s._lbx.itemsSource&&(s.commandParameterPath="cmdParam")),s.isContentHtml=!0,s.maxDropDownHeight=500,s.addEventListener(s._hdr,"click",(function(e){e.defaultPrevented||(s._clearHover(e),s._isButton?(s.isDroppedDown=!1,s._raiseCommand()):s.isDroppedDown=!s.isDroppedDown)})),a.lostFocus.addHandler((function(){s.containsFocus()||(s.isDroppedDown=!1)})),e.addClass(l,"wj-menu-items"),a.formatItem.addHandler(s._formatMenuItem.bind(s)),s.initialize(n),s}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(t){this._openOnHover=e.asBoolean(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(t){this._closeOnLeave=e.asBoolean(t),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=e.asType(t,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.show=function(t){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new e.CancelEventArgs))){var i=this.dropDown,n=this.owner;!n&&t instanceof MouseEvent&&(n=t.target),n instanceof HTMLElement&&(i[e.Control._OWNR_KEY]=n),t instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(t=new e.Point(t.pageX-pageXOffset-2,t.pageY-pageYOffset-2)),e.showPopup(i,t,!1,this.isAnimated),this.onIsDroppedDownChanged(),i.focus()}},i.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new e.CancelEventArgs)&&(e.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},i.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},i.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},i.prototype.onIsDroppedDownChanged=function(e){if(t.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}},i.prototype._updateHoverEvents=function(){var e=this.hostElement,t=this.dropDown,i=this.addEventListener.bind(this),n=this.removeEventListener.bind(this),s="mouseenter",o="mouseover",r="mouseleave";n(e,s,this._hoverEnterBnd),n(e,r,this._hoverLeaveBnd),n(t,o,this._hoverOverBnd),n(t,r,this._hoverLeaveBnd),this._openOnHover&&(i(e,s,this._hoverEnterBnd),i(t,o,this._hoverOverBnd),this._closeOnLeave&&(i(e,r,this._hoverLeaveBnd),i(t,r,this._hoverLeaveBnd)))},i.prototype._getSubItems=function(t){var i=this.subItemsPath,n=t&&i?t[i]:null;return e.isArray(n)&&n.length?n:null},i.prototype._formatMenuItem=function(t,i){var n=i.item;this._getSubItems(i.data)?e.addClass(n,"wj-subitems"):"-"==n.innerHTML&&(n.innerHTML="",e.addClass(n,"wj-separator"))},i.prototype._keydown=function(n){if(!n.defaultPrevented){var s=this._getKeyCode(n);if(this.isDroppedDown)switch(s){case e.Key.Enter:case e.Key.Right:if(this._showSubMenu())return void n.preventDefault();break;case e.Key.Left:var o=e.Control.getControl(this.owner);if(o instanceof i){var r=o.dropDown,a=o.selectedIndex;return(a>-1?r.children[a]:r).focus(),void n.preventDefault()}}s==e.Key.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,n.preventDefault()))}t.prototype._keydown.call(this,n)},i.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu())return void e.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}t.prototype._dropDownClick.call(this,e)},i.prototype._showSubMenu=function(){var t=this,n=this._getSubItems(this.selectedItem);if(!n)return null;var s=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new e.Point(s.right,s.top);if(0==s.height)return null;var r=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");r&&(o.x=s.left);var a=this._subMenu;a&&(a.isDroppedDown=!1),a=new i(document.createElement("div"),{owner:this.hostElement,itemsSource:n,itemClicked:function(e,i){t.itemClicked.raise(e,i)},formatItem:function(e,i){t.formatItem.raise(e,i)}});var l=this.collectionView,h=a.collectionView;l&&l.filter&&h&&!h.filter&&(h.filter=l.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(e){a[e]=t[e]}));var c=a.dropDown;return e.setAttribute(c,"dir",r?"rtl":null),a.show(o),c[e.Control._OWNR_KEY]=this.dropDown,c.focus(),a},i.prototype._raiseCommand=function(t){var n=this.selectedItem,s=this._getSubItems(n),o=this._getCommand(n);if(o&&!s){var r=this._getCommandParm(n);if(!this._canExecuteCommand(o,r))return;this._executeCommand(o,r)}var a=this.headerPath;if(a){var l=new e.Binding(a).getValue(n);l=null==l?"":l.toString(),this.header=this.isContentHtml?l:e.escapeHtml(l)}if(this.onItemClicked(t),this.containsFocus()){for(var h=this;h&&h.owner;){var c=e.Control.getControl(h.owner);if(!(c instanceof i))break;h=c}var u=h.owner;if(!u&&h.dropDown&&(u=h.dropDown[e.Control._OWNR_KEY]),h.isDroppedDown=!1,h.focus(),!h.containsFocus()&&u instanceof HTMLElement&&u.offsetHeight)if(e.isIE){var d=document.documentElement,p=d.scrollLeft,f=d.scrollTop;u.focus(),d.scrollLeft=p,d.scrollTop=f}else u.focus()}},i.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},i.prototype._getCommandParm=function(e){var t=this._cmdParamPath;return e&&t?e[t]:e},i.prototype._executeCommand=function(t,i){t&&!e.isFunction(t)&&(t=t.executeCommand),e.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var n=t.canExecuteCommand;if(e.isFunction(n))return n(i)}return!0},i.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var t=this.collectionView.items,i=0;i<t.length;i++){var n=t[i],s=this._getCommand(n);if(s){var o=this._lbx.hostElement.children[i],r=this._getCommandParm(n);e.toggleClass(o,"wj-state-disabled",!this._canExecuteCommand(s,r))}}},i.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,i._evtHover=e},i.prototype._isTargetDisabled=function(t){return e.hasClass(t.target,"wj-state-disabled")},i.prototype._hoverEnter=function(t){var i=this;this._clearHover(t),this._toHover=setTimeout((function(){i._toHover=null,i.isDroppedDown=!0}),e.Control._HOVER_DELAY)},i.prototype._hoverOver=function(t){var i=this;this._clearHover(t),this._toHover=setTimeout((function(){i._toHover=null;var n=i.listBox.indexOf(t.target);n>-1&&!e.hasClass(t.target,"wj-state-disabled")&&(i.selectedIndex=n,i._subMenu=i._showSubMenu())}),e.Control._HOVER_DELAY)},i.prototype._hoverLeave=function(t){var n=this;this._clearHover(t),this.isDroppedDown&&(this._toHover=setTimeout((function(){var s=(t=i._evtHover)?document.elementFromPoint(t.clientX,t.clientY):null,o=e.closest(s,".wj-listbox.wj-menu-items"),r=n._subMenu;o||e.contains(n.hostElement,s,!0)||(n.isDroppedDown=!1,r&&(r.isDroppedDown=!1))}),e.Control._LEAVE_DELAY))},i}(t.ComboBox);t.Menu=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;if(s._format="t",s.valueChanged=new e.Event,e.addClass(s.hostElement,"wj-inputtime"),s.isEditable=!0,s._value=e.DateTime.newDate(),s._min=s._max=null,s._msk=new e._MaskProvider(s._tbx),e.isIE9()||(s._tbx.type="tel"),"INPUT"==s._orgTag){var o=s._tbx.getAttribute("value");o&&(s.value=e.Globalize.parseDate(o,"HH:mm:ss"))}return s.step=15,s.autoExpandSelection=!0,s.initialize(n),s}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){(t=e.asDate(t,!this.isRequired))&&(t=this._clamp(t)),this._setText(t?e.Globalize.format(t,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(t=e.DateTime.fromDateTime(t,this.selectedItem.value)),t==this._value||e.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=e.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=e.asDate(t,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){t!=this.step&&(this._step=e.asNumber(t,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=e.asString(t),this._tbx.value=e.Globalize.format(this.value,this.format),e.hasItems(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=e.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},i.prototype.onItemsSourceChanged=function(e){t.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},i.prototype.refresh=function(i){void 0===i&&(i=!0),t.prototype.refresh.call(this,i),this.hostElement&&(this._msk.refresh(),this._tbx.value=e.Globalize.format(this.value,this.format),this._updateItems())},i.prototype.onSelectedIndexChanged=function(i){if(this.selectedIndex>-1&&!this._settingText){var n=this.value?this.value:e.DateTime.newDate(),s=null!=this.selectedItem.value?this.selectedItem.value:e.Globalize.parseDate(this.text,this.format,this.value);this.value=e.DateTime.fromDateTime(n,s)}t.prototype.onSelectedIndexChanged.call(this,i)},i.prototype._clamp=function(t){return null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=e.DateTime.fromDateTime(t,this._min)),null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=e.DateTime.fromDateTime(t,this._max)),t},i.prototype._wheel=function(i){if(!i.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&e.isNumber(this.step)&&this.step>0){var n=e.DateTime.addMinutes(this.value,this.step*e.clamp(i.deltaY,-1,1));this.value=this._clamp(n),this.selectAll(),i.preventDefault()}t.prototype._wheel.call(this,i)},i.prototype._updateInputSelection=function(i){if(this._delKey)t.prototype._updateInputSelection.call(this,i);else{for(var n=this._tbx.value;i<n.length&&!n[i].match(/[a-z0-9]/i);)i++;e.setSelectionRange(this._tbx,i,this._tbx.value.length)}},i.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],i=new Date(2020,0),n=new Date(2020,0,1,23,59,59),s=this.step;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),e.isNumber(s)&&s>=1)for(var o=i;o<=n;o=e.DateTime.addMinutes(o,s))t.push({value:o,text:e.Globalize.format(o,this.format)});var r=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=t,this._hasCustomItems=!1,this._settingText=!1,!r&&this.isRequired||(this.value=r)}},i.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},i.prototype._keydown=function(i){if(t.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case e.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case e.Key.Escape:this.text=e.Globalize.format(this.value,this.format),this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?e.Globalize.format(this.value,this.format):"";if(this.text!=t){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:e.Globalize.parseDate(this.text,this.format,this.value);i?(e.DateTime.sameTime(i,this._clamp(i))||this.onInvalidInput(new e.CancelEventArgs))&&(this.value=e.DateTime.fromDateTime(this.value,i)):this.onInvalidInput(new e.CancelEventArgs)&&(this.text=t)}}else this.value=null},i}(t.ComboBox);t.InputTime=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";e._addCultureInfo("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var i=function(i){function n(n,s){var o=i.call(this,n)||this;e.addClass(o.hostElement,"wj-inputdatetime");var r=e.culture.InputDateTime.ariaLabels;e.setAriaLabel(o._btn,r.tglDate),e.setAriaLabel(o._btnTm,r.tglTime),o.value=new Date,o.format="g",o._inputTime=new t.InputTime(document.createElement("div"),{valueChanged:function(t){var i=o.rangeEnd;o.value=e.DateTime.fromDateTime(o.value,t.value),o.calendar._rngMode()&&i&&(o.rangeEnd=e.DateTime.fromDateTime(i,t.value))},isDroppedDownChanged:function(e){e.listBox.containsFocus()&&o.inputElement.focus(),o._selectAll()}});var a=o.addEventListener.bind(o);o._btnTm=o.hostElement.querySelector('[wj-part="btn-tm"]'),a(o._btnTm,"mousedown",(function(e){o._btnclick(e)})),o._ddDate=o._dropDown;var l=o._ddTime=o._inputTime.dropDown;return a(l,"keydown",o._keydown.bind(o),!0),a(l,"blur",(function(){o._updateFocusState()}),!0),a(l,"click",(function(e){e.defaultPrevented||e.target!=l&&o.hostElement.focus()}),!0),o.initialize(s),o.text=o._getText(),o}return __extends(n,i),Object.defineProperty(n.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t,this._btnTm.style.display=e.isNumber(t)&&t>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),n.prototype._fromDateTime=function(e){return e},n.prototype._btnclick=function(t){var n=e.closest(t.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(n),i.prototype._btnclick.call(this,t)},n.prototype.dispose=function(){this._setDropdown(this._ddDate),i.prototype.dispose.call(this),this._inputTime.dispose()},n.prototype.refresh=function(e){void 0===e&&(e=!0),this._inputTime.refresh(),i.prototype.refresh.call(this,e)},n.prototype._updateBtn=function(){i.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},n.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var t=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=t,!0},n.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):i.prototype._updateDropDown.call(this)},n.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',n}(t.InputDate);t.InputDateTime=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;return s._cssMatch="wj-state-match",s._minLength=2,s._maxItems=6,s._itemCount=0,s._beginsWith=!1,s._delay=e.Control._SEARCH_DELAY,s._query="",s._inCallback=!1,s._srchProps=[],e.addClass(s.hostElement,"wj-autocomplete"),s._bsCollapse=!1,s.isEditable=!0,s.isRequired=!1,s.listBox.formatItem.addHandler(s._formatListItem,s),s._itemsSourceFnCallbackBnd=s._itemSourceFunctionCallback.bind(s),s.initialize(n),s}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(t){this._beginsWith=e.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=e.asString(t),this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=e.asFunction(t),e.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=e.asString(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case e.Key.Up:case e.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)},i.prototype._setText=function(t){var i=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=t&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),t!=this._oldText){var n=this._tbx;n.value!=t&&(n.value=t),this._oldText=t,this.onTextChanged();var s=this.collectionView;if(!t&&s){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,s.filter=null;var o=this.itemsSourceFunction;return void(e.isFunction(o)&&(this.isDroppedDown=!1,o(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){i._toSearch=null;var t=i.text.trim();if(t.length>=i._minLength&&t!=i._query){i._query=t,t=e.escapeRegExp(t);var n=e.escapeHtml(t),s=i.caseSensitiveSearch?"":"i";i._beginsWith||(s+="g"),i._rxSrch=i._beginsWith?new RegExp("^"+t+".*",s):new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")",s),i._rxHighlight=new RegExp("("+n.replace(/\s+/g,"|")+")",s);var o=i.itemsSourceFunction;e.isFunction(o)?o(i._query,i.maxItems,i._itemsSourceFnCallbackBnd):i._updateItems()}}),this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=e.asCollectionView(t||[]);if(i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()){var n=this._tbx,s=n.selectionStart,o=n.selectionEnd,r=this.collectionView;this.isDroppedDown=null!=r&&r.items.length>0,e.setSelectionRange(n,s,o),this.refresh()}},i.prototype.onIsDroppedDownChanged=function(i){if(t.prototype.onIsDroppedDownChanged.call(this,i),this.containsFocus()&&!this.isTouching){var n=this.collectionView;if(this.selectedIndex<0&&n){var s=n.items,o=this.text;1==s.length&&s[0]==o?this.selectedIndex=0:e.setSelectionRange(this._tbx,o.length)}}this._query=""},i.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1;var i=t.items.length,n=this._tbx,s=n.selectionStart,o=n.selectionEnd;if(this.isDroppedDown=i>0&&this.containsFocus(),i||this.isEditable||(this.selectedIndex=-1),1==i&&this.selectedIndex<0){var r=this._getItemText(t.items[0],!1),a=n.value;this.caseSensitiveSearch||(r=r.toLowerCase(),a=a.toLowerCase()),r==a&&(this.selectedIndex=0)}this.isDroppedDown&&e.setSelectionRange(n,s,o),this.refresh()}},i.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach((function(i){var n=e[i];null!=n&&t.push(n)})),this.isContentHtml&&(t=t.map((function(e){return e.replace(/(<[^>]*>|&[^;]*;)/g,"")})));for(var i=0;i<t.length;i++)if(this._rxSrch.test(t[i]))return this._itemCount++,!0;return!1},i.prototype._getItemText=function(e,t){var i=e?e.toString():"",n=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return n&&(i=null!=(i=n.getValue(e))?i.toString():""),i},i.prototype._formatListItem=function(e,t){var i=this;this._cssMatch&&this._rxHighlight&&(t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,(function(e,t,n,s){return i._enclosed(s,n,"<",">")||i._enclosed(s,n,"&",";")?e:'<span class="'+i._cssMatch+'">'+e+"</span>"})))},i.prototype._enclosed=function(e,t,i,n){for(var s=t;s>=0&&e[s]!=n;s--)if(e[s]==i)for(var o=t;o<e.length&&e[o]!=i;o++)if(e[o]==n)return!0;return!1},i}(t.ComboBox);t.AutoComplete=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){!function(t){"use strict";var i=function(t){function i(i,n){var s=t.call(this,i)||this;return s._selItems=[],s._maxSelItems=null,s._lastInputValue="",s._selPath=new e.Binding(null),s._notAddItm=!1,s.selectedItemsChanged=new e.Event,e.addClass(s.hostElement,"wj-multi-autocomplete"),s._wjTpl=s.hostElement.querySelector(".wj-template"),s._wjInput=s.hostElement.querySelector(".wj-input"),s.showDropDownButton=!1,s.initialize(n),s.addEventListener(s.hostElement,"keyup",s._keyup.bind(s),!0),s.addEventListener(window,"resize",s._adjustInputWidth.bind(s)),s.addEventListener(s._tbx,"focus",(function(){s._itemOff()})),s._addHelperInput(),s._initSeltems(),s.listBox.itemsChanged.addHandler((function(){return s.selectedIndex=-1})),s._refreshHeader(),s}return __extends(i,t),Object.defineProperty(i.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(t){this._maxSelItems!=t&&(this._maxSelItems=e.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){(t=e.asString(t))!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){if(this._selItems=e.asArray(t),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var i=0;i<this._selItems.length;i++){var n=this._selItems[i];this._setSelItem(n,!1)}this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),i.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},i.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,t.prototype.onIsDroppedDownChanged.call(this,e)},i.prototype.refresh=function(e){void 0===e&&(e=!0),t.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},i.prototype._keydown=function(i){if(!this.isReadOnly){if(!i.defaultPrevented)switch(i.keyCode){case e.Key.Back:this._lastInputValue=this._tbx.value;break;case e.Key.Enter:this._itemOff(),this._addItem(!0),e.isIE()&&e.setSelectionRange(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case e.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,i.preventDefault()):this._updateFocus();break;case e.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case e.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case e.Key.Left:this._itemOn(!this.rightToLeft);break;case e.Key.Right:this._itemOn(!!this.rightToLeft);break;case e.Key.Up:case e.Key.Down:var n=e.getActiveElement();if(i.altKey){if(this._tbx==n)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void i.preventDefault()}else if(this._tbx!==n)return;default:if(i.keyCode===e.Key.Back||i.keyCode===e.Key.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&i.preventDefault()}this._tbx.disabled||t.prototype._keydown.call(this,i)}},i.prototype._updateState=function(){t.prototype._updateState.call(this),this._wjTpl&&(e.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())},i.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case e.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case e.Key.Delete:this._delItem(!0)}},i.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},i.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var i=this.selectedItems;if(!i||0===i.length)return this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",void this._adjustInputWidth();for(t=0;t<i.length;t++)this._insertToken(i[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},i.prototype._insertToken=function(t){var i=this._getItemText(t,!0);this.isContentHtml||(i=e.escapeHtml(i)),this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},i.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},i.prototype._updateFocus=function(){var t=this,n=this._wjTpl.querySelector("."+i._clsActive);n?(e.removeClass(n,i._clsActive),setTimeout((function(){t._tbx.focus()}))):this._clearSelIndex()},i.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},i.prototype._delItem=function(e){var t,n,s=this._wjTpl.querySelector("."+i._clsActive),o=!1;e&&!s||(s?(n=this._getItemIndex(s))>-1&&(t=this._selItems[n],o=!0):this._selItems.length>0&&(t=this._selItems[this._selItems.length-1],o=!0),o&&(this._updateSelItems(t,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},i.prototype._updateSelItems=function(e,t){if(t){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var i=this._selItems.indexOf(e);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t),this.onSelectedItemsChanged()},i.prototype._createItem=function(t){var n=this,s=document.createElement("div"),o=document.createElement("span"),r=document.createElement("a");return s.appendChild(o),s.appendChild(r),s.className="wj-token",o.className="wj-token-label",o.innerHTML=t,r.className="wj-token-close",r.href="#",r.tabIndex=-1,r.text="×",s.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(s,"click",(function(t){n._helperInput.focus();var o=n._wjTpl.querySelector("."+i._clsActive);o&&e.removeClass(o,i._clsActive),e.addClass(s,i._clsActive),t.stopPropagation(),t.preventDefault()})),this.addEventListener(r,"click",(function(e){if(!n.isReadOnly){var t=n._getItemIndex(s);if(t>-1){var i=n._selItems[t];n._updateSelItems(i,!1)}n._wjTpl.removeChild(s),n._adjustInputWidth(),n._disableInput(!1),n._tbx.focus(),e.stopPropagation(),e.preventDefault()}})),s},i.prototype._itemOn=function(t){var n,s,o,r=e.getActiveElement();if((this._tbx!=r||0===this._tbx.value.length)&&0!==(n=this._wjTpl.querySelectorAll(".wj-token")).length)if(s=this._wjTpl.querySelector("."+i._clsActive),o=this._getItemIndex(s),t){if(0===o)return;-1===o?(e.addClass(n[n.length-1],i._clsActive),this._helperInput.focus()):(e.removeClass(s,i._clsActive),e.addClass(n[o-1],i._clsActive),this._helperInput.focus())}else if(!t){if(-1===o)return;o!==n.length-1?(e.removeClass(s,i._clsActive),e.addClass(n[o+1],i._clsActive),this._helperInput.focus()):(e.removeClass(s,i._clsActive),this._tbx.focus())}},i.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+i._clsActive);t&&e.removeClass(t,i._clsActive)},i.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}},i.prototype._getSelItem=function(t){var i=this.collectionView,n=i?i.sourceCollection[t]:null;return!(!e.isObject(n)||!this.selectedMemberPath)&&this._selPath.getValue(n)},i.prototype._setSelItem=function(t,i){this.itemsSource,e.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)},i.prototype._clearSelIndex=function(){this.selectedIndex=-1},i.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},i.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},i.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,i=e.getElementRect(this.hostElement),n=e.getElementRect(this._tbx),s=getComputedStyle(this._tbx),o=parseInt(s.paddingLeft,10),r=parseInt(s.paddingRight,10);t=this.rightToLeft?n.left+n.width-i.left-o-r-8:i.left+i.width-n.left-o-r-8,this._tbx.style.width=t+"px"},i.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)if(e===t[i])return i;return-1},i._clsActive="wj-token-active",i}(t.AutoComplete);t.MultiAutoComplete=i}(e.input||(e.input={}))}(wijmo||(wijmo={})),function(e){e.input||(e.input={}),e._registerModule("wijmo.input",e.input)}(wijmo||(wijmo={}));