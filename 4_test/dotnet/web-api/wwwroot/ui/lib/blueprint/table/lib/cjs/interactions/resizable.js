"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resizable=void 0;var tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),core_1=require("@blueprintjs/core"),index_1=require("../common/index"),resizeHandle_1=require("./resizeHandle"),Resizable=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=i.getDerivedStateFromProps(t.props,null),t.onResizeMove=function(e,i){t.offsetSize(i),null!=t.props.onSizeChanged&&t.props.onSizeChanged(t.state.size)},t.onResizeEnd=function(e){t.setState({unclampedSize:t.state.size}),null!=t.props.onResizeEnd&&t.props.onResizeEnd(t.state.size)},t}var i;return tslib_1.__extends(t,e),i=t,t.getDerivedStateFromProps=function(e,t){var i=e.size;return null==t?{size:i,unclampedSize:i}:null},t.prototype.componentDidUpdate=function(e){e.size!==this.props.size&&this.setState(i.getDerivedStateFromProps(this.props,null))},t.prototype.render=function(){var e=React.Children.only(this.props.children),t=tslib_1.__assign(tslib_1.__assign({},e.props.style),this.getStyle());if(!1===this.props.isResizable)return React.cloneElement(e,{style:t});var i=this.renderResizeHandle();return React.cloneElement(e,{style:t,resizeHandle:i})},t.prototype.renderResizeHandle=function(){var e=this.props,t=e.onLayoutLock,i=e.onDoubleClick,s=e.orientation;return React.createElement(resizeHandle_1.ResizeHandle,{key:"resize-handle",onDoubleClick:i,onLayoutLock:t,onResizeEnd:this.onResizeEnd,onResizeMove:this.onResizeMove,orientation:s})},t.prototype.getStyle=function(){return this.props.orientation===resizeHandle_1.Orientation.VERTICAL?{flexBasis:this.state.size+"px",minWidth:"0px",width:this.state.size+"px"}:{flexBasis:this.state.size+"px",height:this.state.size+"px",minHeight:"0px"}},t.prototype.offsetSize=function(e){var t=this.state.unclampedSize+e;this.setState({size:index_1.Utils.clamp(t,this.props.minSize,this.props.maxSize),unclampedSize:t})},t.defaultProps={isResizable:!0,minSize:0},i=tslib_1.__decorate([react_lifecycles_compat_1.polyfill],t)}(core_1.AbstractPureComponent2);exports.Resizable=Resizable;