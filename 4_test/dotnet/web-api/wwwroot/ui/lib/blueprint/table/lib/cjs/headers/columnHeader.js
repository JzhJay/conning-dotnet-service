"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColumnHeader=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),Classes=tslib_1.__importStar(require("../common/classes")),index_1=require("../common/index"),resizeHandle_1=require("../interactions/resizeHandle"),regions_1=require("../regions"),columnHeaderCell_1=require("./columnHeaderCell"),header_1=require("./header"),ColumnHeader=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.wrapCells=function(e){var t=n.props,l=t.columnIndexStart,r=t.grid.getRect().width,i=n.props.grid.getCumulativeWidthBefore(l),s={transform:"translateX("+(i||0)+"px)",width:r-i},o=classnames_1.default(Classes.TABLE_THEAD,Classes.TABLE_COLUMN_HEADER_TR);return React.createElement("div",{style:{width:r}},React.createElement("div",{style:s,className:o,ref:n.props.measurableElementRef},e))},n.convertPointToColumn=function(e,t){var l=n.props.locator;return null!=l?l.convertPointToColumn(e,t):null},n.getCellExtremaClasses=function(e,t){return n.props.grid.getExtremaClasses(0,e,1,t)},n.getColumnWidth=function(e){return n.props.grid.getColumnRect(e).width},n.getDragCoordinate=function(e){return e[0]},n.getMouseCoordinate=function(e){return e.clientX},n.handleResizeEnd=function(e,t){n.props.onResizeGuide(null),n.props.onColumnWidthChanged(e,t)},n.handleResizeDoubleClick=function(e){var t=n.props,l=t.minColumnWidth,r=t.maxColumnWidth,i=n.props.locator.getWidestVisibleCellInColumn(e),s=index_1.Utils.clamp(i,l,r);n.props.onResizeGuide(null),n.props.onColumnWidthChanged(e,s)},n.handleSizeChanged=function(e,t){var l=n.props.grid.getColumnRect(e);n.props.onResizeGuide([l.left+t])},n.isCellSelected=function(e){return regions_1.Regions.hasFullColumn(n.props.selectedRegions,e)},n.isGhostIndex=function(e){return n.props.grid.isGhostIndex(-1,e)},n.renderGhostCell=function(e,t){var l=n.props,r=l.grid,i=l.loading,s=r.getGhostCellRect(0,e),o={flexBasis:s.width+"px",width:s.width+"px"};return React.createElement(columnHeaderCell_1.ColumnHeaderCell,{className:classnames_1.default(t),index:e,key:Classes.columnIndexClass(e),loading:i,style:o})},n.toRegion=function(e,n){return regions_1.Regions.column(e,n)},n}return tslib_1.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.cellRenderer,t=(e.onColumnWidthChanged,e.minColumnWidth),l=e.maxColumnWidth,r=(e.defaultColumnWidth,e.columnIndexStart),i=e.columnIndexEnd,s=tslib_1.__rest(e,["cellRenderer","onColumnWidthChanged","minColumnWidth","maxColumnWidth","defaultColumnWidth","columnIndexStart","columnIndexEnd"]);return React.createElement(header_1.Header,tslib_1.__assign({convertPointToIndex:this.convertPointToColumn,fullRegionCardinality:regions_1.RegionCardinality.FULL_COLUMNS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:Classes.columnCellIndexClass,getCellSize:this.getColumnWidth,getDragCoordinate:this.getDragCoordinate,getIndexClass:Classes.columnIndexClass,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeDoubleClick:this.handleResizeDoubleClick,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableColumnReordering",headerCellIsSelectedPropName:"isColumnSelected",headerCellRenderer:n,indexEnd:i,indexStart:r,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:l,minSize:t,resizeOrientation:resizeHandle_1.Orientation.VERTICAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},s))},n.defaultProps={isReorderable:!1,isResizable:!0,loading:!1},n}(React.Component);exports.ColumnHeader=ColumnHeader;