import*as Classes from"../common/classes";var ResizeSensor=function(){function e(){}return e.attach=function(t,i){var s=e.debounce(i),n=document.createElement("div");n.className=Classes.TABLE_RESIZE_SENSOR,n.style.cssText=e.RESIZE_SENSOR_STYLE,n.innerHTML=e.RESIZE_SENSOR_HTML,t.appendChild(n),"static"===getComputedStyle(t,null).getPropertyValue("position")&&(t.style.position="relative");var o,l,r=n.childNodes[0],d=r.childNodes[0],c=n.childNodes[1],E=function(){d.style.width="100000px",d.style.height="100000px",r.scrollLeft=1e5,r.scrollTop=1e5,c.scrollLeft=1e5,c.scrollTop=1e5};E();var a=function(){if(null!=t){var e=t.offsetWidth,i=t.offsetHeight;e===o&&i===l||(o=e,l=i,s.trigger()),E()}};return r.addEventListener("scroll",a),c.addEventListener("scroll",a),function(){t.removeChild(n),s.cancelled=!0}},e.debounce=function(e){var t={cancelled:!1,trigger:function(){t.triggered||t.cancelled||(t.triggered=!0,requestAnimationFrame((function(){t.triggered=!1,t.cancelled||e()})))},triggered:!1};return t},e.RESIZE_SENSOR_STYLE="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",e.RESIZE_SENSOR_HTML='<div class="'+Classes.TABLE_RESIZE_SENSOR_EXPAND+'"\n        style="'+e.RESIZE_SENSOR_STYLE+'"><div style="position: absolute; left: 0; top: 0; transition: 0s;"\n        ></div></div><div class="'+Classes.TABLE_RESIZE_SENSOR_SHRINK+'" style="'+e.RESIZE_SENSOR_STYLE+'"\n        ><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%;"></div></div>',e}();export{ResizeSensor};