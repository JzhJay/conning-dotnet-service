import{__assign,__extends,__rest}from"tslib";import classNames from"classnames";import*as React from"react";import*as Classes from"../common/classes";import{Utils}from"../common/index";import{Orientation}from"../interactions/resizeHandle";import{RegionCardinality,Regions}from"../regions";import{ColumnHeaderCell}from"./columnHeaderCell";import{Header}from"./header";var ColumnHeader=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.wrapCells=function(e){var t=n.props,l=t.columnIndexStart,o=t.grid.getRect().width,i=n.props.grid.getCumulativeWidthBefore(l),s={transform:"translateX("+(i||0)+"px)",width:o-i},r=classNames(Classes.TABLE_THEAD,Classes.TABLE_COLUMN_HEADER_TR);return React.createElement("div",{style:{width:o}},React.createElement("div",{style:s,className:r,ref:n.props.measurableElementRef},e))},n.convertPointToColumn=function(e,t){var l=n.props.locator;return null!=l?l.convertPointToColumn(e,t):null},n.getCellExtremaClasses=function(e,t){return n.props.grid.getExtremaClasses(0,e,1,t)},n.getColumnWidth=function(e){return n.props.grid.getColumnRect(e).width},n.getDragCoordinate=function(e){return e[0]},n.getMouseCoordinate=function(e){return e.clientX},n.handleResizeEnd=function(e,t){n.props.onResizeGuide(null),n.props.onColumnWidthChanged(e,t)},n.handleResizeDoubleClick=function(e){var t=n.props,l=t.minColumnWidth,o=t.maxColumnWidth,i=n.props.locator.getWidestVisibleCellInColumn(e),s=Utils.clamp(i,l,o);n.props.onResizeGuide(null),n.props.onColumnWidthChanged(e,s)},n.handleSizeChanged=function(e,t){var l=n.props.grid.getColumnRect(e);n.props.onResizeGuide([l.left+t])},n.isCellSelected=function(e){return Regions.hasFullColumn(n.props.selectedRegions,e)},n.isGhostIndex=function(e){return n.props.grid.isGhostIndex(-1,e)},n.renderGhostCell=function(e,t){var l=n.props,o=l.grid,i=l.loading,s=o.getGhostCellRect(0,e),r={flexBasis:s.width+"px",width:s.width+"px"};return React.createElement(ColumnHeaderCell,{className:classNames(t),index:e,key:Classes.columnIndexClass(e),loading:i,style:r})},n.toRegion=function(e,n){return Regions.column(e,n)},n}return __extends(n,e),n.prototype.render=function(){var e=this.props,n=e.cellRenderer,t=(e.onColumnWidthChanged,e.minColumnWidth),l=e.maxColumnWidth,o=(e.defaultColumnWidth,e.columnIndexStart),i=e.columnIndexEnd,s=__rest(e,["cellRenderer","onColumnWidthChanged","minColumnWidth","maxColumnWidth","defaultColumnWidth","columnIndexStart","columnIndexEnd"]);return React.createElement(Header,__assign({convertPointToIndex:this.convertPointToColumn,fullRegionCardinality:RegionCardinality.FULL_COLUMNS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:Classes.columnCellIndexClass,getCellSize:this.getColumnWidth,getDragCoordinate:this.getDragCoordinate,getIndexClass:Classes.columnIndexClass,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeDoubleClick:this.handleResizeDoubleClick,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableColumnReordering",headerCellIsSelectedPropName:"isColumnSelected",headerCellRenderer:n,indexEnd:i,indexStart:o,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:l,minSize:t,resizeOrientation:Orientation.VERTICAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},s))},n.defaultProps={isReorderable:!1,isResizable:!0,loading:!1},n}(React.Component);export{ColumnHeader};