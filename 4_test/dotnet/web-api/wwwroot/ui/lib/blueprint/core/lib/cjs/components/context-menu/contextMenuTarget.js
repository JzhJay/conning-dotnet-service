"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContextMenuTarget=void 0;var tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),ReactDOM=tslib_1.__importStar(require("react-dom")),errors_1=require("../../common/errors"),utils_1=require("../../common/utils"),isDarkTheme_1=require("../../common/utils/isDarkTheme"),ContextMenu=tslib_1.__importStar(require("./contextMenu"));function ContextMenuTarget(e){var t;return utils_1.isFunction(e.prototype.renderContextMenu)||console.warn(errors_1.CONTEXTMENU_WARN_DECORATOR_NO_METHOD),t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tslib_1.__extends(t,e),t.prototype.render=function(){var t=this,r=e.prototype.render.call(this);if(null==r)return r;if(!React.isValidElement(r))return console.warn(errors_1.CONTEXTMENU_WARN_DECORATOR_NEEDS_REACT_ELEMENT),r;var n=r.props.onContextMenu;return React.cloneElement(r,{onContextMenu:function(e){if(!e.defaultPrevented){if(utils_1.isFunction(t.renderContextMenu)){var r=t.renderContextMenu(e);if(null!=r){var o=isDarkTheme_1.isDarkTheme(ReactDOM.findDOMNode(t));e.preventDefault(),ContextMenu.show(r,{left:e.clientX,top:e.clientY},t.onContextMenuClose,o)}}null==n||n(e)}}})},t}(e),t.displayName="ContextMenuTarget("+utils_1.getDisplayName(e)+")",t}exports.ContextMenuTarget=ContextMenuTarget;