import{__decorate}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,Boundary,Classes,Position,removeNonHTMLProps}from"../../common";import{Menu}from"../menu/menu";import{MenuItem}from"../menu/menuItem";import{OverflowList}from"../overflow-list/overflowList";import{Popover}from"../popover/popover";import{Breadcrumb}from"./breadcrumb";let Breadcrumbs=class extends AbstractPureComponent2{constructor(){super(...arguments),this.renderOverflow=e=>{const{collapseFrom:r}=this.props,t=r===Boundary.END?Position.BOTTOM_RIGHT:Position.BOTTOM_LEFT;let s=e;return r===Boundary.START&&(s=e.slice().reverse()),React.createElement("li",null,React.createElement(Popover,Object.assign({position:t,disabled:0===s.length,content:React.createElement(Menu,null,s.map(this.renderOverflowBreadcrumb))},this.props.popoverProps),React.createElement("span",{className:Classes.BREADCRUMBS_COLLAPSED})))},this.renderOverflowBreadcrumb=(e,r)=>{const t=null!=e.href||null!=e.onClick,s=removeNonHTMLProps(e);return React.createElement(MenuItem,Object.assign({disabled:!t},s,{text:e.text,key:r}))},this.renderBreadcrumbWrapper=(e,r)=>{const t=this.props.items[this.props.items.length-1]===e;return React.createElement("li",{key:r},this.renderBreadcrumb(e,t))}}render(){const{className:e,collapseFrom:r,items:t,minVisibleItems:s,overflowListProps:o={}}=this.props;return React.createElement(OverflowList,Object.assign({collapseFrom:r,minVisibleItems:s,tagName:"ul"},o,{className:classNames(Classes.BREADCRUMBS,o.className,e),items:t,overflowRenderer:this.renderOverflow,visibleItemRenderer:this.renderBreadcrumbWrapper}))}renderBreadcrumb(e,r){return r&&null!=this.props.currentBreadcrumbRenderer?this.props.currentBreadcrumbRenderer(e):null!=this.props.breadcrumbRenderer?this.props.breadcrumbRenderer(e):React.createElement(Breadcrumb,Object.assign({current:r},e))}};Breadcrumbs.defaultProps={collapseFrom:Boundary.START},Breadcrumbs=__decorate([polyfill],Breadcrumbs);export{Breadcrumbs};