import{__assign,__extends}from"tslib";import classNames from"classnames";import*as React from"react";import*as Classes from"../../common/classes";import{DISPLAYNAME_PREFIX}from"../../common/props";import{Collapse}from"../collapse/collapse";import{Icon}from"../icon/icon";var TreeNode=function(e){function s(){var s=null!==e&&e.apply(this,arguments)||this;return s.handleCaretClick=function(e){var a;e.stopPropagation();var n=s.props,l=n.isExpanded,o=n.onCollapse,t=n.onExpand;null===(a=l?o:t)||void 0===a||a(s,e)},s.handleClick=function(e){var a,n;null===(n=(a=s.props).onClick)||void 0===n||n.call(a,s,e)},s.handleContentRef=function(e){var a,n;null===(n=(a=s.props).contentRef)||void 0===n||n.call(a,s,e)},s.handleContextMenu=function(e){var a,n;null===(n=(a=s.props).onContextMenu)||void 0===n||n.call(a,s,e)},s.handleDoubleClick=function(e){var a,n;null===(n=(a=s.props).onDoubleClick)||void 0===n||n.call(a,s,e)},s.handleMouseEnter=function(e){var a,n;null===(n=(a=s.props).onMouseEnter)||void 0===n||n.call(a,s,e)},s.handleMouseLeave=function(e){var a,n;null===(n=(a=s.props).onMouseLeave)||void 0===n||n.call(a,s,e)},s}return __extends(s,e),s.ofType=function(){return s},s.prototype.render=function(){var e,s=this.props,a=s.children,n=s.className,l=s.disabled,o=s.icon,t=s.isExpanded,r=s.isSelected,c=s.label,i=classNames(Classes.TREE_NODE,((e={})[Classes.DISABLED]=l,e[Classes.TREE_NODE_SELECTED]=r,e[Classes.TREE_NODE_EXPANDED]=t,e),n),E=classNames(Classes.TREE_NODE_CONTENT,Classes.TREE_NODE_CONTENT+"-"+this.props.depth),p=!0===l?{}:{onClick:this.handleClick,onContextMenu:this.handleContextMenu,onDoubleClick:this.handleDoubleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return React.createElement("li",{className:i},React.createElement("div",__assign({className:E,ref:this.handleContentRef},p),this.maybeRenderCaret(),React.createElement(Icon,{className:Classes.TREE_NODE_ICON,icon:o}),React.createElement("span",{className:Classes.TREE_NODE_LABEL},c),this.maybeRenderSecondaryLabel()),React.createElement(Collapse,{isOpen:t},a))},s.prototype.maybeRenderCaret=function(){var e=this.props,s=e.children,a=e.isExpanded,n=e.disabled,l=e.hasCaret;if(void 0===l?React.Children.count(s)>0:l){var o=classNames(Classes.TREE_NODE_CARET,a?Classes.TREE_NODE_CARET_OPEN:Classes.TREE_NODE_CARET_CLOSED),t=!0===n?void 0:this.handleCaretClick;return React.createElement(Icon,{title:a?"Collapse group":"Expand group",className:o,onClick:t,icon:"chevron-right"})}return React.createElement("span",{className:Classes.TREE_NODE_CARET_NONE})},s.prototype.maybeRenderSecondaryLabel=function(){return null!=this.props.secondaryLabel?React.createElement("span",{className:Classes.TREE_NODE_SECONDARY_LABEL},this.props.secondaryLabel):void 0},s.displayName=DISPLAYNAME_PREFIX+".TreeNode",s}(React.Component);export{TreeNode};