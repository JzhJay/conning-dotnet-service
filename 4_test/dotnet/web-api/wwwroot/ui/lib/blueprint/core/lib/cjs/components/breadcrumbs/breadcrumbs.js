"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Breadcrumbs=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),common_1=require("../../common"),menu_1=require("../menu/menu"),menuItem_1=require("../menu/menuItem"),overflowList_1=require("../overflow-list/overflowList"),popover_1=require("../popover/popover"),breadcrumb_1=require("./breadcrumb"),Breadcrumbs=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderOverflow=function(e){var t=r.props.collapseFrom,o=t===common_1.Boundary.END?common_1.Position.BOTTOM_RIGHT:common_1.Position.BOTTOM_LEFT,s=e;return t===common_1.Boundary.START&&(s=e.slice().reverse()),React.createElement("li",null,React.createElement(popover_1.Popover,tslib_1.__assign({position:o,disabled:0===s.length,content:React.createElement(menu_1.Menu,null,s.map(r.renderOverflowBreadcrumb))},r.props.popoverProps),React.createElement("span",{className:common_1.Classes.BREADCRUMBS_COLLAPSED})))},r.renderOverflowBreadcrumb=function(e,r){var t=null!=e.href||null!=e.onClick,o=common_1.removeNonHTMLProps(e);return React.createElement(menuItem_1.MenuItem,tslib_1.__assign({disabled:!t},o,{text:e.text,key:r}))},r.renderBreadcrumbWrapper=function(e,t){var o=r.props.items[r.props.items.length-1]===e;return React.createElement("li",{key:t},r.renderBreadcrumb(e,o))},r}return tslib_1.__extends(r,e),r.prototype.render=function(){var e=this.props,r=e.className,t=e.collapseFrom,o=e.items,s=e.minVisibleItems,n=e.overflowListProps,a=void 0===n?{}:n;return React.createElement(overflowList_1.OverflowList,tslib_1.__assign({collapseFrom:t,minVisibleItems:s,tagName:"ul"},a,{className:classnames_1.default(common_1.Classes.BREADCRUMBS,a.className,r),items:o,overflowRenderer:this.renderOverflow,visibleItemRenderer:this.renderBreadcrumbWrapper}))},r.prototype.renderBreadcrumb=function(e,r){return r&&null!=this.props.currentBreadcrumbRenderer?this.props.currentBreadcrumbRenderer(e):null!=this.props.breadcrumbRenderer?this.props.breadcrumbRenderer(e):React.createElement(breadcrumb_1.Breadcrumb,tslib_1.__assign({current:r},e))},r.defaultProps={collapseFrom:common_1.Boundary.START},tslib_1.__decorate([react_lifecycles_compat_1.polyfill],r)}(common_1.AbstractPureComponent2);exports.Breadcrumbs=Breadcrumbs;