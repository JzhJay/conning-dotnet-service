"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextArea=void 0;var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),React=tslib_1.__importStar(require("react")),react_lifecycles_compat_1=require("react-lifecycles-compat"),common_1=require("../../common"),props_1=require("../../common/props"),TextArea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.textareaElement=null,t.handleRef=common_1.refHandler(t,"textareaElement",t.props.inputRef),t.handleChange=function(e){t.props.growVertically&&t.setState({height:e.target.scrollHeight}),null!=t.props.onChange&&t.props.onChange(e)},t}return tslib_1.__extends(t,e),t.prototype.componentDidMount=function(){var e;this.props.growVertically&&null!==this.textareaElement&&this.setState({height:null===(e=this.textareaElement)||void 0===e?void 0:e.scrollHeight})},t.prototype.componentDidUpdate=function(e){e.inputRef!==this.props.inputRef&&(common_1.setRef(e.inputRef,null),this.handleRef=common_1.refHandler(this,"textareaElement",this.props.inputRef),common_1.setRef(this.props.inputRef,this.textareaElement))},t.prototype.render=function(){var e,t=this.props,s=t.className,a=t.fill,l=(t.inputRef,t.intent),n=t.large,r=t.small,o=t.growVertically,i=tslib_1.__rest(t,["className","fill","inputRef","intent","large","small","growVertically"]),p=classnames_1.default(common_1.Classes.INPUT,common_1.Classes.intentClass(l),((e={})[common_1.Classes.FILL]=a,e[common_1.Classes.LARGE]=n,e[common_1.Classes.SMALL]=r,e),s),c=i.style,m=void 0===c?{}:c;return o&&null!=this.state.height&&(m=tslib_1.__assign(tslib_1.__assign({},m),{height:this.state.height+"px"})),React.createElement("textarea",tslib_1.__assign({},i,{className:p,onChange:this.handleChange,ref:this.handleRef,style:m}))},t.displayName=props_1.DISPLAYNAME_PREFIX+".TextArea",tslib_1.__decorate([react_lifecycles_compat_1.polyfill],t)}(common_1.AbstractPureComponent2);exports.TextArea=TextArea;