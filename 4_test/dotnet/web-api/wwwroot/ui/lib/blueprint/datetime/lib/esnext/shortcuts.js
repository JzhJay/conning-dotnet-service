import*as React from"react";import{Classes,Menu,MenuItem}from"@blueprintjs/core";import{DATERANGEPICKER_SHORTCUTS}from"./common/classes";import{clone,isDayRangeInRange}from"./common/dateUtils";export class Shortcuts extends React.PureComponent{constructor(){super(...arguments),this.getShorcutClickHandler=(t,e)=>()=>{const{onShortcutClick:a}=this.props;a(t,e)},this.isShortcutInRange=t=>{const{minDate:e,maxDate:a}=this.props;return isDayRangeInRange(t,[e,a])}}render(){const t=(!0===this.props.shortcuts?createDefaultShortcuts(this.props.allowSingleDayRange,void 0!==this.props.timePrecision,!0===this.props.useSingleDateShortcuts):this.props.shortcuts).map(((t,e)=>React.createElement(MenuItem,{active:this.props.selectedShortcutIndex===e,className:Classes.POPOVER_DISMISS_OVERRIDE,disabled:!this.isShortcutInRange(t.dateRange),key:e,onClick:this.getShorcutClickHandler(t,e),text:t.label})));return React.createElement(Menu,{className:DATERANGEPICKER_SHORTCUTS,tabIndex:0},t)}}function createShortcut(t,e){return{dateRange:e,label:t}}function createDefaultShortcuts(t,e,a){const r=new Date,s=t=>{const e=clone(r);return t(e),e.setDate(e.getDate()+1),e},o=s((()=>null)),c=s((t=>t.setDate(t.getDate()-2))),n=s((t=>t.setDate(t.getDate()-7))),u=s((t=>t.setMonth(t.getMonth()-1))),h=s((t=>t.setMonth(t.getMonth()-3))),l=s((t=>t.setMonth(t.getMonth()-6))),i=s((t=>t.setFullYear(t.getFullYear()-1))),S=s((t=>t.setFullYear(t.getFullYear()-2)));return[...t||a?[createShortcut("Today",[r,e?o:r]),createShortcut("Yesterday",[c,e?r:c])]:[],createShortcut(a?"1 week ago":"Past week",[n,r]),createShortcut(a?"1 month ago":"Past month",[u,r]),createShortcut(a?"3 months ago":"Past 3 months",[h,r]),...a?[]:[createShortcut("Past 6 months",[l,r])],createShortcut(a?"1 year ago":"Past year",[i,r]),...a?[]:[createShortcut("Past 2 years",[S,r])]]}Shortcuts.defaultProps={selectedShortcutIndex:-1};