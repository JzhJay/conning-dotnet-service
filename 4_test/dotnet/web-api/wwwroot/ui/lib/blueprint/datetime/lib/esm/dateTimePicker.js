import{__assign,__decorate,__extends}from"tslib";import classNames from"classnames";import*as React from"react";import{polyfill}from"react-lifecycles-compat";import{AbstractPureComponent2,DISPLAYNAME_PREFIX}from"@blueprintjs/core";import*as Classes from"./common/classes";import*as DateUtils from"./common/dateUtils";import{DatePicker}from"./datePicker";import{TimePicker}from"./timePicker";var DateTimePicker=function(e){function t(t,a){var s=e.call(this,t,a)||this;s.handleDateChange=function(e,t){var a,i;void 0===s.props.value&&s.setState({dateValue:e});var r=DateUtils.getDateTime(e,s.state.timeValue);null===(i=(a=s.props).onChange)||void 0===i||i.call(a,r,t)},s.handleTimeChange=function(e){var t,a;void 0===s.props.value&&s.setState({timeValue:e});var i=DateUtils.getDateTime(s.state.dateValue,e);null===(a=(t=s.props).onChange)||void 0===a||a.call(t,i,!0)};var i=void 0!==s.props.value?s.props.value:s.props.defaultValue;return s.state={dateValue:i,timeValue:i},s}return __extends(t,e),t.prototype.render=function(){var e=DateUtils.getDateTime(this.state.dateValue,this.state.timeValue);return React.createElement("div",{className:classNames(Classes.DATETIMEPICKER,this.props.className)},React.createElement(DatePicker,__assign({},this.props.datePickerProps,{canClearSelection:this.props.canClearSelection,onChange:this.handleDateChange,value:e})),React.createElement(TimePicker,__assign({},this.props.timePickerProps,{onChange:this.handleTimeChange,value:this.state.timeValue})))},t.prototype.componentDidUpdate=function(e){this.props.value!==e.value&&(null!=this.props.value?this.setState({dateValue:this.props.value,timeValue:this.props.value}):this.setState({dateValue:null}))},t.defaultProps={canClearSelection:!0,defaultValue:new Date},t.displayName=DISPLAYNAME_PREFIX+".DateTimePicker",__decorate([polyfill],t)}(AbstractPureComponent2);export{DateTimePicker};